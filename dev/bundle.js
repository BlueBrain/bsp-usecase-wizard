var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let u;function c(t,e){return u||(u=document.createElement("a")),u.href=e,t===u.href}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function d(t){let e;return l(t,(t=>e=t))(),e}function f(t,e,n){t.$$.on_destroy.push(l(e,n))}function h(t,e,n,r){if(t){const i=p(t,e,n,r);return t[0](i)}}function p(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function g(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function m(t,e,n,r,i,o){if(i){const s=p(e,n,r,o);t.p(s,i)}}function v(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function y(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function b(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function _(t,e,n){return t.set(n),e}function E(e){return e&&s(e.destroy)?e.destroy:t}const S="undefined"!=typeof window;let x=S?()=>window.performance.now():()=>Date.now(),w=S?t=>requestAnimationFrame(t):t;const I=new Set;function A(t){I.forEach((e=>{e.c(t)||(I.delete(e),e.f())})),0!==I.size&&w(A)}function F(t,e){t.appendChild(e)}function C(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function T(t){const e=R("style");return function(t,e){F(t.head||t,e)}(C(t),e),e.sheet}function $(t,e,n){t.insertBefore(e,n||null)}function L(t){t.parentNode.removeChild(t)}function k(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function R(t){return document.createElement(t)}function O(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function N(){return P(" ")}function D(){return P("")}function U(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function M(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function B(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function H(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:B(t,r,e[r])}function j(t,e){for(const n in e)B(t,n,e[n])}function V(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function q(t,e){t.value=null==e?"":e}function K(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function W(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}const z=new Map;let J,G=0;function Y(t,e,n,r,i,o,s,a=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*o(t);c+=100*t+`%{${s(r,1-r)}}\n`}const l=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${a}`,f=C(t),{stylesheet:h,rules:p}=z.get(f)||function(t,e){const n={stylesheet:T(e),rules:{}};return z.set(t,n),n}(f,t);p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${l}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${i}ms 1 both`,G+=1,d}function X(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),G-=i,G||w((()=>{G||(z.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),z.clear())})))}function Q(t){J=t}function Z(){if(!J)throw new Error("Function called outside component initialization");return J}function tt(t){Z().$$.on_mount.push(t)}function et(t){Z().$$.on_destroy.push(t)}function nt(){const t=Z();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=W(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function rt(t,e){return Z().$$.context.set(t,e),e}function it(t){return Z().$$.context.get(t)}function ot(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const st=[],at=[],ut=[],ct=[],lt=Promise.resolve();let dt=!1;function ft(){dt||(dt=!0,lt.then(yt))}function ht(t){ut.push(t)}function pt(t){ct.push(t)}const gt=new Set;let mt,vt=0;function yt(){const t=J;do{for(;vt<st.length;){const t=st[vt];vt++,Q(t),bt(t.$$)}for(Q(null),st.length=0,vt=0;at.length;)at.pop()();for(let t=0;t<ut.length;t+=1){const e=ut[t];gt.has(e)||(gt.add(e),e())}ut.length=0}while(st.length);for(;ct.length;)ct.pop()();dt=!1,gt.clear(),Q(t)}function bt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ht)}}function _t(t,e,n){t.dispatchEvent(W(`${e?"intro":"outro"}${n}`))}const Et=new Set;let St;function xt(){St={r:0,c:[],p:St}}function wt(){St.r||o(St.c),St=St.p}function It(t,e){t&&t.i&&(Et.delete(t),t.i(e))}function At(t,e,n,r){if(t&&t.o){if(Et.has(t))return;Et.add(t),St.c.push((()=>{Et.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Ft={duration:0};function Ct(n,r,i,a){let u=r(n,i),c=a?0:1,l=null,d=null,f=null;function h(){f&&X(n,f)}function p(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function g(r){const{delay:i=0,duration:s=300,easing:a=e,tick:g=t,css:m}=u||Ft,v={start:x()+i,b:r};r||(v.group=St,St.r+=1),l||d?d=v:(m&&(h(),f=Y(n,c,r,s,i,a,m)),r&&g(0,1),l=p(v,s),ht((()=>_t(n,r,"start"))),function(t){let e;0===I.size&&w(A),new Promise((n=>{I.add(e={c:t,f:n})}))}((t=>{if(d&&t>d.start&&(l=p(d,s),d=null,_t(n,l.b,"start"),m&&(h(),f=Y(n,c,l.b,l.duration,0,a,u.css))),l)if(t>=l.end)g(c=l.b,1-c),_t(n,l.b,"end"),d||(l.b?h():--l.group.r||o(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;c=l.a+l.d*a(e/l.duration),g(c,1-c)}return!(!l&&!d)})))}return{run(t){s(u)?(mt||(mt=Promise.resolve(),mt.then((()=>{mt=null}))),mt).then((()=>{u=u(),g(t)})):g(t)},end(){h(),l=d=null}}}const Tt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function $t(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Lt(t){return"object"==typeof t&&null!==t?t:{}}function kt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Rt(t){t&&t.c()}function Ot(t,e,n,i){const{fragment:a,on_mount:u,on_destroy:c,after_update:l}=t.$$;a&&a.m(e,n),i||ht((()=>{const e=u.map(r).filter(s);c?c.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(ht)}function Pt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Nt(e,n,r,s,a,u,c,l=[-1]){const d=J;Q(e);const f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:l,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let h=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),h&&function(t,e){-1===t.$$.dirty[0]&&(st.push(t),ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),h=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(L)}else f.fragment&&f.fragment.c();n.intro&&It(e.$$.fragment),Ot(e,n.target,n.anchor,n.customElement),yt()}Q(d)}class Dt{$destroy(){Pt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ut=[];function Mt(t,e){return{subscribe:Bt(t,e).subscribe}}function Bt(e,n=t){let r;const i=new Set;function o(t){if(a(e,t)&&(e=t,r)){const t=!Ut.length;for(const t of i)t[1](),Ut.push(t,e);if(t){for(let t=0;t<Ut.length;t+=2)Ut[t][0](Ut[t+1]);Ut.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=t){const u=[s,a];return i.add(u),1===i.size&&(r=n(o)||t),s(e),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}const Ht="urlParam",jt="selectedUsecase",Vt="returnFromLogin",qt="selectedCollab",Kt="selectedCategory",Wt="https://iam.ebrains.eu/auth/realms/hbp",zt="https://corsproxy.hbpneuromorphic.eu",Jt="https://drive.ebrains.eu/api2",Gt="CLS-INTERACTIVE-UC",Yt="CLS-INTERACTIVE-MODELS",Xt="models.json",Qt="https://lab.ebrains.eu/hub/user-redirect/git-pull?depth=0",Zt="&repo=",te="&urlpath=lab/tree",ee="&targetPath=/opt/app-root/src",ne="usecaseSelection",re="collabSelection",ie="modelSelection",oe={URL:"https://validation-v2.brainsimulation.eu/models/",HIPPOCAMPUS_QUERY:"?brain_region=hippocampus&organization=HBP-SP6&model_scope=single%20cell&species=Rattus%20norvegicus&collab_id=12027&size=1000000"},se={BREADCRUMB_PROPERTIES:["species","brain_region","cell_type","name"]},ae="https://raw.githubusercontent.com/ebrains-cls-interactive/usecases-info",ue={INFO_FILE_URL:`${ae}/develop/usecases-info.json`,JSON_SCHEMA_URL:`${ae}/develop/usecases-info.schema.json`,STATISTIC_URL:"https://docs.google.com/forms/u/1/d/e/1FAIpQLSeLKkgcY1yDb9gHjmFY-Ys8YH65wVhubdGfXUgudrRVIDtlqQ/formResponse"},ce={elevation:5},le=Bt({}),de=Bt(""),fe=Bt(!1),he=Bt({}),pe=Bt(ne),ge=Bt([]),me=Bt(""),ve=Mt(null,(function(t){return t("1.6.0"),function(){}})),ye=Bt(0),be=Bt(""),_e=Bt(""),Ee=Mt(null,(function(t){return t(14),function(){}}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Se(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xe,we={exports:{}};xe=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=22)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,s=void 0;(e.Log=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.reset=function(){s=3,o=i},t.debug=function(){if(s>=4){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.debug.apply(o,Array.from(e))}},t.info=function(){if(s>=3){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.info.apply(o,Array.from(e))}},t.warn=function(){if(s>=2){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.warn.apply(o,Array.from(e))}},t.error=function(){if(s>=1){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.error.apply(o,Array.from(e))}},r(t,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return s},set:function(t){if(!(0<=t&&t<=4))throw new Error("Invalid log level");s=t}},{key:"logger",get:function(){return o},set:function(t){if(!t.debug&&t.info&&(t.debug=t.info),!(t.debug&&t.info&&t.warn&&t.error))throw new Error("Invalid logger");o=t}}]),t}()).reset()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i={setInterval:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return setInterval(t,e)})),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return clearInterval(t)}))},o=!1,s=null;e.Global=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t._testing=function(){o=!0},t.setXMLHttpRequest=function(t){s=t},r(t,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return s||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataService=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(7);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=".well-known/openid-configuration";e.MetadataService=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(s(this,t),!e)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=e,this._jsonService=new n(["application/jwk-set+json"])}return t.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},t.prototype.getMetadata=function(){var t=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(e){i.Log.debug("MetadataService.getMetadata: json received");var n=t._settings.metadataSeed||{};return t._settings.metadata=Object.assign({},n,e),t._settings.metadata}))):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},t.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},t.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},t.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},t.prototype.getTokenEndpoint=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",t)},t.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},t.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},t.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},t.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},t.prototype._getMetadataProperty=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+t),this.getMetadata().then((function(n){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[t]){if(!0===e)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+t);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+t),new Error("Metadata does not contain property "+t)}return n[t]}))},t.prototype.getSigningKeys=function(){var t=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(e){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",e),t._jsonService.getJson(e).then((function(e){if(i.Log.debug("MetadataService.getSigningKeys: key set received",e),!e.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return t._settings.signingKeys=e.keys,t._settings.signingKeys}))}))},r(t,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(a)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=a))),this._metadataUrl}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.UrlUtility=void 0;var r=n(0),i=n(1);e.UrlUtility=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addQueryParam=function(t,e,n){return t.indexOf("?")<0&&(t+="?"),"?"!==t[t.length-1]&&(t+="&"),t+=encodeURIComponent(e),(t+="=")+encodeURIComponent(n)},t.parseUrlFragment=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof t&&(t=n.location.href);var o=t.lastIndexOf(e);o>=0&&(t=t.substr(o+1)),"?"===e&&(o=t.indexOf("#"))>=0&&(t=t.substr(0,o));for(var s,a={},u=/([^&=]+)=([^&]*)/g,c=0;s=u.exec(t);)if(a[decodeURIComponent(s[1])]=decodeURIComponent(s[2].replace(/\+/g," ")),c++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",t),{error:"Response exceeded expected number of parameters"};for(var l in a)return a;return{}},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.JoseUtil=void 0;var r=n(26),i=function(t){return t&&t.__esModule?t:{default:t}}(n(33));e.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),s=n(23),a=n(6),u=n(24),c=n(2);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=".well-known/openid-configuration",f="id_token",h="openid",p="client_secret_post";e.OidcClientSettings=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.authority,i=e.metadataUrl,o=e.metadata,d=e.signingKeys,g=e.metadataSeed,m=e.client_id,v=e.client_secret,y=e.response_type,b=void 0===y?f:y,_=e.scope,E=void 0===_?h:_,S=e.redirect_uri,x=e.post_logout_redirect_uri,w=e.client_authentication,I=void 0===w?p:w,A=e.prompt,F=e.display,C=e.max_age,T=e.ui_locales,$=e.acr_values,L=e.resource,k=e.response_mode,R=e.filterProtocolClaims,O=void 0===R||R,P=e.loadUserInfo,N=void 0===P||P,D=e.staleStateAge,U=void 0===D?900:D,M=e.clockSkew,B=void 0===M?300:M,H=e.clockService,j=void 0===H?new s.ClockService:H,V=e.userInfoJwtIssuer,q=void 0===V?"OP":V,K=e.mergeClaims,W=void 0!==K&&K,z=e.stateStore,J=void 0===z?new a.WebStorageStateStore:z,G=e.ResponseValidatorCtor,Y=void 0===G?u.ResponseValidator:G,X=e.MetadataServiceCtor,Q=void 0===X?c.MetadataService:X,Z=e.extraQueryParams,tt=void 0===Z?{}:Z,et=e.extraTokenParams,nt=void 0===et?{}:et;l(this,t),this._authority=n,this._metadataUrl=i,this._metadata=o,this._metadataSeed=g,this._signingKeys=d,this._client_id=m,this._client_secret=v,this._response_type=b,this._scope=E,this._redirect_uri=S,this._post_logout_redirect_uri=x,this._client_authentication=I,this._prompt=A,this._display=F,this._max_age=C,this._ui_locales=T,this._acr_values=$,this._resource=L,this._response_mode=k,this._filterProtocolClaims=!!O,this._loadUserInfo=!!N,this._staleStateAge=U,this._clockSkew=B,this._clockService=j,this._userInfoJwtIssuer=q,this._mergeClaims=!!W,this._stateStore=J,this._validator=new Y(this),this._metadataService=new Q(this),this._extraQueryParams="object"===(void 0===tt?"undefined":r(tt))?tt:{},this._extraTokenParams="object"===(void 0===nt?"undefined":r(nt))?nt:{}}return t.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(t,[{key:"client_id",get:function(){return this._client_id},set:function(t){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=t}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(t){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=t}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(d)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=d)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(t){this._metadata=t}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(t){this._metadataSeed=t}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(t){this._signingKeys=t}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(t){"object"===(void 0===t?"undefined":r(t))?this._extraQueryParams=t:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(t){"object"===(void 0===t?"undefined":r(t))?this._extraTokenParams=t:this._extraTokenParams={}}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.WebStorageStateStore=void 0;var r=n(0),i=n(1);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.WebStorageStateStore=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.prefix,r=void 0===n?"oidc.":n,s=e.store,a=void 0===s?i.Global.localStorage:s;o(this,t),this._store=a,this._prefix=r}return t.prototype.set=function(t,e){return r.Log.debug("WebStorageStateStore.set",t),t=this._prefix+t,this._store.setItem(t,e),Promise.resolve()},t.prototype.get=function(t){r.Log.debug("WebStorageStateStore.get",t),t=this._prefix+t;var e=this._store.getItem(t);return Promise.resolve(e)},t.prototype.remove=function(t){r.Log.debug("WebStorageStateStore.remove",t),t=this._prefix+t;var e=this._store.getItem(t);return this._store.removeItem(t),Promise.resolve(e)},t.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var t=[],e=0;e<this._store.length;e++){var n=this._store.key(e);0===n.indexOf(this._prefix)&&t.push(n.substr(this._prefix.length))}return Promise.resolve(t)},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.JsonService=void 0;var r=n(0),i=n(1);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.JsonService=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,t),e&&Array.isArray(e)?this._contentTypes=e.slice():this._contentTypes=[],this._contentTypes.push("application/json"),r&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=r}return t.prototype.getJson=function(t,e){var n=this;if(!t)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",t),new Promise((function(i,o){var s=new n._XMLHttpRequest;s.open("GET",t);var a=n._contentTypes,u=n._jwtHandler;s.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",s.status),200===s.status){var e=s.getResponseHeader("Content-Type");if(e){var n=a.find((function(t){if(e.startsWith(t))return!0}));if("application/jwt"==n)return void u(s).then(i,o);if(n)try{return void i(JSON.parse(s.responseText))}catch(t){return r.Log.error("JsonService.getJson: Error parsing JSON response",t.message),void o(t)}}o(Error("Invalid response Content-Type: "+e+", from URL: "+t))}else o(Error(s.statusText+" ("+s.status+")"))},s.onerror=function(){r.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},e&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),s.setRequestHeader("Authorization","Bearer "+e)),s.send()}))},t.prototype.postForm=function(t,e,n){var i=this;if(!t)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",t),new Promise((function(o,s){var a=new i._XMLHttpRequest;a.open("POST",t);var u=i._contentTypes;a.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",a.status),200!==a.status){if(400===a.status&&(n=a.getResponseHeader("Content-Type"))&&u.find((function(t){if(n.startsWith(t))return!0})))try{var e=JSON.parse(a.responseText);if(e&&e.error)return r.Log.error("JsonService.postForm: Error from server: ",e.error),void s(new Error(e.error))}catch(t){return r.Log.error("JsonService.postForm: Error parsing JSON response",t.message),void s(t)}s(Error(a.statusText+" ("+a.status+")"))}else{var n;if((n=a.getResponseHeader("Content-Type"))&&u.find((function(t){if(n.startsWith(t))return!0})))try{return void o(JSON.parse(a.responseText))}catch(t){return r.Log.error("JsonService.postForm: Error parsing JSON response",t.message),void s(t)}s(Error("Invalid response Content-Type: "+n+", from URL: "+t))}},a.onerror=function(){r.Log.error("JsonService.postForm: network error"),s(Error("Network Error"))};var c="";for(var l in e){var d=e[l];d&&(c.length>0&&(c+="&"),c+=encodeURIComponent(l),c+="=",c+=encodeURIComponent(d))}a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==n&&a.setRequestHeader("Authorization","Basic "+btoa(n)),a.send(c)}))},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SigninRequest=void 0;var r=n(0),i=n(3),o=n(13);e.SigninRequest=function(){function t(e){var n=e.url,s=e.client_id,a=e.redirect_uri,u=e.response_type,c=e.scope,l=e.authority,d=e.data,f=e.prompt,h=e.display,p=e.max_age,g=e.ui_locales,m=e.id_token_hint,v=e.login_hint,y=e.acr_values,b=e.resource,_=e.response_mode,E=e.request,S=e.request_uri,x=e.extraQueryParams,w=e.request_type,I=e.client_secret,A=e.extraTokenParams,F=e.skipUserInfo;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!n)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!s)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!a)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!u)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!l)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var C=t.isOidc(u),T=t.isCode(u);_||(_=t.isCode(u)?"query":null),this.state=new o.SigninState({nonce:C,data:d,client_id:s,authority:l,redirect_uri:a,code_verifier:T,request_type:w,response_mode:_,client_secret:I,scope:c,extraTokenParams:A,skipUserInfo:F}),n=i.UrlUtility.addQueryParam(n,"client_id",s),n=i.UrlUtility.addQueryParam(n,"redirect_uri",a),n=i.UrlUtility.addQueryParam(n,"response_type",u),n=i.UrlUtility.addQueryParam(n,"scope",c),n=i.UrlUtility.addQueryParam(n,"state",this.state.id),C&&(n=i.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),T&&(n=i.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=i.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var $={prompt:f,display:h,max_age:p,ui_locales:g,id_token_hint:m,login_hint:v,acr_values:y,resource:b,request:E,request_uri:S,response_mode:_};for(var L in $)$[L]&&(n=i.UrlUtility.addQueryParam(n,L,$[L]));for(var k in x)n=i.UrlUtility.addQueryParam(n,k,x[k]);this.url=n}return t.isOidc=function(t){return!!t.split(/\s+/g).filter((function(t){return"id_token"===t}))[0]},t.isOAuth=function(t){return!!t.split(/\s+/g).filter((function(t){return"token"===t}))[0]},t.isCode=function(t){return!!t.split(/\s+/g).filter((function(t){return"code"===t}))[0]},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(n(14));function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.State=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,r=e.data,i=e.created,a=e.request_type;s(this,t),this._id=n||(0,o.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=a}return t.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},t.fromStorageString=function(e){return i.Log.debug("State.fromStorageString"),new t(JSON.parse(e))},t.clearStaleState=function(e,n){var r=Date.now()/1e3-n;return e.getAllKeys().then((function(n){i.Log.debug("State.clearStaleState: got keys",n);for(var o=[],s=function(s){var a=n[s];u=e.get(a).then((function(n){var o=!1;if(n)try{var s=t.fromStorageString(n);i.Log.debug("State.clearStaleState: got item from key: ",a,s.created),s.created<=r&&(o=!0)}catch(t){i.Log.error("State.clearStaleState: Error parsing state for key",a,t.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",a),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",a),e.remove(a)})),o.push(u)},a=0;a<n.length;a++){var u;s(a)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)}))},r(t,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClient=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(5),s=n(12),a=n(8),u=n(34),c=n(35),l=n(36),d=n(13),f=n(9);function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.OidcClient=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,t),e instanceof o.OidcClientSettings?this._settings=e:this._settings=new o.OidcClientSettings(e)}return t.prototype.createSigninRequest=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.response_type,r=e.scope,o=e.redirect_uri,s=e.data,u=e.state,c=e.prompt,l=e.display,d=e.max_age,f=e.ui_locales,h=e.id_token_hint,p=e.login_hint,g=e.acr_values,m=e.resource,v=e.request,y=e.request_uri,b=e.response_mode,_=e.extraQueryParams,E=e.extraTokenParams,S=e.request_type,x=e.skipUserInfo,w=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var I=this._settings.client_id;n=n||this._settings.response_type,r=r||this._settings.scope,o=o||this._settings.redirect_uri,c=c||this._settings.prompt,l=l||this._settings.display,d=d||this._settings.max_age,f=f||this._settings.ui_locales,g=g||this._settings.acr_values,m=m||this._settings.resource,b=b||this._settings.response_mode,_=_||this._settings.extraQueryParams,E=E||this._settings.extraTokenParams;var A=this._settings.authority;return a.SigninRequest.isCode(n)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(e){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",e);var F=new a.SigninRequest({url:e,client_id:I,redirect_uri:o,response_type:n,scope:r,data:s||u,authority:A,prompt:c,display:l,max_age:d,ui_locales:f,id_token_hint:h,login_hint:p,acr_values:g,resource:m,request:v,request_uri:y,extraQueryParams:_,extraTokenParams:E,request_type:S,response_mode:b,client_secret:t._settings.client_secret,skipUserInfo:x}),C=F.state;return(w=w||t._stateStore).set(C.id,C.toStorageString()).then((function(){return F}))}))},t.prototype.readSigninResponseState=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&a.SigninRequest.isCode(this._settings.response_type),o=r?"?":"#",s=new u.SigninResponse(t,o);if(!s.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));e=e||this._stateStore;var c=n?e.remove.bind(e):e.get.bind(e);return c(s.state).then((function(t){if(!t)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.SigninState.fromStorageString(t),response:s}}))},t.prototype.processSigninResponse=function(t,e){var n=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(t,e,!0).then((function(t){var e=t.state,r=t.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(e,r)}))},t.prototype.createSignoutRequest=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id_token_hint,r=e.data,o=e.state,s=e.post_logout_redirect_uri,a=e.extraQueryParams,u=e.request_type,l=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),s=s||this._settings.post_logout_redirect_uri,a=a||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(e){if(!e)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",e);var d=new c.SignoutRequest({url:e,id_token_hint:n,post_logout_redirect_uri:s,data:r||o,extraQueryParams:a,request_type:u}),f=d.state;return f&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(l=l||t._stateStore).set(f.id,f.toStorageString())),d}))},t.prototype.readSignoutResponseState=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var r=new l.SignoutResponse(t);if(!r.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new s.ErrorResponse(r))):Promise.resolve({state:void 0,response:r});var o=r.state;e=e||this._stateStore;var a=n?e.remove.bind(e):e.get.bind(e);return a(o).then((function(t){if(!t)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.State.fromStorageString(t),response:r}}))},t.prototype.processSignoutResponse=function(t,e){var n=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(t,e,!0).then((function(t){var e=t.state,r=t.response;return e?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(e,r)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),r)}))},t.prototype.clearStaleState=function(t){return i.Log.debug("OidcClient.clearStaleState"),t=t||this._stateStore,f.State.clearStaleState(t,this.settings.staleStateAge)},r(t,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TokenClient=void 0;var r=n(7),i=n(2),o=n(0);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.TokenClient=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(s(this,t),!e)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=e,this._jsonService=new n,this._metadataService=new a(this._settings)}return t.prototype.exchangeCode=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).grant_type=e.grant_type||"authorization_code",e.client_id=e.client_id||this._settings.client_id,e.client_secret=e.client_secret||this._settings.client_secret,e.redirect_uri=e.redirect_uri||this._settings.redirect_uri;var n=void 0,r=e._client_authentication||this._settings._client_authentication;return delete e._client_authentication,e.code?e.redirect_uri?e.code_verifier?e.client_id?e.client_secret||"client_secret_basic"!=r?("client_secret_basic"==r&&(n=e.client_id+":"+e.client_secret,delete e.client_id,delete e.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),t._jsonService.postForm(r,e,n).then((function(t){return o.Log.debug("TokenClient.exchangeCode: response received"),t}))}))):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},t.prototype.exchangeRefreshToken=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).grant_type=e.grant_type||"refresh_token",e.client_id=e.client_id||this._settings.client_id,e.client_secret=e.client_secret||this._settings.client_secret;var n=void 0,r=e._client_authentication||this._settings._client_authentication;return delete e._client_authentication,e.refresh_token?e.client_id?("client_secret_basic"==r&&(n=e.client_id+":"+e.client_secret,delete e.client_id,delete e.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),t._jsonService.postForm(r,e,n).then((function(t){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),t}))}))):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorResponse=void 0;var r=n(0);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.ErrorResponse=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.error,a=n.error_description,u=n.error_uri,c=n.state,l=n.session_state;if(i(this,e),!s)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var d=o(this,t.call(this,a||s));return d.name="ErrorResponse",d.error=s,d.error_description=a,d.error_uri=u,d.state=c,d.session_state=l,d}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(Error)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SigninState=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(9),s=n(4),a=function(t){return t&&t.__esModule?t:{default:t}}(n(14));function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.SigninState=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,i=n.authority,o=n.client_id,l=n.redirect_uri,d=n.code_verifier,f=n.response_mode,h=n.client_secret,p=n.scope,g=n.extraTokenParams,m=n.skipUserInfo;u(this,e);var v=c(this,t.call(this,arguments[0]));if(!0===r?v._nonce=(0,a.default)():r&&(v._nonce=r),!0===d?v._code_verifier=(0,a.default)()+(0,a.default)()+(0,a.default)():d&&(v._code_verifier=d),v.code_verifier){var y=s.JoseUtil.hashString(v.code_verifier,"SHA256");v._code_challenge=s.JoseUtil.hexToBase64Url(y)}return v._redirect_uri=l,v._authority=i,v._client_id=o,v._response_mode=f,v._client_secret=h,v._scope=p,v._extraTokenParams=g,v._skipUserInfo=m,v}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},e.fromStorageString=function(t){return i.Log.debug("SigninState.fromStorageString"),new e(JSON.parse(t))},r(e,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),e}(o.State)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return("undefined"!=r&&null!==r&&void 0!==r.getRandomValues?i:o)().replace(/-/g,"")};var r="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^r.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))}function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^16*Math.random()>>t/4).toString(16)}))}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.User=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.User=function(){function t(e){var n=e.id_token,r=e.session_state,i=e.access_token,o=e.refresh_token,s=e.token_type,a=e.scope,u=e.profile,c=e.expires_at,l=e.state;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id_token=n,this.session_state=r,this.access_token=i,this.refresh_token=o,this.token_type=s,this.scope=a,this.profile=u,this.expires_at=c,this.state=l}return t.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},t.fromStorageString=function(e){return i.Log.debug("User.fromStorageString"),new t(JSON.parse(e))},r(t,[{key:"expires_in",get:function(){if(this.expires_at){var t=parseInt(Date.now()/1e3);return this.expires_at-t}},set:function(t){var e=parseInt(t);if("number"==typeof e&&e>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+e}}},{key:"expired",get:function(){var t=this.expires_in;if(void 0!==t)return t<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AccessTokenEvents=void 0;var r=n(0),i=n(46);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.AccessTokenEvents=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.accessTokenExpiringNotificationTime,r=void 0===n?60:n,s=e.accessTokenExpiringTimer,a=void 0===s?new i.Timer("Access token expiring"):s,u=e.accessTokenExpiredTimer,c=void 0===u?new i.Timer("Access token expired"):u;o(this,t),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=a,this._accessTokenExpired=c}return t.prototype.load=function(t){if(t.access_token&&void 0!==t.expires_in){var e=t.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",e),e>0){var n=e-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=e+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.addAccessTokenExpiring=function(t){this._accessTokenExpiring.addHandler(t)},t.prototype.removeAccessTokenExpiring=function(t){this._accessTokenExpiring.removeHandler(t)},t.prototype.addAccessTokenExpired=function(t){this._accessTokenExpired.addHandler(t)},t.prototype.removeAccessTokenExpired=function(t){this._accessTokenExpired.removeHandler(t)},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;var r=n(0);e.Event=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._callbacks=[]}return t.prototype.addHandler=function(t){this._callbacks.push(t)},t.prototype.removeHandler=function(t){var e=this._callbacks.findIndex((function(e){return e===t}));e>=0&&this._callbacks.splice(e,1)},t.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var t=0;t<this._callbacks.length;t++){var e;(e=this._callbacks)[t].apply(e,arguments)}},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SessionMonitor=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(19),s=n(1);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.SessionMonitor=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Global.timer;if(a(this,t),!e)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=e,this._CheckSessionIFrameCtor=r,this._timer=u,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(t){t?n._start(t):n._settings.monitorAnonymousSession&&n._userManager.querySessionStatus().then((function(t){var e={session_state:t.session_state};t.sub&&t.sid&&(e.profile={sub:t.sub,sid:t.sid}),n._start(e)})).catch((function(t){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",t.message)}))})).catch((function(t){i.Log.error("SessionMonitor ctor: error from getUser:",t.message)})))}return t.prototype._start=function(t){var e=this,n=t.session_state;n&&(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",n,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then((function(t){if(t){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=e._client_id,o=e._checkSessionInterval,s=e._stopCheckSessionOnError;e._checkSessionIFrame=new e._CheckSessionIFrameCtor(e._callback.bind(e),r,t,o,s),e._checkSessionIFrame.load().then((function(){e._checkSessionIFrame.start(n)}))}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(t){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",t.message)})))},t.prototype._stop=function(){var t=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var e=this._timer.setInterval((function(){t._timer.clearInterval(e),t._userManager.querySessionStatus().then((function(e){var n={session_state:e.session_state};e.sub&&e.sid&&(n.profile={sub:e.sub,sid:e.sid}),t._start(n)})).catch((function(t){i.Log.error("SessionMonitor: error from querySessionStatus:",t.message)}))}),1e3)},t.prototype._callback=function(){var t=this;this._userManager.querySessionStatus().then((function(e){var n=!0;e?e.sub===t._sub?(n=!1,t._checkSessionIFrame.start(e.session_state),e.sid===t._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",e.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",e.session_state),t._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",e.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(t._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),t._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),t._userManager.events._raiseUserSignedIn()))})).catch((function(e){t._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",e.message),t._userManager.events._raiseUserSignedOut())}))},r(t,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CheckSessionIFrame=void 0;var r=n(0);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.CheckSessionIFrame=function(){function t(e,n,r,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i(this,t),this._callback=e,this._client_id=n,this._url=r,this._interval=o||2e3,this._stopOnError=s;var a=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,a),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=r}return t.prototype.load=function(){var t=this;return new Promise((function(e){t._frame.onload=function(){e()},window.document.body.appendChild(t._frame),t._boundMessageEvent=t._message.bind(t),window.addEventListener("message",t._boundMessageEvent,!1)}))},t.prototype._message=function(t){t.origin===this._frame_origin&&t.source===this._frame.contentWindow&&("error"===t.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===t.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+t.data+" message from check session op iframe"))},t.prototype.start=function(t){var e=this;if(this._session_state!==t){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=t;var n=function(){e._frame.contentWindow.postMessage(e._client_id+" "+e._session_state,e._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},t.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TokenRevocationClient=void 0;var r=n(0),i=n(2),o=n(1);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a="access_token",u="refresh_token";e.TokenRevocationClient=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(s(this,t),!e)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=e,this._XMLHttpRequestCtor=n,this._metadataService=new a(this._settings)}return t.prototype.revoke=function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!t)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(i!==a&&i!=u)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(o){if(o){r.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var s=n._settings.client_id,a=n._settings.client_secret;return n._revoke(o,s,a,t,i)}if(e)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},t.prototype._revoke=function(t,e,n,i,o){var s=this;return new Promise((function(a,u){var c=new s._XMLHttpRequestCtor;c.open("POST",t),c.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",c.status),200===c.status?a():u(Error(c.statusText+" ("+c.status+")"))},c.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),u("Network Error")};var l="client_id="+encodeURIComponent(e);n&&(l+="&client_secret="+encodeURIComponent(n)),l+="&token_type_hint="+encodeURIComponent(o),l+="&token="+encodeURIComponent(i),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(l)}))},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaPopupWindow=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.CordovaPopupWindow=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise((function(t,e){n._resolve=t,n._reject=e})),this.features=e.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=e.popupWindowTarget||"_blank",this.redirect_uri=e.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return t.prototype._isInAppBrowserInstalled=function(t){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(e){return t.hasOwnProperty(e)}))},t.prototype.navigate=function(t){if(t&&t.url){if(!window.cordova)return this._error("cordova is undefined");var e=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(e))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(t.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},t.prototype._loadStartCallback=function(t){0===t.url.indexOf(this.redirect_uri)&&this._success({url:t.url})},t.prototype._exitCallback=function(t){this._error(t)},t.prototype._success=function(t){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),i.Log.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup()},t.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(t,[{key:"promise",get:function(){return this._promise}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(10),o=n(5),s=n(6),a=n(37),u=n(38),c=n(16),l=n(2),d=n(48),f=n(49),h=n(19),p=n(20),g=n(18),m=n(1),v=n(15),y=n(50);e.default={Version:y.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:s.WebStorageStateStore,InMemoryWebStorage:a.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:l.MetadataService,CordovaPopupNavigator:d.CordovaPopupNavigator,CordovaIFrameNavigator:f.CordovaIFrameNavigator,CheckSessionIFrame:h.CheckSessionIFrame,TokenRevocationClient:p.TokenRevocationClient,SessionMonitor:g.SessionMonitor,Global:m.Global,User:v.User},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ClockService=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(0),o=n(2),s=n(25),a=n(11),u=n(12),c=n(4);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];e.ResponseValidator=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.TokenClient;if(l(this,t),!e)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=e,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=u,this._tokenClient=new d(this._settings)}return t.prototype.validateSigninResponse=function(t,e){var n=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(t,e).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(t,e).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(t,e).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),t}))}))}))},t.prototype.validateSignoutResponse=function(t,e){return t.id!==e.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),e.state=t.data,e.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",e.error),Promise.reject(new u.ErrorResponse(e))):Promise.resolve(e))},t.prototype._processSigninParams=function(t,e){if(t.id!==e.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!t.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!t.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==t.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=t.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==t.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=t.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),e.state=t.data,e.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",e.error),Promise.reject(new u.ErrorResponse(e))):t.nonce&&!e.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!t.nonce&&e.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):t.code_verifier&&!e.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!t.code_verifier&&e.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(e.scope||(e.scope=t.scope),Promise.resolve(e))},t.prototype._processClaims=function(t,e){var n=this;if(e.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),e.profile=this._filterProtocolClaims(e.profile),!0!==t.skipUserInfo&&this._settings.loadUserInfo&&e.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(e.access_token).then((function(t){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),t.sub!==e.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(e.profile=n._mergeClaims(e.profile,t),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",e.profile),e)}));i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(e)},t.prototype._mergeClaims=function(t,e){var n=Object.assign({},t);for(var i in e){var o=e[i];Array.isArray(o)||(o=[o]);for(var s=0;s<o.length;s++){var a=o[s];n[i]?Array.isArray(n[i])?n[i].indexOf(a)<0&&n[i].push(a):n[i]!==a&&("object"===(void 0===a?"undefined":r(a))&&this._settings.mergeClaims?n[i]=this._mergeClaims(n[i],a):n[i]=[n[i],a]):n[i]=a}}return n},t.prototype._filterProtocolClaims=function(t){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",t);var e=Object.assign({},t);return this._settings._filterProtocolClaims?(d.forEach((function(t){delete e[t]})),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",e)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),e},t.prototype._validateTokens=function(t,e){return e.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(t,e)):e.id_token?e.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(t,e)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(t,e)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(e))},t.prototype._processCode=function(t,e){var n=this,o={client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier};return t.extraTokenParams&&"object"===r(t.extraTokenParams)&&Object.assign(o,t.extraTokenParams),this._tokenClient.exchangeCode(o).then((function(r){for(var o in r)e[o]=r[o];return e.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(t,e)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),e)}))},t.prototype._validateIdTokenAttributes=function(t,e){var n=this;return this._metadataService.getIssuer().then((function(r){var o=t.client_id,s=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",s),n._settings.getEpochTime().then((function(a){return n._joseUtil.validateJwtAttributes(e.id_token,r,o,s,a).then((function(n){return t.nonce&&t.nonce!==n.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(e.profile=n,e):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},t.prototype._validateIdTokenAndAccessToken=function(t,e){var n=this;return this._validateIdToken(t,e).then((function(t){return n._validateAccessToken(t)}))},t.prototype._getSigningKeyForJwt=function(t){var e=this;return this._metadataService.getSigningKeys().then((function(n){var r=t.header.kid;if(!n)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var o=void 0;if(r)o=n.filter((function(t){return t.kid===r}))[0];else{if((n=e._filterByAlg(n,t.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));o=n[0]}return Promise.resolve(o)}))},t.prototype._getSigningKeyForJwtWithSingleRetry=function(t){var e=this;return this._getSigningKeyForJwt(t).then((function(n){return n?Promise.resolve(n):(e._metadataService.resetSigningKeys(),e._getSigningKeyForJwt(t))}))},t.prototype._validateIdToken=function(t,e){var n=this;if(!t.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(e.id_token);return r&&r.header&&r.payload?t.nonce!==r.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(o){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._getSigningKeyForJwtWithSingleRetry(r).then((function(s){if(!s)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var a=t.client_id,u=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",u),n._joseUtil.validateJwt(e.id_token,s,o,a,u).then((function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(e.profile=r.payload,e):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token")))},t.prototype._filterByAlg=function(t,e){var n=null;if(e.startsWith("RS"))n="RSA";else if(e.startsWith("PS"))n="PS";else{if(!e.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",e),[];n="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),t=t.filter((function(t){return t.kty===n})),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,t.length),t},t.prototype._validateAccessToken=function(t){if(!t.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!t.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!t.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var e=this._joseUtil.parseJwt(t.id_token);if(!e||!e.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",e),Promise.reject(new Error("Failed to parse id_token"));var n=e.header.alg;if(!n||5!==n.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var o="sha"+r,s=this._joseUtil.hashString(t.access_token,o);if(!s)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var a=s.substr(0,s.length/2),u=this._joseUtil.hexToBase64Url(a);return u!==t.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",u,t.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(t))},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.UserInfoService=void 0;var r=n(7),i=n(2),o=n(0),s=n(4);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.UserInfoService=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.JoseUtil;if(a(this,t),!e)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=e,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new u(this._settings),this._joseUtil=c}return t.prototype.getClaims=function(t){var e=this;return t?this._metadataService.getUserInfoEndpoint().then((function(n){return o.Log.debug("UserInfoService.getClaims: received userinfo url",n),e._jsonService.getJson(n,t).then((function(t){return o.Log.debug("UserInfoService.getClaims: claims received",t),t}))})):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},t.prototype._getClaimsFromJwt=function t(e){var n=this;try{var r=this._joseUtil.parseJwt(e.responseText);if(!r||!r.header||!r.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",r),Promise.reject(new Error("Failed to parse id_token"));var i=r.header.kid,s=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":s=this._metadataService.getIssuer();break;case"ANY":s=Promise.resolve(r.payload.iss);break;default:s=Promise.resolve(this._settings.userInfoJwtIssuer)}return s.then((function(t){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+t),n._metadataService.getSigningKeys().then((function(s){if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var a=void 0;if(i)a=s.filter((function(t){return t.kid===i}))[0];else{if((s=n._filterByAlg(s,r.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));a=s[0]}if(!a)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=n._settings.client_id,c=n._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(e.responseText,a,t,u,c,void 0,!0).then((function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),r.payload}))}))}))}catch(t){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",t.message),void reject(t)}},t.prototype._filterByAlg=function(t,e){var n=null;if(e.startsWith("RS"))n="RSA";else if(e.startsWith("PS"))n="PS";else{if(!e.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",e),[];n="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),t=t.filter((function(t){return t.kty===n})),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,t.length),t},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AllowedSigningAlgs=e.b64tohex=e.hextob64u=e.crypto=e.X509=e.KeyUtil=e.jws=void 0;var r=n(27);e.jws=r.jws,e.KeyUtil=r.KEYUTIL,e.X509=r.X509,e.crypto=r.crypto,e.hextob64u=r.hextob64u,e.b64tohex=r.b64tohex,e.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={userAgent:!1},i={};
/*!
    	Copyright (c) 2011, Yahoo! Inc. All rights reserved.
    	Code licensed under the BSD License:
    	http://developer.yahoo.com/yui/license.html
    	version: 2.9.0
    	*/if(void 0===o)var o={};o.lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var o;for(o in n)t.prototype[o]=n[o];var s=function(){},a=["toString","valueOf"];try{/MSIE/.test(r.userAgent)&&(s=function(t,e){for(o=0;o<a.length;o+=1){var n=a[o],r=e[n];"function"==typeof r&&r!=Object.prototype[n]&&(t[n]=r)}})}catch(t){}s(t.prototype,n)}}};
/*! CryptoJS v3.1.2 core-fix.js
    	 * code.google.com/p/crypto-js
    	 * (c) 2009-2013 by Jeff Mott. All rights reserved.
    	 * code.google.com/p/crypto-js/wiki/License
    	 * THIS IS FIX of 'core.js' to fix Hmac issue.
    	 * https://code.google.com/p/crypto-js/issues/detail?id=84
    	 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
    	 */
var s,a,u,c,l,d,f,h,p,g,m,v=v||(s=Math,u=(a={}).lib={},c=u.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=u.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=s.ceil(e/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(4294967296*s.random()|0);return new l.init(e,t)}}),d=a.enc={},f=d.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new l.init(n,e/2)}},h=d.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new l.init(n,e)}},p=d.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,r=e.sigBytes,i=this.blockSize,o=r/(4*i),a=(o=t?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*i,u=s.min(4*a,r);if(a){for(var c=0;c<a;c+=i)this._doProcessBlock(n,c);var d=n.splice(0,a);e.sigBytes-=u}return new l.init(d,u)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),u.Hasher=g.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new m.HMAC.init(t,n).finalize(e)}}}),m=a.algo={},a);!function(t){var e,n=(e=v).lib,r=n.Base,i=n.WordArray;(e=e.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),e.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var o=t[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}})}(),function(){var t=v,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp(),t=[];for(var i=0;i<n;i+=3)for(var o=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)t.push(r.charAt(o>>>6*(3-s)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,r=this._map;(i=r.charAt(64))&&-1!=(i=t.indexOf(i))&&(n=i);for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(t.charAt(s-1))<<s%4*2,u=r.indexOf(t.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return e.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){for(var e=v,n=(i=e.lib).WordArray,r=i.Hasher,i=e.algo,o=[],s=[],a=function(t){return 4294967296*(t-(0|t))|0},u=2,c=0;64>c;){var l;t:{l=u;for(var d=t.sqrt(l),f=2;f<=d;f++)if(!(l%f)){l=!1;break t}l=!0}l&&(8>c&&(o[c]=a(t.pow(u,.5))),s[c]=a(t.pow(u,1/3)),c++),u++}var h=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],c=n[5],l=n[6],d=n[7],f=0;64>f;f++){if(16>f)h[f]=0|t[e+f];else{var p=h[f-15],g=h[f-2];h[f]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+h[f-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+h[f-16]}p=d+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+s[f]+h[f],g=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),d=l,l=c,c=u,u=a+p|0,a=o,o=i,i=r,r=p+g|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA256=r._createHelper(i),e.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function t(){return r.create.apply(r,arguments)}for(var e=v,n=e.lib.Hasher,r=(o=e.x64).Word,i=o.WordArray,o=e.algo,s=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=t();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=(d=this._hash.words)[0],r=d[1],i=d[2],o=d[3],u=d[4],c=d[5],l=d[6],d=d[7],f=n.high,h=n.low,p=r.high,g=r.low,m=i.high,v=i.low,y=o.high,b=o.low,_=u.high,E=u.low,S=c.high,x=c.low,w=l.high,I=l.low,A=d.high,F=d.low,C=f,T=h,$=p,L=g,k=m,R=v,O=y,P=b,N=_,D=E,U=S,M=x,B=w,H=I,j=A,V=F,q=0;80>q;q++){var K=a[q];if(16>q)var W=K.high=0|t[e+2*q],z=K.low=0|t[e+2*q+1];else{W=((z=(W=a[q-15]).high)>>>1|(J=W.low)<<31)^(z>>>8|J<<24)^z>>>7;var J=(J>>>1|z<<31)^(J>>>8|z<<24)^(J>>>7|z<<25),G=((z=(G=a[q-2]).high)>>>19|(Y=G.low)<<13)^(z<<3|Y>>>29)^z>>>6,Y=(Y>>>19|z<<13)^(Y<<3|z>>>29)^(Y>>>6|z<<26),X=(z=a[q-7]).high,Q=(Z=a[q-16]).high,Z=Z.low;W=(W=(W=W+X+((z=J+z.low)>>>0<J>>>0?1:0))+G+((z+=Y)>>>0<Y>>>0?1:0))+Q+((z+=Z)>>>0<Z>>>0?1:0),K.high=W,K.low=z}X=N&U^~N&B,Z=D&M^~D&H,K=C&$^C&k^$&k;var tt=T&L^T&R^L&R,et=(J=(C>>>28|T<<4)^(C<<30|T>>>2)^(C<<25|T>>>7),G=(T>>>28|C<<4)^(T<<30|C>>>2)^(T<<25|C>>>7),(Y=s[q]).high),nt=Y.low;Q=j+((N>>>14|D<<18)^(N>>>18|D<<14)^(N<<23|D>>>9))+((Y=V+((D>>>14|N<<18)^(D>>>18|N<<14)^(D<<23|N>>>9)))>>>0<V>>>0?1:0),j=B,V=H,B=U,H=M,U=N,M=D,N=O+(Q=(Q=(Q=Q+X+((Y+=Z)>>>0<Z>>>0?1:0))+et+((Y+=nt)>>>0<nt>>>0?1:0))+W+((Y+=z)>>>0<z>>>0?1:0))+((D=P+Y|0)>>>0<P>>>0?1:0)|0,O=k,P=R,k=$,R=L,$=C,L=T,C=Q+(K=J+K+((z=G+tt)>>>0<G>>>0?1:0))+((T=Y+z|0)>>>0<Y>>>0?1:0)|0}h=n.low=h+T,n.high=f+C+(h>>>0<T>>>0?1:0),g=r.low=g+L,r.high=p+$+(g>>>0<L>>>0?1:0),v=i.low=v+R,i.high=m+k+(v>>>0<R>>>0?1:0),b=o.low=b+P,o.high=y+O+(b>>>0<P>>>0?1:0),E=u.low=E+D,u.high=_+N+(E>>>0<D>>>0?1:0),x=c.low=x+M,c.high=S+U+(x>>>0<M>>>0?1:0),I=l.low=I+H,l.high=w+B+(I>>>0<H>>>0?1:0),F=d.low=F+V,d.high=A+j+(F>>>0<V>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=n._createHelper(o),e.HmacSHA512=n._createHmacHelper(o)}(),function(){var t=v,e=(i=t.x64).Word,n=i.WordArray,r=(i=t.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=r._createHelper(i),t.HmacSHA384=r._createHmacHelper(i)}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
    	 */
var y,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function _(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=b.charAt(n>>6)+b.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=b.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=b.charAt(n>>2)+b.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function E(t){var e,n,r,i="",o=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e)(r=b.indexOf(t.charAt(e)))<0||(0==o?(i+=C(r>>2),n=3&r,o=1):1==o?(i+=C(n<<2|r>>4),n=15&r,o=2):2==o?(i+=C(n),i+=C(r>>2),n=3&r,o=3):(i+=C(n<<2|r>>4),i+=C(15&r),o=0));return 1==o&&(i+=C(n<<2)),i}function S(t){var e,n=E(t),r=new Array;for(e=0;2*e<n.length;++e)r[e]=parseInt(n.substring(2*e,2*e+2),16);return r}function x(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function w(){return new x(null)}"Microsoft Internet Explorer"==r.appName?(x.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},y=30):"Netscape"!=r.appName?(x.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},y=26):(x.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},y=28),x.prototype.DB=y,x.prototype.DM=(1<<y)-1,x.prototype.DV=1<<y,x.prototype.FV=Math.pow(2,52),x.prototype.F1=52-y,x.prototype.F2=2*y-52;var I,A,F=new Array;for(I="0".charCodeAt(0),A=0;A<=9;++A)F[I++]=A;for(I="a".charCodeAt(0),A=10;A<36;++A)F[I++]=A;for(I="A".charCodeAt(0),A=10;A<36;++A)F[I++]=A;function C(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function T(t,e){var n=F[t.charCodeAt(e)];return null==n?-1:n}function $(t){var e=w();return e.fromInt(t),e}function L(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function k(t){this.m=t}function R(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function O(t,e){return t&e}function P(t,e){return t|e}function N(t,e){return t^e}function D(t,e){return t&~e}function U(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function M(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function B(){}function H(t){return t}function j(t){this.r2=w(),this.q3=w(),x.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}k.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},k.prototype.revert=function(t){return t},k.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},k.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},k.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},R.prototype.convert=function(t){var e=w();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(x.ZERO)>0&&this.m.subTo(e,e),e},R.prototype.revert=function(t){var e=w();return t.copyTo(e),this.reduce(e),e},R.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},R.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},R.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},x.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},x.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},x.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,o=0;--r>=0;){var s=8==n?255&t[r]:T(t,r);s<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&x.ZERO.subTo(this,this)},x.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},x.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},x.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},x.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},x.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},x.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},x.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&x.ZERO.subTo(e,e)},x.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},x.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=w());var o=w(),s=this.s,a=t.s,u=this.DB-L(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var d=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),f=this.FV/d,h=(1<<this.F1)/d,p=1<<this.F2,g=n.t,m=g-c,v=null==e?w():e;for(o.dlShiftTo(m,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),x.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--m>=0;){var y=n[--g]==l?this.DM:Math.floor(n[g]*f+(n[g-1]+p)*h);if((n[g]+=o.am(0,y,n,m,0,c))<y)for(o.dlShiftTo(m,v),n.subTo(v,n);n[g]<--y;)n.subTo(v,n)}null!=e&&(n.drShiftTo(c,e),s!=a&&x.ZERO.subTo(e,e)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&x.ZERO.subTo(n,n)}}},x.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},x.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},x.prototype.exp=function(t,e){if(t>4294967295||t<1)return x.ONE;var n=w(),r=w(),i=e.convert(this),o=L(t)-1;for(i.copyTo(n);--o>=0;)if(e.sqrTo(n,r),(t&1<<o)>0)e.mulTo(r,i,n);else{var s=n;n=r,r=s}return e.revert(n)},x.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=C(n));s>=0;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=C(n));return i?o:"0"},x.prototype.negate=function(){var t=w();return x.ZERO.subTo(this,t),t},x.prototype.abs=function(){return this.s<0?this.negate():this},x.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},x.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+L(this[this.t-1]^this.s&this.DM)},x.prototype.mod=function(t){var e=w();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(x.ZERO)>0&&t.subTo(e,e),e},x.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new k(e):new R(e),this.exp(t,n)},x.ZERO=$(0),x.ONE=$(1),B.prototype.convert=H,B.prototype.revert=H,B.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},B.prototype.sqrTo=function(t,e){t.squareTo(e)},j.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=w();return t.copyTo(e),this.reduce(e),e},j.prototype.revert=function(t){return t},j.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},j.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},j.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var V,q,K,W=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],z=(1<<26)/W[W.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
    	 */function J(){this.i=0,this.j=0,this.S=new Array}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
    	 */
function G(){!function(t){q[K++]^=255&t,q[K++]^=t>>8&255,q[K++]^=t>>16&255,q[K++]^=t>>24&255,K>=256&&(K-=256)}((new Date).getTime())}if(x.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},x.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=$(n),i=w(),o=w(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(t).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(t)+s},x.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),i=!1,o=0,s=0,a=0;a<t.length;++a){var u=T(t,a);u<0?"-"==t.charAt(a)&&0==this.signum()&&(i=!0):(s=e*s+u,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&x.ZERO.subTo(this,this)},x.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(x.ONE.shiftLeft(t-1),P,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(x.ONE.shiftLeft(t-1),this);else{var r=new Array,i=7&t;r.length=1+(t>>3),e.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},x.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},x.prototype.changeBit=function(t,e){var n=x.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},x.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},x.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},x.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},x.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},x.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},x.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},x.prototype.millerRabin=function(t){var e=this.subtract(x.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var r=e.shiftRight(n);(t=t+1>>1)>W.length&&(t=W.length);for(var i=w(),o=0;o<t;++o){i.fromInt(W[Math.floor(Math.random()*W.length)]);var s=i.modPow(r,this);if(0!=s.compareTo(x.ONE)&&0!=s.compareTo(e)){for(var a=1;a++<n&&0!=s.compareTo(e);)if(0==(s=s.modPowInt(2,this)).compareTo(x.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},x.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
    	 */
function(){var t=w();return this.copyTo(t),t},x.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},x.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},x.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},x.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},x.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},x.prototype.equals=function(t){return 0==this.compareTo(t)},x.prototype.min=function(t){return this.compareTo(t)<0?this:t},x.prototype.max=function(t){return this.compareTo(t)>0?this:t},x.prototype.and=function(t){var e=w();return this.bitwiseTo(t,O,e),e},x.prototype.or=function(t){var e=w();return this.bitwiseTo(t,P,e),e},x.prototype.xor=function(t){var e=w();return this.bitwiseTo(t,N,e),e},x.prototype.andNot=function(t){var e=w();return this.bitwiseTo(t,D,e),e},x.prototype.not=function(){for(var t=w(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},x.prototype.shiftLeft=function(t){var e=w();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},x.prototype.shiftRight=function(t){var e=w();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},x.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+U(this[t]);return this.s<0?this.t*this.DB:-1},x.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=M(this[n]^e);return t},x.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},x.prototype.setBit=function(t){return this.changeBit(t,P)},x.prototype.clearBit=function(t){return this.changeBit(t,D)},x.prototype.flipBit=function(t){return this.changeBit(t,N)},x.prototype.add=function(t){var e=w();return this.addTo(t,e),e},x.prototype.subtract=function(t){var e=w();return this.subTo(t,e),e},x.prototype.multiply=function(t){var e=w();return this.multiplyTo(t,e),e},x.prototype.divide=function(t){var e=w();return this.divRemTo(t,e,null),e},x.prototype.remainder=function(t){var e=w();return this.divRemTo(t,null,e),e},x.prototype.divideAndRemainder=function(t){var e=w(),n=w();return this.divRemTo(t,e,n),new Array(e,n)},x.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=$(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new k(e):e.isEven()?new j(e):new R(e);var s=new Array,a=3,u=n-1,c=(1<<n)-1;if(s[1]=r.convert(this),n>1){var l=w();for(r.sqrTo(s[1],l);a<=c;)s[a]=w(),r.mulTo(l,s[a-2],s[a]),a+=2}var d,f,h=t.t-1,p=!0,g=w();for(i=L(t[h])-1;h>=0;){for(i>=u?d=t[h]>>i-u&c:(d=(t[h]&(1<<i+1)-1)<<u-i,h>0&&(d|=t[h-1]>>this.DB+i-u)),a=n;0==(1&d);)d>>=1,--a;if((i-=a)<0&&(i+=this.DB,--h),p)s[d].copyTo(o),p=!1;else{for(;a>1;)r.sqrTo(o,g),r.sqrTo(g,o),a-=2;a>0?r.sqrTo(o,g):(f=o,o=g,g=f),r.mulTo(g,s[d],o)}for(;h>=0&&0==(t[h]&1<<i);)r.sqrTo(o,g),f=o,o=g,g=f,--i<0&&(i=this.DB-1,--h)}return r.revert(o)},x.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return x.ZERO;for(var n=t.clone(),r=this.clone(),i=$(1),o=$(0),s=$(0),a=$(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),e?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);n.compareTo(r)>=0?(n.subTo(r,n),e&&i.subTo(s,i),o.subTo(a,o)):(r.subTo(n,r),e&&s.subTo(i,s),a.subTo(o,a))}return 0!=r.compareTo(x.ONE)?x.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a},x.prototype.pow=function(t){return this.exp(t,new B)},x.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},x.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=W[W.length-1]){for(e=0;e<W.length;++e)if(n[0]==W[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<W.length;){for(var r=W[e],i=e+1;i<W.length&&r<z;)r*=W[i++];for(r=n.modInt(r);e<i;)if(r%W[e++]==0)return!1}return n.millerRabin(t)},x.prototype.square=function(){var t=w();return this.squareTo(t),t},J.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},J.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},null==q){var Y;if(q=new Array,K=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var X=i.crypto||i.msCrypto;if(X.getRandomValues){var Q=new Uint8Array(32);for(X.getRandomValues(Q),Y=0;Y<32;++Y)q[K++]=Q[Y]}else if("Netscape"==r.appName&&r.appVersion<"5"){var Z=i.crypto.random(32);for(Y=0;Y<Z.length;++Y)q[K++]=255&Z.charCodeAt(Y)}}for(;K<256;)Y=Math.floor(65536*Math.random()),q[K++]=Y>>>8,q[K++]=255&Y;K=0,G()}function tt(){if(null==V){for(G(),(V=new J).init(q),K=0;K<q.length;++K)q[K]=0;K=0}return V.next()}function et(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
    	 */function nt(t,e){return new x(t,e)}function rt(t,e,n){for(var r="",i=0;r.length<e;)r+=n(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function it(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
    	 */}function ot(t,e){this.x=e,this.q=t}function st(t,e,n,r){this.curve=t,this.x=e,this.y=n,this.z=null==r?x.ONE:r,this.zinv=null}function at(t,e,n){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(n),this.infinity=new st(this,null,null)}et.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=tt()},it.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},it.prototype.setPublic=function(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA public key";this.n=nt(t,16),this.e=parseInt(e,16)}},it.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)throw"Message too long for RSA";for(var n=new Array,r=t.length-1;r>=0&&e>0;){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;for(var o=new et,s=new Array;e>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--e]=s[0]}return n[--e]=2,n[--e]=0,new x(n)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},it.prototype.encryptOAEP=function(t,e,n){var r=function(t,e,n,r){var i=ct.crypto.MessageDigest,o=ct.crypto.Util,s=null;if(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(t){return xt(o.hashHex(wt(t),s))}),t.length+2*r+2>e)throw"Message too long for RSA";var a,u="";for(a=0;a<e-t.length-2*r-2;a+=1)u+="\0";var c=n("")+u+""+t,l=new Array(r);(new et).nextBytes(l);var d=rt(l,c.length,n),f=[];for(a=0;a<c.length;a+=1)f[a]=c.charCodeAt(a)^d.charCodeAt(a);var h=rt(f,l.length,n),p=[0];for(a=0;a<l.length;a+=1)p[a+1]=l[a]^h.charCodeAt(a);return new x(p.concat(f))}(t,this.n.bitLength()+7>>3,e,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},it.prototype.type="RSA",ot.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},ot.prototype.toBigInteger=function(){return this.x},ot.prototype.negate=function(){return new ot(this.q,this.x.negate().mod(this.q))},ot.prototype.add=function(t){return new ot(this.q,this.x.add(t.toBigInteger()).mod(this.q))},ot.prototype.subtract=function(t){return new ot(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},ot.prototype.multiply=function(t){return new ot(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},ot.prototype.square=function(){return new ot(this.q,this.x.square().mod(this.q))},ot.prototype.divide=function(t){return new ot(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},st.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},st.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},st.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(x.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(x.ZERO))},st.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(x.ZERO)&&!this.y.toBigInteger().equals(x.ZERO)},st.prototype.negate=function(){return new st(this.curve,this.x,this.y.negate(),this.z)},st.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),n=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(x.ZERO.equals(n))return x.ZERO.equals(e)?this.twice():this.curve.getInfinity();var r=new x("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(t.x.toBigInteger(),t.y.toBigInteger(),n.square()),a=s.multiply(n),u=i.multiply(s),c=e.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(t.z).subtract(a).multiply(n).mod(this.curve.q),d=u.multiply(r).multiply(e).subtract(o.multiply(a)).subtract(c.multiply(e)).multiply(t.z).add(e.multiply(a)).mod(this.curve.q),f=a.multiply(this.z).multiply(t.z).mod(this.curve.q);return new st(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(d),f)},st.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new x("3"),e=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=e.square().multiply(t);x.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=s.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new st(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),c)},st.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,r=n.multiply(new x("3")),i=this.negate(),o=this,s=this.curve.q.subtract(t),a=s.multiply(new x("3")),u=new st(this.curve,this.x,this.y),c=u.negate();for(e=r.bitLength()-2;e>0;--e){o=o.twice();var l=r.testBit(e);l!=n.testBit(e)&&(o=o.add(l?this:i))}for(e=a.bitLength()-2;e>0;--e){u=u.twice();var d=a.testBit(e);d!=s.testBit(e)&&(u=u.add(d?u:c))}return o},st.prototype.multiplyTwo=function(t,e,n){var r;r=t.bitLength()>n.bitLength()?t.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(e);r>=0;)i=i.twice(),t.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(e)),--r;return i},at.prototype.getQ=function(){return this.q},at.prototype.getA=function(){return this.a},at.prototype.getB=function(){return this.b},at.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},at.prototype.getInfinity=function(){return this.infinity},at.prototype.fromBigInteger=function(t){return new ot(this.q,t)},at.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var e=(t.length-2)/2,n=t.substr(2,e),r=t.substr(e+2,e);return new st(this,this.fromBigInteger(new x(n,16)),this.fromBigInteger(new x(r,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
    	 */
ot.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},st.prototype.getEncoded=function(t){var e=function(t,e){var n=t.toByteArrayUnsigned();if(e<n.length)n=n.slice(n.length-e);else for(;e>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=e(n,32);return t?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(r,32))),i},st.decodeFrom=function(t,e){e[0];var n=e.length-1,r=e.slice(1,1+n/2),i=e.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new x(r),s=new x(i);return new st(t,t.fromBigInteger(o),t.fromBigInteger(s))},st.decodeFromHex=function(t,e){e.substr(0,2);var n=e.length-2,r=e.substr(2,n/2),i=e.substr(2+n/2,n/2),o=new x(r,16),s=new x(i,16);return new st(t,t.fromBigInteger(o),t.fromBigInteger(s))},st.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),n=t.y.subtract(this.y).divide(e),r=n.square().subtract(this.x).subtract(t.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new st(this.curve,r,i)},st.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(x.valueOf(2)),e=this.curve.fromBigInteger(x.valueOf(3)),n=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),r=n.square().subtract(this.x.multiply(t)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new st(this.curve,r,i)},st.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,r=n.multiply(new x("3")),i=this.negate(),o=this;for(e=r.bitLength()-2;e>0;--e){o=o.twice();var s=r.testBit(e);s!=n.testBit(e)&&(o=o.add2D(s?this:i))}return o},st.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=e.multiply(e).mod(i),s=t.multiply(t).multiply(t).add(n.multiply(t)).add(r).mod(i);return o.equals(s)},st.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},st.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(e.compareTo(x.ONE)<0||e.compareTo(t.subtract(x.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(x.ONE)<0||n.compareTo(t.subtract(x.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
    	 */
var ut=function(){var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(t,e,n){return e?r[e]:String.fromCharCode(parseInt(n,16))}var o=new String(""),s=Object.hasOwnProperty;return function(r,a){var u,c,l=r.match(t),d=l[0],f=!1;"{"===d?u={}:"["===d?u=[]:(u=[],f=!0);for(var h=[u],p=1-f,g=l.length;p<g;++p){var m;switch((d=l[p]).charCodeAt(0)){default:(m=h[0])[c||m.length]=+d,c=void 0;break;case 34:if(-1!==(d=d.substring(1,d.length-1)).indexOf("\\")&&(d=d.replace(e,i)),m=h[0],!c){if(!(m instanceof Array)){c=d||o;break}c=m.length}m[c]=d,c=void 0;break;case 91:m=h[0],h.unshift(m[c||m.length]=[]),c=void 0;break;case 93:case 125:h.shift();break;case 102:(m=h[0])[c||m.length]=!1,c=void 0;break;case 110:(m=h[0])[c||m.length]=null,c=void 0;break;case 116:(m=h[0])[c||m.length]=!0,c=void 0;break;case 123:m=h[0],h.unshift(m[c||m.length]={}),c=void 0}}if(f){if(1!==h.length)throw new Error;u=u[0]}else if(h.length)throw new Error;return a&&(u=function t(e,r){var i=e[r];if(i&&"object"===(void 0===i?"undefined":n(i))){var o=null;for(var u in i)if(s.call(i,u)&&i!==e){var c=t(i,u);void 0!==c?i[u]=c:(o||(o=[]),o.push(u))}if(o)for(var l=o.length;--l>=0;)delete i[o[l]]}return a.call(e,r,i)}({"":u},"")),u}}();void 0!==ct&&ct||(e.KJUR=ct={}),void 0!==ct.asn1&&ct.asn1||(ct.asn1={}),ct.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";e=new x(r,16).xor(t).add(x.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return Ct(t,e)},this.newObject=function(t){var e=ct.asn1,n=e.ASN1Object,r=e.DERBoolean,i=e.DERInteger,o=e.DERBitString,s=e.DEROctetString,a=e.DERNull,u=e.DERObjectIdentifier,c=e.DEREnumerated,l=e.DERUTF8String,d=e.DERNumericString,f=e.DERPrintableString,h=e.DERTeletexString,p=e.DERIA5String,g=e.DERUTCTime,m=e.DERGeneralizedTime,v=e.DERVisibleString,y=e.DERBMPString,b=e.DERSequence,_=e.DERSet,E=e.DERTaggedObject,S=e.ASN1Util.newObject;if(t instanceof e.ASN1Object)return t;var x=Object.keys(t);if(1!=x.length)throw new Error("key of param shall be only one.");var w=x[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+w+":"))throw new Error("undefined key: "+w);if("bool"==w)return new r(t[w]);if("int"==w)return new i(t[w]);if("bitstr"==w)return new o(t[w]);if("octstr"==w)return new s(t[w]);if("null"==w)return new a(t[w]);if("oid"==w)return new u(t[w]);if("enum"==w)return new c(t[w]);if("utf8str"==w)return new l(t[w]);if("numstr"==w)return new d(t[w]);if("prnstr"==w)return new f(t[w]);if("telstr"==w)return new h(t[w]);if("ia5str"==w)return new p(t[w]);if("utctime"==w)return new g(t[w]);if("gentime"==w)return new m(t[w]);if("visstr"==w)return new v(t[w]);if("bmpstr"==w)return new y(t[w]);if("asn1"==w)return new n(t[w]);if("seq"==w){for(var I=t[w],A=[],F=0;F<I.length;F++){var C=S(I[F]);A.push(C)}return new b({array:A})}if("set"==w){for(I=t[w],A=[],F=0;F<I.length;F++)C=S(I[F]),A.push(C);return new _({array:A})}if("tag"==w){var T=t[w];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var $=S(T[2]);return new E({tag:T[0],explicit:T[1],obj:$})}return new E(T)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},ct.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),r=(e=Math.floor(n/40)+"."+n%40,""),i=2;i<t.length;i+=2){var o=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(e=e+"."+new x(r,2).toString(10),r="")}return e},ct.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new x(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=e(parseInt(a,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},ct.asn1.ASN1Object=function(t){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(t){this.params=t},null!=t&&null!=t.tlv&&(this.hTLV=t.tlv,this.isModified=!1)},ct.asn1.DERAbstractString=function(t){ct.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Et(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},o.lang.extend(ct.asn1.DERAbstractString,ct.asn1.ASN1Object),ct.asn1.DERAbstractTime=function(t){ct.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){var e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e)},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var s=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var a=i.getMilliseconds();if(0!=a){var u=r(String(a),3);s=s+"."+(u=u.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=mt(t)},this.setByDateValue=function(t,e,n,r,i,o){var s=new Date(Date.UTC(t,e-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},o.lang.extend(ct.asn1.DERAbstractTime,ct.asn1.ASN1Object),ct.asn1.DERAbstractStructured=function(t){ct.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},o.lang.extend(ct.asn1.DERAbstractStructured,ct.asn1.ASN1Object),ct.asn1.DERBoolean=function(t){ct.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==t?"010100":"0101ff"},o.lang.extend(ct.asn1.DERBoolean,ct.asn1.ASN1Object),ct.asn1.DERInteger=function(t){ct.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=ct.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new x(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},o.lang.extend(ct.asn1.DERInteger,ct.asn1.ASN1Object),ct.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=ct.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}ct.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var r="";for(n=0;n<t.length-1;n+=8){var i=t.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},o.lang.extend(ct.asn1.DERBitString,ct.asn1.ASN1Object),ct.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=ct.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}ct.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},o.lang.extend(ct.asn1.DEROctetString,ct.asn1.DERAbstractString),ct.asn1.DERNull=function(){ct.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},o.lang.extend(ct.asn1.DERNull,ct.asn1.ASN1Object),ct.asn1.DERObjectIdentifier=function(t){ct.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var e=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=parseInt(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=e(parseInt(a,2))}return n};try{if(!t.match(/^[0-9.]+$/))return null;var r="",i=t.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);r+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r}catch(t){return null}}(t);if(null==e)throw new Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var e=ct.asn1.x509.OID.name2oid(t);if(""===e)throw new Error("DERObjectIdentifier oidName undefined: "+t);this.setValueOidString(e)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){"string"==typeof t?this.setValueNameOrOid(t):void 0!==t.oid?this.setValueNameOrOid(t.oid):void 0!==t.name?this.setValueNameOrOid(t.name):void 0!==t.hex&&this.setValueHex(t.hex)},void 0!==t&&this.setByParam(t)},o.lang.extend(ct.asn1.DERObjectIdentifier,ct.asn1.ASN1Object),ct.asn1.DEREnumerated=function(t){ct.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=ct.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new x(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},o.lang.extend(ct.asn1.DEREnumerated,ct.asn1.ASN1Object),ct.asn1.DERUTF8String=function(t){ct.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},o.lang.extend(ct.asn1.DERUTF8String,ct.asn1.DERAbstractString),ct.asn1.DERNumericString=function(t){ct.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},o.lang.extend(ct.asn1.DERNumericString,ct.asn1.DERAbstractString),ct.asn1.DERPrintableString=function(t){ct.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},o.lang.extend(ct.asn1.DERPrintableString,ct.asn1.DERAbstractString),ct.asn1.DERTeletexString=function(t){ct.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},o.lang.extend(ct.asn1.DERTeletexString,ct.asn1.DERAbstractString),ct.asn1.DERIA5String=function(t){ct.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},o.lang.extend(ct.asn1.DERIA5String,ct.asn1.DERAbstractString),ct.asn1.DERVisibleString=function(t){ct.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="1a"},o.lang.extend(ct.asn1.DERVisibleString,ct.asn1.DERAbstractString),ct.asn1.DERBMPString=function(t){ct.asn1.DERBMPString.superclass.constructor.call(this,t),this.hT="1e"},o.lang.extend(ct.asn1.DERBMPString,ct.asn1.DERAbstractString),ct.asn1.DERUTCTime=function(t){ct.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=mt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=mt(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},o.lang.extend(ct.asn1.DERUTCTime,ct.asn1.DERAbstractTime),ct.asn1.DERGeneralizedTime=function(t){ct.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=mt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=mt(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},o.lang.extend(ct.asn1.DERGeneralizedTime,ct.asn1.DERAbstractTime),ct.asn1.DERSequence=function(t){ct.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},o.lang.extend(ct.asn1.DERSequence,ct.asn1.DERAbstractStructured),ct.asn1.DERSet=function(t){ct.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},o.lang.extend(ct.asn1.DERSet,ct.asn1.DERAbstractStructured),ct.asn1.DERTaggedObject=function(t){ct.asn1.DERTaggedObject.superclass.constructor.call(this);var e=ct.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){null!=t.tag&&(this.hT=t.tag),null!=t.explicit&&(this.isExplicit=t.explicit),null!=t.tage&&(this.hT=t.tage,this.isExplicit=!0),null!=t.tagi&&(this.hT=t.tagi,this.isExplicit=!1),null!=t.obj&&(t.obj instanceof e.ASN1Object?(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==n(t.obj)&&(this.asn1Object=e.ASN1Util.newObject(t.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=t&&this.setByParam(t)},o.lang.extend(ct.asn1.DERTaggedObject,ct.asn1.ASN1Object);var ct,lt,dt,ft=new function(){};function ht(t){for(var e=new Array,n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function pt(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function gt(t){for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);1==r.length&&(r="0"+r),e+=r}return e}function mt(t){return gt(ht(t))}function vt(t){return(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function yt(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function bt(t){return t.length%2==1&&(t="0"+t),vt(_(t))}function _t(t){return E(yt(t))}function Et(t){return kt(Dt(t))}function St(t){return decodeURIComponent(Rt(t))}function xt(t){for(var e="",n=0;n<t.length-1;n+=2)e+=String.fromCharCode(parseInt(t.substr(n,2),16));return e}function wt(t){for(var e="",n=0;n<t.length;n++)e+=("0"+t.charCodeAt(n).toString(16)).slice(-2);return e}function It(t){return _(t)}function At(t){var e=It(t).replace(/(.{64})/g,"$1\r\n");return e.replace(/\r\n$/,"")}function Ft(t){return E(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ct(t,e){return"-----BEGIN "+e+"-----\r\n"+At(t)+"\r\n-----END "+e+"-----\r\n"}function Tt(t,e){if(-1==t.indexOf("-----BEGIN "))throw"can't find PEM header: "+e;return Ft(t=void 0!==e?(t=t.replace(new RegExp("^[^]*-----BEGIN "+e+"-----"),"")).replace(new RegExp("-----END "+e+"-----[^]*$"),""):(t=t.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function $t(t){var e,n,r,i,o,s,a,u,c,l,d;if(d=t.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=d[1],e=parseInt(u),2===u.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),n=parseInt(d[2])-1,r=parseInt(d[3]),i=parseInt(d[4]),o=parseInt(d[5]),s=parseInt(d[6]),a=0,""!==(c=d[7])&&(l=(c.substr(1)+"00").substr(0,3),a=parseInt(l)),Date.UTC(e,n,r,i,o,s,a);throw"unsupported zulu format: "+t}function Lt(t){return~~($t(t)/1e3)}function kt(t){return t.replace(/%/g,"")}function Rt(t){return t.replace(/(..)/g,"%$1")}function Ot(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var n=(t=t.toLowerCase()).split(":").length-1;if(n<2)throw e;var r=":".repeat(7-n+2),i=(t=t.replace("::",r)).split(":");if(8!=i.length)throw e;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Pt(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var e=(t=t.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)e[n]=e[n].replace(/^0+/,""),""==e[n]&&(e[n]="0");var r=(t=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null===r)return t.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(t=t.replace(i,"::")).slice(1,-1)}function Nt(t){var e="malformed hex value";if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8!=t.length)return 32==t.length?Pt(t):t;try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}}function Dt(t){for(var e=encodeURIComponent(t),n="",r=0;r<e.length;r++)"%"==e[r]?(n+=e.substr(r,3),r+=2):n=n+"%"+mt(e[r]);return n}function Ut(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))}function Mt(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}ft.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var n=parseInt(t.substr(e+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},ft.getL=function(t,e){var n=ft.getLblen(t,e);return n<1?"":t.substr(e+2,2*n)},ft.getVblen=function(t,e){var n;return""==(n=ft.getL(t,e))?-1:("8"===n.substr(0,1)?new x(n.substr(2),16):new x(n,16)).intValue()},ft.getVidx=function(t,e){var n=ft.getLblen(t,e);return n<0?n:e+2*(n+1)},ft.getV=function(t,e){var n=ft.getVidx(t,e),r=ft.getVblen(t,e);return t.substr(n,2*r)},ft.getTLV=function(t,e){return t.substr(e,2)+ft.getL(t,e)+ft.getV(t,e)},ft.getTLVblen=function(t,e){return 2+2*ft.getLblen(t,e)+2*ft.getVblen(t,e)},ft.getNextSiblingIdx=function(t,e){return ft.getVidx(t,e)+2*ft.getVblen(t,e)},ft.getChildIdx=function(t,e){var n,r,i,o=ft,s=[];n=o.getVidx(t,e),r=2*o.getVblen(t,e),"03"==t.substr(e,2)&&(n+=2,r-=2),i=0;for(var a=n;i<=r;){var u=o.getTLVblen(t,a);if((i+=u)<=r&&s.push(a),a+=u,i>=r)break}return s},ft.getNthChildIdx=function(t,e,n){return ft.getChildIdx(t,e)[n]},ft.getIdxbyList=function(t,e,n,r){var i,o,s=ft;return 0==n.length?void 0!==r&&t.substr(e,2)!==r?-1:e:(i=n.shift())>=(o=s.getChildIdx(t,e)).length?-1:s.getIdxbyList(t,o[i],n,r)},ft.getIdxbyListEx=function(t,e,n,r){var i,o,s=ft;if(0==n.length)return void 0!==r&&t.substr(e,2)!==r?-1:e;i=n.shift(),o=s.getChildIdx(t,e);for(var a=0,u=0;u<o.length;u++){var c=t.substr(o[u],2);if("number"==typeof i&&!s.isContextTag(c)&&a==i||"string"==typeof i&&s.isContextTag(c,i))return s.getIdxbyListEx(t,o[u],n,r);s.isContextTag(c)||a++}return-1},ft.getTLVbyList=function(t,e,n,r){var i=ft,o=i.getIdxbyList(t,e,n,r);return-1==o||o>=t.length?null:i.getTLV(t,o)},ft.getTLVbyListEx=function(t,e,n,r){var i=ft,o=i.getIdxbyListEx(t,e,n,r);return-1==o?null:i.getTLV(t,o)},ft.getVbyList=function(t,e,n,r,i){var o,s,a=ft;return-1==(o=a.getIdxbyList(t,e,n,r))||o>=t.length?null:(s=a.getV(t,o),!0===i&&(s=s.substr(2)),s)},ft.getVbyListEx=function(t,e,n,r,i){var o,s,a=ft;return-1==(o=a.getIdxbyListEx(t,e,n,r))?null:(s=a.getV(t,o),"03"==t.substr(o,2)&&!1!==i&&(s=s.substr(2)),s)},ft.getInt=function(t,e,n){null==n&&(n=-1);try{var r=t.substr(e,2);if("02"!=r&&"03"!=r)return n;var i=ft.getV(t,e);return"02"==r?parseInt(i,16):function(t){try{var e=t.substr(0,2);if("00"==e)return parseInt(t.substr(2),16);var n=parseInt(e,16),r=t.substr(2),i=parseInt(r,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-n),parseInt(i,2)}catch(t){return-1}}(i)}catch(t){return n}},ft.getOID=function(t,e,n){null==n&&(n=null);try{return"06"!=t.substr(e,2)?n:function(t){if(!Ut(t))return null;try{var e=[],n=t.substr(0,2),r=parseInt(n,16);e[0]=new String(Math.floor(r/40)),e[1]=new String(r%40);for(var i=t.substr(2),o=[],s=0;s<i.length/2;s++)o.push(parseInt(i.substr(2*s,2),16));var a=[],u="";for(s=0;s<o.length;s++)128&o[s]?u+=Bt((127&o[s]).toString(2),7):(u+=Bt((127&o[s]).toString(2),7),a.push(new String(parseInt(u,2))),u="");var c=e.join(".");return a.length>0&&(c=c+"."+a.join(".")),c}catch(t){return null}}(ft.getV(t,e))}catch(t){return n}},ft.getOIDName=function(t,e,n){null==n&&(n=null);try{var r=ft.getOID(t,e,n);if(r==n)return n;var i=ct.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(t){return n}},ft.getString=function(t,e,n){null==n&&(n=null);try{return xt(ft.getV(t,e))}catch(t){return n}},ft.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},n=[],r=t.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=t.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var u=[],c="";for(a=0;a<s.length;a++)128&s[a]?c+=e((127&s[a]).toString(2),7):(c+=e((127&s[a]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=n.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},ft.dump=function(t,e,n,r){var i=ft,o=i.getV,s=i.dump,a=i.getChildIdx,u=t;t instanceof ct.asn1.ASN1Object&&(u=t.getEncodedHex());var c=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var l,d=e.ommit_long_octet;if("01"==(l=u.substr(n,2)))return"00"==(f=o(u,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==l)return r+"INTEGER "+c(f=o(u,n),d)+"\n";if("03"==l){var f=o(u,n);return i.isASN1HEX(f.substr(2))?(E=r+"BITSTRING, encapsulates\n")+s(f.substr(2),e,0,r+"  "):r+"BITSTRING "+c(f,d)+"\n"}if("04"==l)return f=o(u,n),i.isASN1HEX(f)?(E=r+"OCTETSTRING, encapsulates\n")+s(f,e,0,r+"  "):r+"OCTETSTRING "+c(f,d)+"\n";if("05"==l)return r+"NULL\n";if("06"==l){var h=o(u,n),p=ct.asn1.ASN1Util.oidHexToInt(h),g=ct.asn1.x509.OID.oid2name(p),m=p.replace(/\./g," ");return""!=g?r+"ObjectIdentifier "+g+" ("+m+")\n":r+"ObjectIdentifier ("+m+")\n"}if("0a"==l)return r+"ENUMERATED "+parseInt(o(u,n))+"\n";if("0c"==l)return r+"UTF8String '"+St(o(u,n))+"'\n";if("13"==l)return r+"PrintableString '"+St(o(u,n))+"'\n";if("14"==l)return r+"TeletexString '"+St(o(u,n))+"'\n";if("16"==l)return r+"IA5String '"+St(o(u,n))+"'\n";if("17"==l)return r+"UTCTime "+St(o(u,n))+"\n";if("18"==l)return r+"GeneralizedTime "+St(o(u,n))+"\n";if("1a"==l)return r+"VisualString '"+St(o(u,n))+"'\n";if("1e"==l)return r+"BMPString '"+St(o(u,n))+"'\n";if("30"==l){if("3000"==u.substr(n,4))return r+"SEQUENCE {}\n";E=r+"SEQUENCE\n";var v=e;if((2==(_=a(u,n)).length||3==_.length)&&"06"==u.substr(_[0],2)&&"04"==u.substr(_[_.length-1],2)){g=i.oidname(o(u,_[0]));var y=JSON.parse(JSON.stringify(e));y.x509ExtName=g,v=y}for(var b=0;b<_.length;b++)E+=s(u,v,_[b],r+"  ");return E}if("31"==l){E=r+"SET\n";var _=a(u,n);for(b=0;b<_.length;b++)E+=s(u,e,_[b],r+"  ");return E}if(0!=(128&(l=parseInt(l,16)))){var E,S=31&l;if(0!=(32&l)){for(E=r+"["+S+"]\n",_=a(u,n),b=0;b<_.length;b++)E+=s(u,e,_[b],r+"  ");return E}return f=o(u,n),ft.isASN1HEX(f)?(E=r+"["+S+"]\n")+s(f,e,0,r+"  "):(("68747470"==f.substr(0,8)||"subjectAltName"===e.x509ExtName&&2==S)&&(f=St(f)),r+"["+S+"] "+f+"\n")}return r+"UNKNOWN("+l+") "+o(u,n)+"\n"},ft.isContextTag=function(t,e){var n,r;t=t.toLowerCase();try{n=parseInt(t,16)}catch(t){return-1}if(void 0===e)return 128==(192&n);try{return null!=e.match(/^\[[0-9]+\]$/)&&!((r=parseInt(e.substr(1,e.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(t){return!1}},ft.isASN1HEX=function(t){var e=ft;if(t.length%2==1)return!1;var n=e.getVblen(t,0),r=t.substr(0,2),i=e.getL(t,0);return t.length-r.length-i.length==2*n},ft.checkStrictDER=function(t,e,n,r,i){var o=ft;if(void 0===n){if("string"!=typeof t)throw new Error("not hex string");if(t=t.toLowerCase(),!ct.lang.String.isHex(t))throw new Error("not hex string");n=t.length,i=(r=t.length/2)<128?1:Math.ceil(r.toString(16))+1}if(o.getL(t,e).length>2*i)throw new Error("L of TLV too long: idx="+e);var s=o.getVblen(t,e);if(s>r)throw new Error("value of L too long than hex: idx="+e);var a=o.getTLV(t,e),u=a.length-2-o.getL(t,e).length;if(u!==2*s)throw new Error("V string length and L's value not the same:"+u+"/"+2*s);if(0===e&&t.length!=a.length)throw new Error("total length and TLV length unmatch:"+t.length+"!="+a.length);var c=t.substr(e,2);if("02"===c){var l=o.getVidx(t,e);if("00"==t.substr(l,2)&&t.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var d=o.getVblen(t,e),f=0,h=o.getChildIdx(t,e),p=0;p<h.length;p++)f+=o.getTLV(t,h[p]).length,o.checkStrictDER(t,h[p],n,r,i);if(2*d!=f)throw new Error("sum of children's TLV length and L unmatch: "+2*d+"!="+f)}},ft.oidname=function(t){var e=ct.asn1;ct.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var n=e.x509.OID.oid2name(t);return""===n&&(n=t),n},void 0!==ct&&ct||(e.KJUR=ct={}),void 0!==ct.lang&&ct.lang||(ct.lang={}),ct.lang.String=function(){},"function"==typeof t?(e.utf8tob64u=lt=function(e){return vt(t.from(e,"utf8").toString("base64"))},e.b64utoutf8=dt=function(e){return t.from(yt(e),"base64").toString("utf8")}):(e.utf8tob64u=lt=function(t){return bt(kt(Dt(t)))},e.b64utoutf8=dt=function(t){return decodeURIComponent(Rt(_t(t)))}),ct.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},ct.lang.String.isHex=function(t){return Ut(t)},ct.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},ct.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=yt(t),ct.lang.String.isBase64(t))},ct.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ct.lang.String.isPrintable=function(t){return null!==t.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ct.lang.String.isIA5=function(t){return null!==t.match(/^[\x20-\x21\x23-\x7f]*$/)},ct.lang.String.isMail=function(t){return null!==t.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Bt=function(t,e,n){return null==n&&(n="0"),t.length>=e?t:new Array(e-t.length+1).join(n)+t};void 0!==ct&&ct||(e.KJUR=ct={}),void 0!==ct.crypto&&ct.crypto||(ct.crypto={}),ct.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:v.algo.MD5,sha1:v.algo.SHA1,sha224:v.algo.SHA224,sha256:v.algo.SHA256,sha384:v.algo.SHA384,sha512:v.algo.SHA512,ripemd160:v.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,n){var r=this.getDigestInfoHex(t,e),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+e;for(var o="0001",s="00"+r,a="",u=i-o.length-s.length,c=0;c<u;c+=2)a+="ff";return o+a+s},this.hashString=function(t,e){return new ct.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new ct.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return this.hashString(t,"sha1")},this.sha256=function(t){return this.hashString(t,"sha256")},this.sha256Hex=function(t){return this.hashHex(t,"sha256")},this.sha512=function(t){return this.hashString(t,"sha512")},this.sha512Hex=function(t){return this.hashHex(t,"sha512")},this.isKey=function(t){return t instanceof it||t instanceof ct.crypto.DSA||t instanceof ct.crypto.ECDSA}},ct.crypto.Util.md5=function(t){return new ct.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},ct.crypto.Util.ripemd160=function(t){return new ct.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},ct.crypto.Util.SECURERANDOMGEN=new et,ct.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return ct.crypto.Util.SECURERANDOMGEN.nextBytes(e),gt(e)},ct.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new x(ct.crypto.Util.getRandomHexOfNbytes(t),16)},ct.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,n=new Array((t-e)/8+1);return ct.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<e&255^255)&n[0],gt(n)},ct.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new x(ct.crypto.Util.getRandomHexOfNbits(t),16)},ct.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var n=ct.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(n))return n}},ct.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var n=t.compareTo(e);if(1==n)throw"biMin is greater than biMax";if(0==n)return t;var r=e.subtract(t);return ct.crypto.Util.getRandomBigIntegerZeroToMax(r).add(t)},ct.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=ct.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=ct.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.md=ct.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=v.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(v.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=ct.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ct.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},ct.crypto.MessageDigest.getHashLength=function(t){var e=ct.crypto.MessageDigest,n=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[n])throw"not supported algorithm: "+t;return e.HASHLENGTH[n]},ct.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ct.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=ct.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var n=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==e){try{var r=ct.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=v.algo.HMAC.create(r,this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=v.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(v.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=wt(t)),void(this.pass=v.enc.Hex.parse(e))}if("object"!=(void 0===t?"undefined":n(t)))throw"KJUR.crypto.Mac unsupported password type: "+t;if(e=null,void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=Et(t.utf8)),void 0!==t.rstr&&(e=wt(t.rstr)),void 0!==t.b64&&(e=E(t.b64)),void 0!==t.b64u&&(e=_t(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=v.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=ct.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ct.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(t,e){for(var n="",r=e/4-t.length,i=0;i<r;i++)n+="0";return n+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw new Error("provider not supported: "+e);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ct.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t)}this.init=function(t,e){var n=null;try{n=void 0===e?Ht.getKey(t):Ht.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ct.crypto.ECDSA&&(this.prvKey=new ct.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof it&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof it&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ct.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ct.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ct.crypto.ECDSA&&(this.pubKey=new ct.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof it&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof it&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==ct.crypto.ECDSA&&this.pubKey instanceof ct.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==ct.crypto.DSA&&this.pubKey instanceof ct.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=ct.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=Ht.getKey(t.prvkeypem),this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},ct.crypto.Cipher=function(t){},ct.crypto.Cipher.encrypt=function(t,e,n){if(e instanceof it&&e.isPublic){var r=ct.crypto.Cipher.getAlgByKeyAndName(e,n);if("RSA"===r)return e.encrypt(t);if("RSAOAEP"===r)return e.encryptOAEP(t,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.encryptOAEP(t,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ct.crypto.Cipher.decrypt=function(t,e,n){if(e instanceof it&&e.isPrivate){var r=ct.crypto.Cipher.getAlgByKeyAndName(e,n);if("RSA"===r)return e.decrypt(t);if("RSAOAEP"===r)return e.decryptOAEP(t,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.decryptOAEP(t,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ct.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof it){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))return e;if(null==e)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e},ct.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ct&&ct||(e.KJUR=ct={}),void 0!==ct.crypto&&ct.crypto||(ct.crypto={}),ct.crypto.ECDSA=function(t){var e=Error,r=x,i=st,o=ct.crypto.ECDSA,s=ct.crypto.ECParameterDB,a=o.getName,u=ft,c=u.getVbyListEx,l=u.isASN1HEX,d=new et;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new r(t.bitLength(),d).mod(t.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(t){this.ecparams=s.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keylen/4;if(t.length!==2+2*e)throw"malformed public key hex length";var n={};return n.x=t.substr(2,e),n.y=t.substr(2+e),n},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),n=this.ecparams.G.multiply(e),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),o=this.ecparams.keylen/4,s=("0000000000"+e.toString(16)).slice(-o),a="04"+("0000000000"+r.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(s),this.setPublicKeyHex(a),{ecprvhex:s,ecpubhex:a}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var n=new r(e,16),i=this.ecparams.n,s=new r(t.substring(0,this.ecparams.keylen/4),16);do{var a=this.getBigRandom(i),u=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(u.compareTo(r.ZERO)<=0);var c=a.modInverse(i).multiply(s.add(n.multiply(u))).mod(i);return o.biRSSigToASN1Sig(u,c)},this.sign=function(t,e){var n=e,i=this.ecparams.n,o=r.fromByteArrayUnsigned(t);do{var s=this.getBigRandom(i),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(a.compareTo(x.ZERO)<=0);var u=s.modInverse(i).multiply(o.add(n.multiply(a))).mod(i);return this.serializeSig(a,u)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,n){try{var s,a,u=o.parseSigHex(e);s=u.r,a=u.s;var c=i.decodeFromHex(this.ecparams.curve,n),l=new r(t.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,s,a,c)}catch(t){return!1}},this.verify=function(t,e,o){var s,a,u;if(Bitcoin.Util.isArray(e)){var c=this.parseSig(e);s=c.r,a=c.s}else{if("object"!==(void 0===e?"undefined":n(e))||!e.r||!e.s)throw"Invalid value for signature";s=e.r,a=e.s}if(o instanceof st)u=o;else{if(!Bitcoin.Util.isArray(o))throw"Invalid format for pubkey value, must be byte array or ECPointFp";u=i.decodeFrom(this.ecparams.curve,o)}var l=r.fromByteArrayUnsigned(t);return this.verifyRaw(l,s,a,u)},this.verifyRaw=function(t,e,n,i){var o=this.ecparams.n,s=this.ecparams.G;if(e.compareTo(r.ONE)<0||e.compareTo(o)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(o)>=0)return!1;var a=n.modInverse(o),u=t.multiply(a).mod(o),c=e.multiply(a).mod(o);return s.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(e)},this.serializeSig=function(t,e){var n=t.toByteArraySigned(),r=e.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(t){var e;if(48!=t[0])throw new Error("Signature not a valid DERSequence");if(2!=t[e=2])throw new Error("First element in signature must be a DERInteger");var n=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error("Second element in signature must be a DERInteger");var i=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||e>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(t.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(t.slice(33,65)).mod(n),i:e}},this.readPKCS5PrvKeyHex=function(t){if(!1===l(t))throw new Error("not ASN.1 hex string");var e,n,r;try{e=c(t,0,["[0]",0],"06"),n=c(t,0,[1],"04");try{r=c(t,0,["[1]",0],"03")}catch(t){}}catch(t){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){if(!1===l(t))throw new e("not ASN.1 hex string");var n,r,i;try{c(t,0,[1,0],"06"),n=c(t,0,[1,1],"06"),r=c(t,0,[2,0,1],"04");try{i=c(t,0,[2,0,"[1]",0],"03")}catch(t){}}catch(t){throw new e("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(n),void 0===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){if(!1===l(t))throw new e("not ASN.1 hex string");var n,r;try{c(t,0,[0,0],"06"),n=c(t,0,[0,1],"06"),r=c(t,0,[1],"03")}catch(t){throw new e("malformed PKCS#8 ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(t,n){if(!1===l(t))throw new e("not ASN.1 hex string");var r,i;try{r=c(t,0,[0,5,0,1],"06"),i=c(t,0,[0,5,1],"03")}catch(t){throw new e("malformed X.509 certificate ECC public key")}if(this.curveName=a(r),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},ct.crypto.ECDSA.parseSigHex=function(t){var e=ct.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new x(e.r,16),s:new x(e.s,16)}},ct.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=ft,n=e.getChildIdx,r=e.getV;if(e.checkStrictDER(t,0),"30"!=t.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(t,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],s=i[1];if("02"!=t.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=t.substr(s,2))throw new Error("2nd item not ASN.1 integer");return{r:r(t,o),s:r(t,s)}},ct.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=ct.crypto.ECDSA.parseSigHexInHexRS(t),n=e.r,r=e.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},ct.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var e=t.substr(0,t.length/2),n=t.substr(t.length/2);return ct.crypto.ECDSA.hexRSSigToASN1Sig(e,n)},ct.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var n=new x(t,16),r=new x(e,16);return ct.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ct.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var n=ct.asn1,r=new n.DERInteger({bigint:t}),i=new n.DERInteger({bigint:e});return new n.DERSequence({array:[r,i]}).getEncodedHex()},ct.crypto.ECDSA.getName=function(t){return"2b8104001f"===t?"secp192k1":"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040021"===t?"secp224r1":"2b81040022"===t?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(t)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":null},void 0!==ct&&ct||(e.KJUR=ct={}),void 0!==ct.crypto&&ct.crypto||(ct.crypto={}),ct.crypto.ECParameterDB=new function(){var t={},e={};function n(t){return new x(t,16)}this.getByName=function(n){var r=n;if(void 0!==e[r]&&(r=e[n]),void 0!==t[r])return t[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,a,u,c,l,d,f,h,p){t[r]={};var g=n(o),m=n(s),v=n(a),y=n(u),b=n(c),_=new at(g,m,v),E=_.decodePointHex("04"+l+d);t[r].name=r,t[r].keylen=i,t[r].curve=_,t[r].G=E,t[r].n=y,t[r].h=b,t[r].oid=h,t[r].info=p;for(var S=0;S<f.length;S++)e[f[S]]=r}},ct.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ct.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ct.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ct.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ct.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ct.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ct.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ct.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ct.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ct.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Ht=function(){var t=function(t,n,r){return e(v.AES,t,n,r)},e=function(t,e,n,r){var i=v.enc.Hex.parse(e),o=v.enc.Hex.parse(n),s=v.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var u=t.decrypt(a,o,{iv:s});return v.enc.Hex.stringify(u)},n=function(t,e,n){return r(v.AES,t,e,n)},r=function(t,e,n,r){var i=v.enc.Hex.parse(e),o=v.enc.Hex.parse(n),s=v.enc.Hex.parse(r),a=t.encrypt(i,o,{iv:s}),u=v.enc.Hex.parse(a.toString());return v.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:t,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,n,r){return e(v.TripleDES,t,n,r)},eproc:function(t,e,n){return r(v.TripleDES,t,e,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,n,r){return e(v.DES,t,n,r)},eproc:function(t,e,n){return r(v.DES,t,e,n)},keylen:8,ivlen:8}},o=function(t){var e={},n=t.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(e.cipher=n[1],e.ivsalt=n[2]);var r=t.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(e.type=r[1]);var i=-1,o=0;-1!=t.indexOf("\r\n\r\n")&&(i=t.indexOf("\r\n\r\n"),o=2),-1!=t.indexOf("\n\n")&&(i=t.indexOf("\n\n"),o=1);var s=t.indexOf("-----END");if(-1!=i&&-1!=s){var a=t.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),e.data=a}return e},s=function(t,e,n){for(var r=n.substring(0,16),o=v.enc.Hex.parse(r),s=v.enc.Utf8.parse(e),a=i[t].keylen+i[t].ivlen,u="",c=null;;){var l=v.algo.MD5.create();if(null!=c&&l.update(c),l.update(s),l.update(o),c=l.finalize(),(u+=v.enc.Hex.stringify(c)).length>=2*a)break}var d={};return d.keyhex=u.substr(0,2*i[t].keylen),d.ivhex=u.substr(2*i[t].keylen,2*i[t].ivlen),d},a=function(t,e,n,r){var o=v.enc.Base64.parse(t),s=v.enc.Hex.stringify(o);return(0,i[e].proc)(s,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(t){return o(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,n){return s(t,e,n)},decryptKeyB64:function(t,e,n,r){return a(t,e,n,r)},getDecryptedKeyHex:function(t,e){var n=o(t),r=n.cipher,i=n.ivsalt,u=n.data,c=s(r,e,i).keyhex;return a(u,r,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,n,r,o){var a="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw"KEYUTIL unsupported algorithm: "+r;void 0!==o&&null!=o||(o=function(t){var e=v.lib.WordArray.random(t);return v.enc.Hex.stringify(e)}(i[r].ivlen).toUpperCase());var u=function(t,e,n,r){return(0,i[e].eproc)(t,n,r)}(e,r,s(r,n,o).keyhex,o);return a="-----BEGIN "+t+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+r+","+o+"\r\n",a+="\r\n",(a+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+t+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var e=ft,n=e.getChildIdx,r=e.getV,i={},o=n(t,0);if(2!=o.length)throw"malformed format: SEQUENCE(0).items != 2: "+o.length;i.ciphertext=r(t,o[1]);var s=n(t,o[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=r(t,s[0]))throw"this only supports pkcs5PBES2";var a=n(t,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var u=n(t,a[1]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length;if("2a864886f70d0307"!=r(t,u[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(t,u[1]);var c=n(t,a[0]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length;if("2a864886f70d01050c"!=r(t,c[0]))throw"this only supports pkcs5PBKDF2";var l=n(t,c[1]);if(l.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length;i.pbkdf2Salt=r(t,l[0]);var d=r(t,l[1]);try{i.pbkdf2Iter=parseInt(d,16)}catch(t){throw"malformed format pbkdf2Iter: "+d}return i},getPBKDF2KeyHexFromParam:function(t,e){var n=v.enc.Hex.parse(t.pbkdf2Salt),r=t.pbkdf2Iter,i=v.PBKDF2(e,n,{keySize:6,iterations:r});return v.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var n=Tt(t,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Ht.getPBKDF2KeyHexFromParam(r,e),o={};o.ciphertext=v.enc.Hex.parse(r.ciphertext);var s=v.enc.Hex.parse(i),a=v.enc.Hex.parse(r.encryptionSchemeIV),u=v.TripleDES.decrypt(o,s,{iv:a});return v.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(t,e){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(t){var e=ft,n=e.getChildIdx,r=e.getV,i={algparam:null};if("30"!=t.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=n(t,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=t.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var s=n(t,o[1]);if(2!=s.length)throw"malformed PKCS8 private key(code:004)";if("06"!=t.substr(s[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(t,s[0]),"06"==t.substr(s[1],2)&&(i.algparam=r(t,s[1])),"04"!=t.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=e.getVidx(t,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=Tt(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,n=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==n.algoid)e=new it;else if("2a8648ce380401"==n.algoid)e=new ct.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";e=new ct.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,n=ft.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===n)e=new it;else if("2a8648ce380401"===n)e=new ct.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";e=new ct.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=ft,n=e.getChildIdx,r=e.getV,i={};if("30"!=t.substr(0,2))throw"malformed RSA key(code:001)";var o=n(t,0);if(2!=o.length)throw"malformed RSA key(code:002)";if("02"!=t.substr(o[0],2))throw"malformed RSA key(code:003)";if(i.n=r(t,o[0]),"02"!=t.substr(o[1],2))throw"malformed RSA key(code:004)";return i.e=r(t,o[1]),i},parsePublicPKCS8Hex:function(t){var e=ft,n=e.getChildIdx,r=e.getV,i={algparam:null},o=n(t,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var s=o[0];if("30"!=t.substr(s,2))throw"malformed PKCS8 public key(code:001)";var a=n(t,s);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=t.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(t,a[0]),"06"==t.substr(a[1],2)?i.algparam=r(t,a[1]):"30"==t.substr(a[1],2)&&(i.algparam={},i.algparam.p=e.getVbyList(t,a[1],[0],"02"),i.algparam.q=e.getVbyList(t,a[1],[1],"02"),i.algparam.g=e.getVbyList(t,a[1],[2],"02")),"03"!=t.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(t,o[1]).substr(2),i}}}();Ht.getKey=function(t,e,n){var r,i=(v=ft).getChildIdx,o=(v.getV,v.getVbyList),s=ct.crypto,a=s.ECDSA,u=s.DSA,c=it,l=Tt,d=Ht;if(void 0!==c&&t instanceof c)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==u&&t instanceof u)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new a({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new a({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(T=new c).setPublic(t.n,t.e),T;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(T=new c).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),T;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(T=new c).setPrivate(t.n,t.e,t.d),T;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(T=new u).setPublic(t.p,t.q,t.g,t.y),T;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(T=new u).setPrivate(t.p,t.q,t.g,t.y,t.x),T;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(T=new c).setPublic(_t(t.n),_t(t.e)),T;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(T=new c).setPrivateEx(_t(t.n),_t(t.e),_t(t.d),_t(t.p),_t(t.q),_t(t.dp),_t(t.dq),_t(t.qi)),T;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(T=new c).setPrivate(_t(t.n),_t(t.e),_t(t.d)),T;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var f=(C=new a({curve:t.crv})).ecparams.keylen/4,h="04"+("0000000000"+_t(t.x)).slice(-f)+("0000000000"+_t(t.y)).slice(-f);return C.setPublicKeyHex(h),C}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){f=(C=new a({curve:t.crv})).ecparams.keylen/4,h="04"+("0000000000"+_t(t.x)).slice(-f)+("0000000000"+_t(t.y)).slice(-f);var p=("0000000000"+_t(t.d)).slice(-f);return C.setPublicKeyHex(h),C.setPrivateKeyHex(p),C}if("pkcs5prv"===n){var g,m=t,v=ft;if(9===(g=i(m,0)).length)(T=new c).readPKCS5PrvKeyHex(m);else if(6===g.length)(T=new u).readPKCS5PrvKeyHex(m);else{if(!(g.length>2&&"04"===m.substr(g[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(T=new a).readPKCS5PrvKeyHex(m)}return T}if("pkcs8prv"===n)return d.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===n)return d._getKeyFromPublicPKCS8Hex(t);if("x509pub"===n)return Wt.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return Wt.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var y=Tt(t,"PUBLIC KEY");return d._getKeyFromPublicPKCS8Hex(y)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var b=l(t,"RSA PRIVATE KEY");return d.getKey(b,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var _=o(r=l(t,"DSA PRIVATE KEY"),0,[1],"02"),E=o(r,0,[2],"02"),S=o(r,0,[3],"02"),w=o(r,0,[4],"02"),I=o(r,0,[5],"02");return(T=new u).setPrivate(new x(_,16),new x(E,16),new x(S,16),new x(w,16),new x(I,16)),T}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED"))return b=l(t,"EC PRIVATE KEY"),d.getKey(b,null,"pkcs5prv");if(-1!=t.indexOf("-END PRIVATE KEY-"))return d.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var A=d.getDecryptedKeyHex(t,e),F=new it;return F.readPKCS5PrvKeyHex(A),F}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var C,T=o(r=d.getDecryptedKeyHex(t,e),0,[1],"04"),$=o(r,0,[2,0],"06"),L=o(r,0,[3,0],"03").substr(2);if(void 0===ct.crypto.OID.oidhex2name[$])throw"undefined OID(hex) in KJUR.crypto.OID: "+$;return(C=new a({curve:ct.crypto.OID.oidhex2name[$]})).setPublicKeyHex(L),C.setPrivateKeyHex(T),C.isPublic=!1,C}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED"))return _=o(r=d.getDecryptedKeyHex(t,e),0,[1],"02"),E=o(r,0,[2],"02"),S=o(r,0,[3],"02"),w=o(r,0,[4],"02"),I=o(r,0,[5],"02"),(T=new u).setPrivate(new x(_,16),new x(E,16),new x(S,16),new x(w,16),new x(I,16)),T;if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return d.getKeyFromEncryptedPKCS8PEM(t,e);throw new Error("not supported argument")},Ht.generateKeypair=function(t,e){if("RSA"==t){var n=e;(s=new it).generate(n,"10001"),s.isPrivate=!0,s.isPublic=!0;var r=new it,i=s.n.toString(16),o=s.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}if("EC"==t){var s,a,u=e,c=new ct.crypto.ECDSA({curve:u}).generateKeyPairHex();return(s=new ct.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),s.setPrivateKeyHex(c.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(r=new ct.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}throw"unknown algorithm: "+t},Ht.getPEM=function(t,e,n,r,i,o){var s=ct,a=s.asn1,u=a.DERObjectIdentifier,c=a.DERInteger,l=a.ASN1Util.newObject,d=a.x509.SubjectPublicKeyInfo,f=s.crypto,h=f.DSA,p=f.ECDSA,g=it;function m(t){return l({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function y(t){return l({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function b(t){return l({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==g&&t instanceof g||void 0!==h&&t instanceof h||void 0!==p&&t instanceof p)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return Ct(x=new d(t).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==g&&t instanceof g&&(void 0===n||null==n)&&1==t.isPrivate)return Ct(x=m(t).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==p&&t instanceof p&&(void 0===n||null==n)&&1==t.isPrivate){var _=new u({name:t.curveName}).getEncodedHex(),E=y(t).getEncodedHex(),S="";return(S+=Ct(_,"EC PARAMETERS"))+Ct(E,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==h&&t instanceof h&&(void 0===n||null==n)&&1==t.isPrivate)return Ct(x=b(t).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==g&&t instanceof g&&void 0!==n&&null!=n&&1==t.isPrivate){var x=m(t).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",x,n,r,o)}if("PKCS5PRV"==e&&void 0!==p&&t instanceof p&&void 0!==n&&null!=n&&1==t.isPrivate)return x=y(t).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",x,n,r,o);if("PKCS5PRV"==e&&void 0!==h&&t instanceof h&&void 0!==n&&null!=n&&1==t.isPrivate)return x=b(t).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",x,n,r,o);var w=function(t,e){var n=I(t,e);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},I=function(t,e){var n=v.lib.WordArray.random(8),r=v.lib.WordArray.random(8),i=v.PBKDF2(e,n,{keySize:6,iterations:100}),o=v.enc.Hex.parse(t),s=v.TripleDES.encrypt(o,i,{iv:r})+"",a={};return a.ciphertext=s,a.pbkdf2Salt=v.enc.Hex.stringify(n),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=v.enc.Hex.stringify(r),a};if("PKCS8PRV"==e&&null!=g&&t instanceof g&&1==t.isPrivate){var A=m(t).getEncodedHex();return x=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===n||null==n?Ct(x,"PRIVATE KEY"):Ct(E=w(x,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==p&&t instanceof p&&1==t.isPrivate)return A=new l({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]}).getEncodedHex(),x=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===n||null==n?Ct(x,"PRIVATE KEY"):Ct(E=w(x,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==e&&void 0!==h&&t instanceof h&&1==t.isPrivate)return A=new c({bigint:t.x}).getEncodedHex(),x=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===n||null==n?Ct(x,"PRIVATE KEY"):Ct(E=w(x,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Ht.getKeyFromCSRPEM=function(t){var e=Tt(t,"CERTIFICATE REQUEST");return Ht.getKeyFromCSRHex(e)},Ht.getKeyFromCSRHex=function(t){var e=Ht.parseCSRHex(t);return Ht.getKey(e.p8pubkeyhex,null,"pkcs8pub")},Ht.parseCSRHex=function(t){var e=ft,n=e.getChildIdx,r=e.getTLV,i={},o=t;if("30"!=o.substr(0,2))throw"malformed CSR(code:001)";var s=n(o,0);if(s.length<1)throw"malformed CSR(code:002)";if("30"!=o.substr(s[0],2))throw"malformed CSR(code:003)";var a=n(o,s[0]);if(a.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=r(o,a[2]),i},Ht.getKeyID=function(t){var e=Ht,n=ft;"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&(t=e.getKey(t));var r=Tt(e.getPEM(t)),i=n.getIdxbyList(r,0,[1]),o=n.getV(r,i).substring(2);return ct.crypto.Util.hashHex(o,"sha1")},Ht.getJWKFromKey=function(t){var e={};if(t instanceof it&&t.isPrivate)return e.kty="RSA",e.n=bt(t.n.toString(16)),e.e=bt(t.e.toString(16)),e.d=bt(t.d.toString(16)),e.p=bt(t.p.toString(16)),e.q=bt(t.q.toString(16)),e.dp=bt(t.dmp1.toString(16)),e.dq=bt(t.dmq1.toString(16)),e.qi=bt(t.coeff.toString(16)),e;if(t instanceof it&&t.isPublic)return e.kty="RSA",e.n=bt(t.n.toString(16)),e.e=bt(t.e.toString(16)),e;if(t instanceof ct.crypto.ECDSA&&t.isPrivate){if("P-256"!==(r=t.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;var n=t.getPublicKeyXYHex();return e.kty="EC",e.crv=r,e.x=bt(n.x),e.y=bt(n.y),e.d=bt(t.prvKeyHex),e}if(t instanceof ct.crypto.ECDSA&&t.isPublic){var r;if("P-256"!==(r=t.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;return n=t.getPublicKeyXYHex(),e.kty="EC",e.crv=r,e.x=bt(n.x),e.y=bt(n.y),e}throw"not supported key object"},it.getPosArrayOfChildrenFromHex=function(t){return ft.getChildIdx(t,0)},it.getHexValueArrayOfChildrenFromHex=function(t){var e,n=ft.getV,r=n(t,(e=it.getPosArrayOfChildrenFromHex(t))[0]),i=n(t,e[1]),o=n(t,e[2]),s=n(t,e[3]),a=n(t,e[4]),u=n(t,e[5]),c=n(t,e[6]),l=n(t,e[7]),d=n(t,e[8]);return(e=new Array).push(r,i,o,s,a,u,c,l,d),e},it.prototype.readPrivateKeyFromPEMString=function(t){var e=Tt(t),n=it.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},it.prototype.readPKCS5PrvKeyHex=function(t){var e=it.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},it.prototype.readPKCS8PrvKeyHex=function(t){var e,n,r,i,o,s,a,u,c=ft,l=c.getVbyListEx;if(!1===c.isASN1HEX(t))throw new Error("not ASN.1 hex string");try{e=l(t,0,[2,0,1],"02"),n=l(t,0,[2,0,2],"02"),r=l(t,0,[2,0,3],"02"),i=l(t,0,[2,0,4],"02"),o=l(t,0,[2,0,5],"02"),s=l(t,0,[2,0,6],"02"),a=l(t,0,[2,0,7],"02"),u=l(t,0,[2,0,8],"02")}catch(t){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(e,n,r,i,o,s,a,u)},it.prototype.readPKCS5PubKeyHex=function(t){var e=ft,n=e.getV;if(!1===e.isASN1HEX(t))throw new Error("keyHex is not ASN.1 hex string");var r=e.getChildIdx(t,0);if(2!==r.length||"02"!==t.substr(r[0],2)||"02"!==t.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(t,r[0]),o=n(t,r[1]);this.setPublic(i,o)},it.prototype.readPKCS8PubKeyHex=function(t){var e=ft;if(!1===e.isASN1HEX(t))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==e.getTLVbyListEx(t,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=e.getTLVbyListEx(t,0,[1,0]);this.readPKCS5PubKeyHex(n)},it.prototype.readCertPubKeyHex=function(t,e){var n,r;(n=new Wt).readCertHex(t),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var jt=new RegExp("[^0-9a-f]","gi");function Vt(t,e){for(var n="",r=e/4-t.length,i=0;i<r;i++)n+="0";return n+t}function qt(t,e,n){for(var r="",i=0;r.length<e;)r+=xt(n(wt(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Kt(t){for(var e in ct.crypto.Util.DIGESTINFOHEAD){var n=ct.crypto.Util.DIGESTINFOHEAD[e],r=n.length;if(t.substring(0,r)==n)return[e,t.substring(r)]}return[]}function Wt(t){var e,n=ft,r=n.getChildIdx,i=n.getV,o=n.getTLV,s=n.getVbyList,a=n.getVbyListEx,u=n.getTLVbyList,c=n.getTLVbyListEx,l=n.getIdxbyList,d=n.getIdxbyListEx,f=n.getVidx,h=n.oidname,p=n.hextooidstr,g=Wt,m=Tt;try{e=ct.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(t){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==u(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return a(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var t=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(t)},this.getAlgorithmIdentifierName=function(t){for(var n in e)if(t===e[n])return n;return h(a(t,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return g.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return g.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var t=s(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getNotAfter=function(){var t=s(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getPublicKeyHex=function(){return n.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return l(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return Ht.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var t=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(t)},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=u(this.hex,0,[0],"30"),i=new ct.crypto.Signature({alg:e});return i.init(t),i.updateHex(r),i.verify(n)},this.parseExt=function(t){var e,o,a;if(void 0===t){if(a=this.hex,3!==this.version)return-1;e=l(a,0,[0,7,0],"30"),o=r(a,e)}else{a=Tt(t);var u=l(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(a,u))return void(this.aExtInfo=new Array);e=l(a,0,[0,3,0,1,0],"30"),o=r(a,e),this.hex=a}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var d={critical:!1},h=0;3===r(a,o[c]).length&&(d.critical=!0,h=1),d.oid=n.hextooidstr(s(a,o[c],[0],"06"));var p=l(a,o[c],[1+h]);d.vidx=f(a,p),this.aExtInfo.push(d)}},this.getExtInfo=function(t){var e=this.aExtInfo,n=t;if(t.match(/^[0-9.]+$/)||(n=ct.asn1.x509.OID.name2oid(t)),""!==n)for(var r=0;r<e.length;r++)if(e[r].oid===n)return e[r]},this.getExtBasicConstraints=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var r={extname:"basicConstraints"};if(e&&(r.critical=!0),"3000"===t)return r;if("30030101ff"===t)return r.cA=!0,r;if("30060101ff02"===t.substr(0,12)){var s=i(t,10),a=parseInt(s,16);return r.cA=!0,r.pathLen=a,r}throw new Error("hExtV parse error: "+t)},this.getExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("keyUsage");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var r={extname:"keyUsage"};return e&&(r.critical=!0),r.names=this.getExtKeyUsageString(t).split(","),r},this.getExtKeyUsageBin=function(t){if(void 0===t){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";t=o(this.hex,e.vidx)}if(8!=t.length&&10!=t.length)throw new Error("malformed key usage value: "+t);var n="000000000000000"+parseInt(t.substr(6),16).toString(2);return 8==t.length&&(n=n.slice(-8)),10==t.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(t){for(var e=this.getExtKeyUsageBin(t),n=new Array,r=0;r<e.length;r++)"1"==e.substr(r,1)&&n.push(Wt.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var r={extname:"subjectKeyIdentifier"};e&&(r.critical=!0);var s=i(t,0);return r.kid={hex:s},r},this.getExtAuthorityKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var s={extname:"authorityKeyIdentifier"};e&&(s.critical=!0);for(var a=r(t,0),u=0;u<a.length;u++){var c=t.substr(a[u],2);if("80"===c&&(s.kid={hex:i(t,a[u])}),"a1"===c){var l=o(t,a[u]),d=this.getGeneralNames(l);s.issuer=d[0].dn}"82"===c&&(s.sn={hex:i(t,a[u])})}return s},this.getExtExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var s={extname:"extKeyUsage",array:[]};e&&(s.critical=!0);for(var a=r(t,0),u=0;u<a.length;u++)s.array.push(h(i(t,a[u])));return s},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var e=new Array,n=o(this.hex,t.vidx);if(""===n)return e;for(var s=r(n,0),a=0;a<s.length;a++)e.push(h(i(n,s[a])));return e},this.getExtSubjectAltName=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var r={extname:"subjectAltName",array:[]};return e&&(r.critical=!0),r.array=this.getGeneralNames(t),r},this.getExtIssuerAltName=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var r={extname:"issuerAltName",array:[]};return e&&(r.critical=!0),r.array=this.getGeneralNames(t),r},this.getGeneralNames=function(t){for(var e=r(t,0),n=[],i=0;i<e.length;i++){var s=this.getGeneralName(o(t,e[i]));void 0!==s&&n.push(s)}return n},this.getGeneralName=function(t){var e=t.substr(0,2),n=i(t,0),r=xt(n);return"81"==e?{rfc822:r}:"82"==e?{dns:r}:"86"==e?{uri:r}:"87"==e?{ip:Nt(n)}:"a4"==e?{dn:this.getX500Name(n)}:void 0},this.getExtSubjectAltName2=function(){var t,e,n,s=this.getExtInfo("subjectAltName");if(void 0===s)return s;for(var a=new Array,u=o(this.hex,s.vidx),c=r(u,0),l=0;l<c.length;l++)n=u.substr(c[l],2),t=i(u,c[l]),"81"===n&&(e=St(t),a.push(["MAIL",e])),"82"===n&&(e=St(t),a.push(["DNS",e])),"84"===n&&(e=Wt.hex2dn(t,0),a.push(["DN",e])),"86"===n&&(e=St(t),a.push(["URI",e])),"87"===n&&(e=Nt(t),a.push(["IP",e]));return a},this.getExtCRLDistributionPoints=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var i={extname:"cRLDistributionPoints",array:[]};e&&(i.critical=!0);for(var s=r(t,0),a=0;a<s.length;a++){var u=o(t,s[a]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(t){for(var e={},n=r(t,0),i=0;i<n.length;i++){var s=t.substr(n[i],2),a=o(t,n[i]);"a0"==s&&(e.dpname=this.getDistributionPointName(a))}return e},this.getDistributionPointName=function(t){for(var e={},n=r(t,0),i=0;i<n.length;i++){var s=t.substr(n[i],2),a=o(t,n[i]);"a0"==s&&(e.full=this.getGeneralNames(a))}return e},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtInfo("cRLDistributionPoints");if(void 0===t)return t;for(var e=new Array,n=r(this.hex,t.vidx),i=0;i<n.length;i++)try{var o=St(s(this.hex,n[i],[0,0,0],"86"));e.push(o)}catch(t){}return e},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var e={ocsp:[],caissuer:[]},n=r(this.hex,t.vidx),i=0;i<n.length;i++){var o=s(this.hex,n[i],[0],"06"),a=s(this.hex,n[i],[1],"86");"2b06010505073001"===o&&e.ocsp.push(St(a)),"2b06010505073002"===o&&e.caissuer.push(St(a))}return e},this.getExtAuthorityInfoAccess=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var i={extname:"authorityInfoAccess",array:[]};e&&(i.critical=!0);for(var u=r(t,0),c=0;c<u.length;c++){var l=a(t,u[c],[0],"06"),d=St(s(t,u[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:d});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:d})}}return i},this.getExtCertificatePolicies=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var i={extname:"certificatePolicies",array:[]};e&&(i.critical=!0);for(var s=r(t,0),a=0;a<s.length;a++){var u=o(t,s[a]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(t){var e={},n=s(t,0,[0],"06");e.policyoid=h(n);var i=d(t,0,[1],"30");if(-1!=i){e.array=[];for(var a=r(t,i),u=0;u<a.length;u++){var c=o(t,a[u]),l=this.getPolicyQualifierInfo(c);e.array.push(l)}}return e},this.getPolicyQualifierInfo=function(t){var e={},n=s(t,0,[0],"06");if("2b06010505070201"===n){var r=a(t,0,[1],"16");e.cps=xt(r)}else if("2b06010505070202"===n){var i=u(t,0,[1],"30");e.unotice=this.getUserNotice(i)}return e},this.getUserNotice=function(t){for(var e={},n=r(t,0),i=0;i<n.length;i++){var s=o(t,n[i]);"30"!=s.substr(0,2)&&(e.exptext=this.getDisplayText(s))}return e},this.getDisplayText=function(t){var e={};return e.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[t.substr(0,2)],e.str=xt(i(t,0)),e},this.getExtCRLNumber=function(t,e){var n={extname:"cRLNumber"};if(e&&(n.critical=!0),"02"==t.substr(0,2))return n.num={hex:i(t,0)},n;throw new Error("hExtV parse error: "+t)},this.getExtCRLReason=function(t,e){var n={extname:"cRLReason"};if(e&&(n.critical=!0),"0a"==t.substr(0,2))return n.code=parseInt(i(t,0),16),n;throw new Error("hExtV parse error: "+t)},this.getExtOcspNonce=function(t,e){var n={extname:"ocspNonce"};e&&(n.critical=!0);var r=i(t,0);return n.hex=r,n},this.getExtOcspNoCheck=function(t,e){var n={extname:"ocspNoCheck"};return e&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;t=o(this.hex,n.vidx),e=n.critical}var i={extname:"adobeTimeStamp"};e&&(i.critical=!0);var s=r(t,0);if(s.length>1){var a=o(t,s[1]),u=this.getGeneralName(a);null!=u.uri&&(i.uri=u.uri)}if(s.length>2){var c=o(t,s[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(t){for(var e=null,n=[],r=0;r<t.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(i[o]);for(r=0;r<n.length;r++){var s=n[r],a=s.ds,u=s.value,c=s.type;if("prn"!=a&&"utf8"!=a&&"ia5"!=a)return"mixed";if("ia5"==a){if("CN"!=c)return"mixed";if(ct.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==a)continue;return"mixed"}if(null==e)e=a;else if(e!==a)return"mixed"}return null==e?"prn":e},this.getX500Name=function(t){var e=this.getX500NameArray(t);return{array:e,str:this.dnarraytostr(e)}},this.getX500NameArray=function(t){for(var e=[],n=r(t,0),i=0;i<n.length;i++)e.push(this.getRDN(o(t,n[i])));return e},this.getRDN=function(t){for(var e=[],n=r(t,0),i=0;i<n.length;i++)e.push(this.getAttrTypeAndValue(o(t,n[i])));return e},this.getAttrTypeAndValue=function(t){var e={type:null,value:null,ds:null},n=r(t,0),i=s(t,n[0],[],"06"),o=s(t,n[1],[]),a=ct.asn1.ASN1Util.oidHexToInt(i);return e.type=ct.asn1.x509.OID.oid2atype(a),e.value=xt(o),e.ds=this.HEX2STAG[t.substr(n[1],2)],e},this.readCertPEM=function(t){this.readCertHex(m(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getParam=function(){var t={};return t.version=this.getVersion(),t.serial={hex:this.getSerialNumberHex()},t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(),t.notbefore=this.getNotBefore(),t.notafter=this.getNotAfter(),t.subject=this.getSubject(),t.sbjpubkey=Ct(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(t.ext=this.getExtParamArray()),t.sighex=this.getSignatureValueHex(),t},this.getExtParamArray=function(t){null==t&&-1!=d(this.hex,0,[0,"[3]"])&&(t=c(this.hex,0,[0,"[3]",0],"30"));for(var e=[],n=r(t,0),i=0;i<n.length;i++){var s=o(t,n[i]),a=this.getExtParam(s);null!=a&&e.push(a)}return e},this.getExtParam=function(t){var e=r(t,0).length;if(2!=e&&3!=e)throw new Error("wrong number elements in Extension: "+e+" "+t);var n=p(s(t,0,[0],"06")),i=!1;3==e&&"0101ff"==u(t,0,[1])&&(i=!0);var o=u(t,0,[e-1,0]),a=void 0;if("2.5.29.14"==n?a=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==n?a=this.getExtKeyUsage(o,i):"2.5.29.17"==n?a=this.getExtSubjectAltName(o,i):"2.5.29.18"==n?a=this.getExtIssuerAltName(o,i):"2.5.29.19"==n?a=this.getExtBasicConstraints(o,i):"2.5.29.31"==n?a=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==n?a=this.getExtCertificatePolicies(o,i):"2.5.29.35"==n?a=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.37"==n?a=this.getExtExtKeyUsage(o,i):"1.3.6.1.5.5.7.1.1"==n?a=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==n?a=this.getExtCRLNumber(o,i):"2.5.29.21"==n?a=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==n?a=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==n?a=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==n&&(a=this.getExtAdobeTimeStamp(o,i)),null!=a)return a;var c={extname:n,extn:o};return i&&(c.critical=!0),c},this.findExt=function(t,e){for(var n=0;n<t.length;n++)if(t[n].extname==e)return t[n];return null},this.updateExtCDPFullURI=function(t,e){var n=this.findExt(t,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var o=r[i].dpname.full,s=0;s<o.length;s++){var a=o[i];null!=a.uri&&(a.uri=e)}},this.updateExtAIAOCSP=function(t,e){var n=this.findExt(t,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=e)},this.updateExtAIACAIssuer=function(t,e){var n=this.findExt(t,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=e)},this.dnarraytostr=function(t){return"/"+t.map((function(t){return function(t){return t.map((function(t){return function(t){return t.type+"="+t.value}(t)})).join("+")}(t)})).join("/")},this.getInfo=function(){var t,e,n,r=function(t){return JSON.stringify(t.array).replace(/[\[\]\{\}\"]/g,"")},i=function(t){for(var e="",n=t.array,r=0;r<n.length;r++){var i=n[r];if(e+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var s=i.array[o];void 0!==s.cps&&(e+="    cps: "+s.cps+"\n")}}return e},o=function(t){for(var e="",n=t.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(e+="    "+i.dpname.full[0].uri+"\n")}catch(t){}try{void 0!==i.dname.full[0].dn.hex&&(e+="    "+Wt.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(t){}}return e},s=function(t){for(var e="",n=t.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(e+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(e+="    ocsp: "+i.ocsp+"\n")}return e};if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+Mt(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+Mt(e.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){t+="X509v3 Extensions:\n";for(var a=0;a<n.length;a++){var u=n[a],c=ct.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),t+="  "+c+" "+l+":\n","basicConstraints"===c){var d=this.getExtBasicConstraints();void 0===d.cA?t+="    {}\n":(t+="    cA=true",void 0!==d.pathLen&&(t+=", pathLen="+d.pathLen),t+="\n")}else if("keyUsage"===c)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)t+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var f=this.getExtAuthorityKeyIdentifier();void 0!==f.kid&&(t+="    kid="+f.kid.hex+"\n")}else"extKeyUsage"===c?t+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?t+="    "+r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===c?t+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?t+=s(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(t+=i(this.getExtCertificatePolicies()))}}return(t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?this.readCertPEM(t):ct.lang.String.isHex(t)&&this.readCertHex(t))}it.prototype.sign=function(t,e){var n=function(t){return ct.crypto.Util.hashString(t,e)}(t);return this.signWithMessageHash(n,e)},it.prototype.signWithMessageHash=function(t,e){var n=nt(ct.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return Vt(this.doPrivate(n).toString(16),this.n.bitLength())},it.prototype.signPSS=function(t,e,n){var r=function(t){return ct.crypto.Util.hashHex(t,e)}(wt(t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,e,n)},it.prototype.signWithMessageHashPSS=function(t,e,n){var r,i=xt(t),o=i.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),u=function(t){return ct.crypto.Util.hashHex(t,e)};if(-1===n||void 0===n)n=o;else if(-2===n)n=a-o-2;else if(n<-2)throw new Error("invalid salt length");if(a<o+n+2)throw new Error("data too long");var c="";n>0&&(c=new Array(n),(new et).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=xt(u(wt("\0\0\0\0\0\0\0\0"+i+c))),d=[];for(r=0;r<a-n-o-2;r+=1)d[r]=0;var f=String.fromCharCode.apply(String,d)+""+c,h=qt(l,f.length,u),p=[];for(r=0;r<f.length;r+=1)p[r]=f.charCodeAt(r)^h.charCodeAt(r);var g=65280>>8*a-s&255;for(p[0]&=~g,r=0;r<o;r++)p.push(l.charCodeAt(r));return p.push(188),Vt(this.doPrivate(new x(p)).toString(16),this.n.bitLength())},it.prototype.verify=function(t,e){var n=nt(e=(e=e.replace(jt,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=Kt(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;var i=r[0];return r[1]==function(t){return ct.crypto.Util.hashString(t,i)}(t)},it.prototype.verifyWithMessageHash=function(t,e){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=nt(e,16);if(n.bitLength()>this.n.bitLength())return 0;var r=Kt(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==t)},it.prototype.verifyPSS=function(t,e,n,r){var i=function(t){return ct.crypto.Util.hashHex(t,n)}(wt(t));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,e,n,r)},it.prototype.verifyWithMessageHashPSS=function(t,e,n,r){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new x(e,16),s=function(t){return ct.crypto.Util.hashHex(t,n)},a=xt(t),u=a.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=l-u-2;else if(r<-2)throw new Error("invalid salt length");if(l<u+r+2)throw new Error("data too long");var d=this.doPublic(o).toByteArray();for(i=0;i<d.length;i+=1)d[i]&=255;for(;d.length<l;)d.unshift(0);if(188!==d[l-1])throw new Error("encoded message does not end in 0xbc");var f=(d=String.fromCharCode.apply(String,d)).substr(0,l-u-1),h=d.substr(f.length,u),p=65280>>8*l-c&255;if(0!=(f.charCodeAt(0)&p))throw new Error("bits beyond keysize not zero");var g=qt(h,f.length,s),m=[];for(i=0;i<f.length;i+=1)m[i]=f.charCodeAt(i)^g.charCodeAt(i);m[0]&=~p;var v=l-u-r-2;for(i=0;i<v;i+=1)if(0!==m[i])throw new Error("leftmost octets not zero");if(1!==m[v])throw new Error("0x01 marker not found");return h===xt(s(wt("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,m.slice(-r)))))},it.SALT_LEN_HLEN=-1,it.SALT_LEN_MAX=-2,it.SALT_LEN_RECOVER=-2,Wt.hex2dn=function(t,e){if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw new Error("malformed DN");for(var n=new Array,r=ft.getChildIdx(t,e),i=0;i<r.length;i++)n.push(Wt.hex2rdn(t,r[i]));return"/"+(n=n.map((function(t){return t.replace("/","\\/")}))).join("/")},Wt.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw new Error("malformed RDN");for(var n=new Array,r=ft.getChildIdx(t,e),i=0;i<r.length;i++)n.push(Wt.hex2attrTypeValue(t,r[i]));return(n=n.map((function(t){return t.replace("+","\\+")}))).join("+")},Wt.hex2attrTypeValue=function(t,e){var n=ft,r=n.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(t,e);2!==i.length||t.substr(i[0],2);var o=r(t,i[0]),s=ct.asn1.ASN1Util.oidHexToInt(o);return ct.asn1.x509.OID.oid2atype(s)+"="+xt(r(t,i[1]))},Wt.getPublicKeyFromCertHex=function(t){var e=new Wt;return e.readCertHex(t),e.getPublicKey()},Wt.getPublicKeyFromCertPEM=function(t){var e=new Wt;return e.readCertPEM(t),e.getPublicKey()},Wt.getPublicKeyInfoPropOfCertPEM=function(t){var e,n,r=ft.getVbyList,i={algparam:null};return(e=new Wt).readCertPEM(t),n=e.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},Wt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ct&&ct||(e.KJUR=ct={}),void 0!==ct.jws&&ct.jws||(ct.jws={}),ct.jws.JWS=function(){var t=ct.jws.JWS.isSafeJSONString;this.parseJWS=function(e,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],a=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!n){var u=_t(s),c=nt(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=dt(i),d=dt(o);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=d,!t(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ct.jws.JWS.sign=function(t,e,r,i,o){var s,a,u,c=ct,l=c.jws.JWS,d=l.readSafeJSONString,f=l.isSafeJSONString,h=c.crypto,p=(h.ECDSA,h.Mac),g=h.Signature,m=JSON;if("string"!=typeof e&&"object"!=(void 0===e?"undefined":n(e)))throw"spHeader must be JSON string or object: "+e;if("object"==(void 0===e?"undefined":n(e))&&(a=e,s=m.stringify(a)),"string"==typeof e){if(!f(s=e))throw"JWS Head is not safe JSON string: "+s;a=d(s)}if(u=r,"object"==(void 0===r?"undefined":n(r))&&(u=m.stringify(r)),""!=t&&null!=t||void 0===a.alg||(t=a.alg),""!=t&&null!=t&&void 0===a.alg&&(a.alg=t,s=m.stringify(a)),t!==a.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+a.alg;var v=null;if(void 0===l.jwsalg2sigalg[t])throw"unsupported alg name: "+t;v=l.jwsalg2sigalg[t];var y=lt(s)+"."+lt(u),b="";if("Hmac"==v.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var _=new p({alg:v,prov:"cryptojs",pass:i});_.updateString(y),b=_.doFinal()}else if(-1!=v.indexOf("withECDSA")){(S=new g({alg:v})).init(i,o),S.updateString(y);var E=S.sign();b=ct.crypto.ECDSA.asn1SigToConcatSig(E)}else{var S;"none"!=v&&((S=new g({alg:v})).init(i,o),S.updateString(y),b=S.sign())}return y+"."+bt(b)},ct.jws.JWS.verify=function(t,e,r){var i,o=ct,s=o.jws.JWS,a=s.readSafeJSONString,u=o.crypto,c=u.ECDSA,l=u.Mac,d=u.Signature;void 0!==n(it)&&(i=it);var f=t.split(".");if(3!==f.length)return!1;var h,p=f[0]+"."+f[1],g=_t(f[2]),m=a(dt(f[0])),v=null;if(void 0===m.alg)throw"algorithm not specified in header";if(h=(v=m.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=Ht.getKey(e)),!("RS"!=h&&"PS"!=h||e instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(e instanceof c))throw"key shall be a ECDSA obj for ES* algs";var y=null;if(void 0===s.jwsalg2sigalg[m.alg])throw"unsupported alg name: "+v;if("none"==(y=s.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==y.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var b=new l({alg:y,pass:e});return b.updateString(p),g==b.doFinal()}if(-1!=y.indexOf("withECDSA")){var _,E=null;try{E=c.concatSigToASN1Sig(g)}catch(t){return!1}return(_=new d({alg:y})).init(e),_.updateString(p),_.verify(E)}return(_=new d({alg:y})).init(e),_.updateString(p),_.verify(g)},ct.jws.JWS.parse=function(t){var e,n,r,i=t.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=ct.jws.JWS.readSafeJSONString(dt(e)),o.payloadObj=ct.jws.JWS.readSafeJSONString(dt(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=dt(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=_t(r)),o},ct.jws.JWS.verifyJWT=function(t,e,r){var i=ct.jws,o=i.JWS,s=o.readSafeJSONString,a=o.inArray,u=o.includedArray,c=t.split("."),l=c[0],d=c[1],f=(_t(c[2]),s(dt(l))),h=s(dt(d));if(void 0===f.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!a(f.alg,r.alg))return!1;if(void 0!==h.iss&&"object"===n(r.iss)&&!a(h.iss,r.iss))return!1;if(void 0!==h.sub&&"object"===n(r.sub)&&!a(h.sub,r.sub))return!1;if(void 0!==h.aud&&"object"===n(r.aud))if("string"==typeof h.aud){if(!a(h.aud,r.aud))return!1}else if("object"==n(h.aud)&&!u(h.aud,r.aud))return!1;var p=i.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(p=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==h.exp&&"number"==typeof h.exp&&h.exp+r.gracePeriod<p||void 0!==h.nbf&&"number"==typeof h.nbf&&p<h.nbf-r.gracePeriod||void 0!==h.iat&&"number"==typeof h.iat&&p<h.iat-r.gracePeriod||void 0!==h.jti&&void 0!==r.jti&&h.jti!==r.jti||!o.verify(t,e,r.alg))},ct.jws.JWS.includedArray=function(t,e){var r=ct.jws.JWS.inArray;if(null===t)return!1;if("object"!==(void 0===t?"undefined":n(t)))return!1;if("number"!=typeof t.length)return!1;for(var i=0;i<t.length;i++)if(!r(t[i],e))return!1;return!0},ct.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!==(void 0===e?"undefined":n(e)))return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},ct.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ct.jws.JWS.isSafeJSONString=function(t,e,r){var i=null;try{return"object"!=(void 0===(i=ut(t))?"undefined":n(i))||i.constructor===Array?0:(e&&(e[r]=i),1)}catch(t){return 0}},ct.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=(void 0===(e=ut(t))?"undefined":n(e))||e.constructor===Array?null:e}catch(t){return null}},ct.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},ct.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var n=wt(e);return bt(ct.crypto.Util.hashHex(n,"sha256"))},ct.jws.IntDate={},ct.jws.IntDate.get=function(t){var e=ct.jws.IntDate,n=e.getNow,r=e.getZulu;if("now"==t)return n();if("now + 1hour"==t)return n()+3600;if("now + 1day"==t)return n()+86400;if("now + 1month"==t)return n()+2592e3;if("now + 1year"==t)return n()+31536e3;if(t.match(/Z$/))return r(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},ct.jws.IntDate.getZulu=function(t){return Lt(t)},ct.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ct.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},ct.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},e.SecureRandom=et,e.rng_seed_time=G,e.BigInteger=x,e.RSAKey=it;var zt=ct.crypto.EDSA;e.EDSA=zt;var Jt=ct.crypto.DSA;e.DSA=Jt;var Gt=ct.crypto.Signature;e.Signature=Gt;var Yt=ct.crypto.MessageDigest;e.MessageDigest=Yt;var Xt=ct.crypto.Mac;e.Mac=Xt;var Qt=ct.crypto.Cipher;e.Cipher=Qt,e.KEYUTIL=Ht,e.ASN1HEX=ft,e.X509=Wt,e.CryptoJS=v,e.b64tohex=E,e.b64toBA=S,e.stoBA=ht,e.BAtos=pt,e.BAtohex=gt,e.stohex=mt,e.stob64=function(t){return _(mt(t))},e.stob64u=function(t){return vt(_(mt(t)))},e.b64utos=function(t){return pt(S(yt(t)))},e.b64tob64u=vt,e.b64utob64=yt,e.hex2b64=_,e.hextob64u=bt,e.b64utohex=_t,e.utf8tob64u=lt,e.b64utoutf8=dt,e.utf8tob64=function(t){return _(kt(Dt(t)))},e.b64toutf8=function(t){return decodeURIComponent(Rt(E(t)))},e.utf8tohex=Et,e.hextoutf8=St,e.hextorstr=xt,e.rstrtohex=wt,e.hextob64=It,e.hextob64nl=At,e.b64nltohex=Ft,e.hextopem=Ct,e.pemtohex=Tt,e.hextoArrayBuffer=function(t){if(t.length%2!=0)throw"input is not even length";if(null==t.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var e=new ArrayBuffer(t.length/2),n=new DataView(e),r=0;r<t.length/2;r++)n.setUint8(r,parseInt(t.substr(2*r,2),16));return e},e.ArrayBuffertohex=function(t){for(var e="",n=new DataView(t),r=0;r<t.byteLength;r++)e+=("00"+n.getUint8(r).toString(16)).slice(-2);return e},e.zulutomsec=$t,e.zulutosec=Lt,e.zulutodate=function(t){return new Date($t(t))},e.datetozulu=function(t,e,n){var r,i=t.getUTCFullYear();if(e){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(t.getUTCMonth()+1)).slice(-2),r+=("0"+t.getUTCDate()).slice(-2),r+=("0"+t.getUTCHours()).slice(-2),r+=("0"+t.getUTCMinutes()).slice(-2),r+=("0"+t.getUTCSeconds()).slice(-2),n){var o=t.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},e.uricmptohex=kt,e.hextouricmp=Rt,e.ipv6tohex=Ot,e.hextoipv6=Pt,e.hextoip=Nt,e.iptohex=function(t){var e="malformed IP address";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return Ot(t);throw e}var n=t.split(".");if(4!==n.length)throw e;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(t){throw e}},e.encodeURIComponentAll=Dt,e.newline_toUnix=function(t){return t.replace(/\r\n/gm,"\n")},e.newline_toDos=function(t){return(t=t.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},e.hextoposhex=Mt,e.intarystrtohex=function(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map((function(t,e,n){var r=parseInt(t);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)})).join("")}catch(t){throw"malformed integer array string: "+t}},e.strdiffidx=function(t,e){var n=t.length;t.length>e.length&&(n=e.length);for(var r=0;r<n;r++)if(t.charCodeAt(r)!=e.charCodeAt(r))return r;return t.length!=e.length?n:-1},e.KJUR=ct;var Zt=ct.crypto;e.crypto=Zt;var te=ct.asn1;e.asn1=te;var ee=ct.jws;e.jws=ee;var ne=ct.lang;e.lang=ne}).call(this,n(28).Buffer)},function(t,e,n){(function(t){
/*!
    	 * The buffer module from node.js, for the browser.
    	 *
    	 * @author   Feross Aboukhadijeh <http://feross.org>
    	 * @license  MIT
    	 */
var r=n(30),i=n(31),o=n(32);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=a(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|h(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(l(e),t=a(t,e<0?0:0|h(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|h(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return $(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){d=!1;break}if(d)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function _(t,e,n,r){return V(H(e,t.length-n),t,n,r)}function E(t,e,n,r){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return E(t,e,n,r)}function x(t,e,n,r){return V(j(e),t,n,r)}function w(t,e,n,r){return V(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function I(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(t){var e=t.length;if(e<=F)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=F));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return d(null,t)},u.allocUnsafeSlow=function(t){return d(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n),d=0;d<a;++d)if(c[d]!==l[d]){o=c[d],s=l[d];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function $(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function L(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,o){return o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:H(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(29))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),s=r[0],a=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(l(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+t[e+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*u-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+h]=255&s,h+=p,s/=256,c-=8);t[n+h-p]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.jws,n=t.KeyUtil,i=t.X509,o=t.crypto,s=t.hextob64u,a=t.b64tohex,u=t.AllowedSigningAlgs;return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.parseJwt=function t(n){r.Log.debug("JoseUtil.parseJwt");try{var i=e.JWS.parse(n);return{header:i.headerObj,payload:i.payloadObj}}catch(t){r.Log.error(t)}},t.validateJwt=function(e,o,s,u,c,l,d){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=n.getKey(o);else{if(!o.x5c||!o.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var f=a(o.x5c[0]);o=i.getPublicKeyFromCertHex(f)}else{if("EC"!==o.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=n.getKey(o)}return t._validateJwt(e,o,s,u,c,l,d)}catch(t){return r.Log.error(t&&t.message||t),Promise.reject("JWT validation failed")}},t.validateJwtAttributes=function(e,n,i,o,s,a){o||(o=0),s||(s=parseInt(Date.now()/1e3));var u=t.parseJwt(e).payload;if(!u.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(u.iss!==n)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",u.iss),Promise.reject(new Error("Invalid issuer in token: "+u.iss));if(!u.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(u.aud===i||Array.isArray(u.aud)&&u.aud.indexOf(i)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",u.aud),Promise.reject(new Error("Invalid audience in token: "+u.aud));if(u.azp&&u.azp!==i)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",u.azp),Promise.reject(new Error("Invalid azp in token: "+u.azp));if(!a){var c=s+o,l=s-o;if(!u.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(c<u.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",u.iat),Promise.reject(new Error("iat is in the future: "+u.iat));if(u.nbf&&c<u.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",u.nbf),Promise.reject(new Error("nbf is in the future: "+u.nbf));if(!u.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(u.exp<l)return r.Log.error("JoseUtil._validateJwt: exp is in the past",u.exp),Promise.reject(new Error("exp is in the past:"+u.exp))}return Promise.resolve(u)},t._validateJwt=function(n,i,o,s,a,c,l){return t.validateJwtAttributes(n,o,s,a,c,l).then((function(t){try{return e.JWS.verify(n,i,u)?t:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(t){return r.Log.error(t&&t.message||t),Promise.reject(new Error("signature validation failed"))}}))},t.hashString=function t(e,n){try{return o.Util.hashString(e,n)}catch(t){r.Log.error(t)}},t.hexToBase64Url=function t(e){try{return s(e)}catch(t){r.Log.error(t)}},t}()};var r=n(0);t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SigninResponse=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.SigninResponse=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";o(this,t);var r=i.UrlUtility.parseUrlFragment(e,n);this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.code=r.code,this.state=r.state,this.id_token=r.id_token,this.session_state=r.session_state,this.access_token=r.access_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=void 0,this.expires_in=r.expires_in}return r(t,[{key:"expires_in",get:function(){if(this.expires_at){var t=parseInt(Date.now()/1e3);return this.expires_at-t}},set:function(t){var e=parseInt(t);if("number"==typeof e&&e>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+e}}},{key:"expired",get:function(){var t=this.expires_in;if(void 0!==t)return t<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SignoutRequest=void 0;var r=n(0),i=n(3),o=n(9);e.SignoutRequest=function t(e){var n=e.url,s=e.id_token_hint,a=e.post_logout_redirect_uri,u=e.data,c=e.extraQueryParams,l=e.request_type;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!n)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var d in s&&(n=i.UrlUtility.addQueryParam(n,"id_token_hint",s)),a&&(n=i.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",a),u&&(this.state=new o.State({data:u,request_type:l}),n=i.UrlUtility.addQueryParam(n,"state",this.state.id))),c)n=i.UrlUtility.addQueryParam(n,d,c[d]);this.url=n}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SignoutResponse=void 0;var r=n(3);e.SignoutResponse=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=r.UrlUtility.parseUrlFragment(e,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryWebStorage=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.InMemoryWebStorage=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data={}}return t.prototype.getItem=function(t){return i.Log.debug("InMemoryWebStorage.getItem",t),this._data[t]},t.prototype.setItem=function(t,e){i.Log.debug("InMemoryWebStorage.setItem",t),this._data[t]=e},t.prototype.removeItem=function(t){i.Log.debug("InMemoryWebStorage.removeItem",t),delete this._data[t]},t.prototype.key=function(t){return Object.getOwnPropertyNames(this._data)[t]},r(t,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.UserManager=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(10),s=n(39),a=n(15),u=n(45),c=n(47),l=n(18),d=n(8),f=n(20),h=n(11),p=n(4);function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.UserManager=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.SessionMonitor,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.TokenRevocationClient,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TokenClient,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.JoseUtil;g(this,e),n instanceof s.UserManagerSettings||(n=new s.UserManagerSettings(n));var y=m(this,t.call(this,n));return y._events=new u.UserManagerEvents(n),y._silentRenewService=new r(y),y.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),y.startSilentRenew()),y.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),y._sessionMonitor=new o(y)),y._tokenRevocationClient=new a(y._settings),y._tokenClient=new d(y._settings),y._joseUtil=v,y}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getUser=function(){var t=this;return this._loadUser().then((function(e){return e?(i.Log.info("UserManager.getUser: user loaded"),t._events.load(e,!1),e):(i.Log.info("UserManager.getUser: user not found in storage"),null)}))},e.prototype.removeUser=function(){var t=this;return this.storeUser(null).then((function(){i.Log.info("UserManager.removeUser: user removed from storage"),t._events.unload()}))},e.prototype.signinRedirect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:r";var e={useReplaceToNavigate:t.useReplaceToNavigate};return this._signinStart(t,this._redirectNavigator,e).then((function(){i.Log.info("UserManager.signinRedirect: successful")}))},e.prototype.signinRedirectCallback=function(t){return this._signinEnd(t||this._redirectNavigator.url).then((function(t){return t.profile&&t.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),t}))},e.prototype.signinPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:p";var e=t.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return e?(t.redirect_uri=e,t.display="popup",this._signin(t,this._popupNavigator,{startUrl:e,popupWindowFeatures:t.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:t.popupWindowTarget||this.settings.popupWindowTarget}).then((function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),t}))):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},e.prototype.signinPopupCallback=function(t){return this._signinCallback(t,this._popupNavigator).then((function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),t})).catch((function(t){i.Log.error(t.message)}))},e.prototype.signinSilent=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Object.assign({},e),this._loadUser().then((function(n){return n&&n.refresh_token?(e.refresh_token=n.refresh_token,t._useRefreshToken(e)):(e.request_type="si:s",e.id_token_hint=e.id_token_hint||t.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&t._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),e.current_sub=n.profile.sub),t._signinSilentIframe(e))}))},e.prototype._useRefreshToken=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(e).then((function(e){return e?e.access_token?t._loadUser().then((function(n){if(n){var r=Promise.resolve();return e.id_token&&(r=t._validateIdTokenFromTokenRefreshToken(n.profile,e.id_token)),r.then((function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=e.id_token||n.id_token,n.access_token=e.access_token,n.refresh_token=e.refresh_token||n.refresh_token,n.expires_in=e.expires_in,t.storeUser(n).then((function(){return t._events.load(n),n}))}))}return null})):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},e.prototype._validateIdTokenFromTokenRefreshToken=function(t,e){var n=this;return this._metadataService.getIssuer().then((function(r){return n.settings.getEpochTime().then((function(o){return n._joseUtil.validateJwtAttributes(e,r,n._settings.client_id,n._settings.clockSkew,o).then((function(e){return e?e.sub!==t.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):e.auth_time&&e.auth_time!==t.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):e.azp&&e.azp!==t.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!e.azp&&t.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},e.prototype._signinSilentIframe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return e?(t.redirect_uri=e,t.prompt=t.prompt||"none",this._signin(t,this._iframeNavigator,{startUrl:e,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),t}))):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},e.prototype.signinSilentCallback=function(t){return this._signinCallback(t,this._iframeNavigator).then((function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),t}))},e.prototype.signinCallback=function(t){var e=this;return this.readSigninResponseState(t).then((function(n){var r=n.state;return n.response,"si:r"===r.request_type?e.signinRedirectCallback(t):"si:p"===r.request_type?e.signinPopupCallback(t):"si:s"===r.request_type?e.signinSilentCallback(t):Promise.reject(new Error("invalid response_type in state"))}))},e.prototype.signoutCallback=function(t,e){var n=this;return this.readSignoutResponseState(t).then((function(r){var i=r.state,o=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(t):"so:p"===i.request_type?n.signoutPopupCallback(t,e):Promise.reject(new Error("invalid response_type in state")):o}))},e.prototype.querySessionStatus=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:s";var n=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(e.redirect_uri=n,e.prompt="none",e.response_type=e.response_type||this.settings.query_status_response_type,e.scope=e.scope||"openid",e.skipUserInfo=!0,this._signinStart(e,this._iframeNavigator,{startUrl:n,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return t.processSigninResponse(e.url).then((function(t){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),t.session_state&&t.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",t.profile.sub),{session_state:t.session_state,sub:t.profile.sub,sid:t.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(e){if(e.session_state&&t.settings.monitorAnonymousSession&&("login_required"==e.message||"consent_required"==e.message||"interaction_required"==e.message||"account_selection_required"==e.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:e.session_state};throw e}))}))):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},e.prototype._signin=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(t,e,r).then((function(e){return n._signinEnd(e.url,t)}))},e.prototype._signinStart=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.prepare(r).then((function(e){return i.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(t).then((function(t){return i.Log.debug("UserManager._signinStart: got signin request"),r.url=t.url,r.id=t.state.id,e.navigate(r)})).catch((function(t){throw e.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),e.close()),t}))}))},e.prototype._signinEnd=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(t).then((function(t){i.Log.debug("UserManager._signinEnd: got signin response");var r=new a.User(t);if(n.current_sub){if(n.current_sub!==r.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return e.storeUser(r).then((function(){return i.Log.debug("UserManager._signinEnd: user stored"),e._events.load(r),r}))}))},e.prototype._signinCallback=function(t,e){i.Log.debug("UserManager._signinCallback");var n="query"===this._settings.response_mode||!this._settings.response_mode&&d.SigninRequest.isCode(this._settings.response_type)?"?":"#";return e.callback(t,void 0,n)},e.prototype.signoutRedirect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="so:r";var e=t.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;e&&(t.post_logout_redirect_uri=e);var n={useReplaceToNavigate:t.useReplaceToNavigate};return this._signoutStart(t,this._redirectNavigator,n).then((function(){i.Log.info("UserManager.signoutRedirect: successful")}))},e.prototype.signoutRedirectCallback=function(t){return this._signoutEnd(t||this._redirectNavigator.url).then((function(t){return i.Log.info("UserManager.signoutRedirectCallback: successful"),t}))},e.prototype.signoutPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="so:p";var e=t.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return t.post_logout_redirect_uri=e,t.display="popup",t.post_logout_redirect_uri&&(t.state=t.state||{}),this._signout(t,this._popupNavigator,{startUrl:e,popupWindowFeatures:t.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:t.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info("UserManager.signoutPopup: successful")}))},e.prototype.signoutPopupCallback=function(t,e){return void 0===e&&"boolean"==typeof t&&(e=t,t=null),this._popupNavigator.callback(t,e,"?").then((function(){i.Log.info("UserManager.signoutPopupCallback: successful")}))},e.prototype._signout=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(t,e,r).then((function(t){return n._signoutEnd(t.url)}))},e.prototype._signoutStart=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(r).then((function(n){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),e._loadUser().then((function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(e._settings.revokeAccessTokenOnSignout?e._revokeInternal(o):Promise.resolve()).then((function(){var s=t.id_token_hint||o&&o.id_token;return s&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),t.id_token_hint=s),e.removeUser().then((function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),e.createSignoutRequest(t).then((function(t){return i.Log.debug("UserManager._signoutStart: got signout request"),r.url=t.url,t.state&&(r.id=t.state.id),n.navigate(r)}))}))}))})).catch((function(t){throw n.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),n.close()),t}))}))},e.prototype._signoutEnd=function(t){return this.processSignoutResponse(t).then((function(t){return i.Log.debug("UserManager._signoutEnd: got signout response"),t}))},e.prototype.revokeAccessToken=function(){var t=this;return this._loadUser().then((function(e){return t._revokeInternal(e,!0).then((function(n){if(n)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),e.access_token=null,e.refresh_token=null,e.expires_at=null,e.token_type=null,t.storeUser(e).then((function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),t._events.load(e)}))}))})).then((function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},e.prototype._revokeInternal=function(t,e){var n=this;if(t){var r=t.access_token,o=t.refresh_token;return this._revokeAccessTokenInternal(r,e).then((function(t){return n._revokeRefreshTokenInternal(o,e).then((function(e){return t||e||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),t||e}))}))}return Promise.resolve(!1)},e.prototype._revokeAccessTokenInternal=function(t,e){return!t||t.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(t,e).then((function(){return!0}))},e.prototype._revokeRefreshTokenInternal=function(t,e){return t?this._tokenRevocationClient.revoke(t,e,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},e.prototype.startSilentRenew=function(){this._silentRenewService.start()},e.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},e.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(t){return t?(i.Log.debug("UserManager._loadUser: user storageString loaded"),a.User.fromStorageString(t)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)}))},e.prototype.storeUser=function(t){if(t){i.Log.debug("UserManager.storeUser: storing user");var e=t.toStorageString();return this._userStore.set(this._userStoreKey,e)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(e,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),e}(o.OidcClient)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.UserManagerSettings=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(n(0),n(5)),o=n(40),s=n(41),a=n(43),u=n(6),c=n(1),l=n(8);function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.UserManagerSettings=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,i=n.popup_post_logout_redirect_uri,h=n.popupWindowFeatures,p=n.popupWindowTarget,g=n.silent_redirect_uri,m=n.silentRequestTimeout,v=n.automaticSilentRenew,y=void 0!==v&&v,b=n.validateSubOnSilentRenew,_=void 0!==b&&b,E=n.includeIdTokenInSilentRenew,S=void 0===E||E,x=n.monitorSession,w=void 0===x||x,I=n.monitorAnonymousSession,A=void 0!==I&&I,F=n.checkSessionInterval,C=void 0===F?2e3:F,T=n.stopCheckSessionOnError,$=void 0===T||T,L=n.query_status_response_type,k=n.revokeAccessTokenOnSignout,R=void 0!==k&&k,O=n.accessTokenExpiringNotificationTime,P=void 0===O?60:O,N=n.redirectNavigator,D=void 0===N?new o.RedirectNavigator:N,U=n.popupNavigator,M=void 0===U?new s.PopupNavigator:U,B=n.iframeNavigator,H=void 0===B?new a.IFrameNavigator:B,j=n.userStore,V=void 0===j?new u.WebStorageStateStore({store:c.Global.sessionStorage}):j;d(this,e);var q=f(this,t.call(this,arguments[0]));return q._popup_redirect_uri=r,q._popup_post_logout_redirect_uri=i,q._popupWindowFeatures=h,q._popupWindowTarget=p,q._silent_redirect_uri=g,q._silentRequestTimeout=m,q._automaticSilentRenew=y,q._validateSubOnSilentRenew=_,q._includeIdTokenInSilentRenew=S,q._accessTokenExpiringNotificationTime=P,q._monitorSession=w,q._monitorAnonymousSession=A,q._checkSessionInterval=C,q._stopCheckSessionOnError=$,L?q._query_status_response_type=L:arguments[0]&&arguments[0].response_type?q._query_status_response_type=l.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":q._query_status_response_type="id_token",q._revokeAccessTokenOnSignout=R,q._redirectNavigator=D,q._popupNavigator=M,q._iframeNavigator=H,q._userStore=V,q}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),e}(i.OidcClientSettings)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectNavigator=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.RedirectNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(){return Promise.resolve(this)},t.prototype.navigate=function(t){return t&&t.url?(t.useReplaceToNavigate?window.location.replace(t.url):window.location=t.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(t,[{key:"url",get:function(){return window.location.href}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PopupNavigator=void 0;var r=n(0),i=n(42);e.PopupNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new i.PopupWindow(t);return Promise.resolve(e)},t.prototype.callback=function t(e,n,o){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(e,n,o),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PopupWindow=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(3);e.PopupWindow=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise((function(t,e){n._resolve=t,n._reject=e}));var r=e.popupWindowTarget||"_blank",o=e.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",r,o),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return t.prototype.navigate=function(t){return this._popup?t&&t.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=t.id,this._id&&(window["popupCallback_"+t.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=t.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},t.prototype._success=function(t){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(t)},t.prototype._error=function(t){i.Log.error("PopupWindow.error: ",t),this._cleanup(),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup(!1)},t.prototype._cleanup=function(t){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!t&&this._popup.close(),this._popup=null},t.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},t.prototype._callback=function(t,e){this._cleanup(e),t?(i.Log.debug("PopupWindow.callback success"),this._success({url:t})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},t.notifyOpener=function(t,e,n){if(window.opener){if(t=t||window.location.href){var r=o.UrlUtility.parseUrlFragment(t,n);if(r.state){var s="popupCallback_"+r.state,a=window.opener[s];a?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),a(t,e)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(t,[{key:"promise",get:function(){return this._promise}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.IFrameNavigator=void 0;var r=n(0),i=n(44);e.IFrameNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new i.IFrameWindow(t);return Promise.resolve(e)},t.prototype.callback=function t(e){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(e),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.IFrameWindow=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.IFrameWindow=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise((function(t,e){n._resolve=t,n._reject=e})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return t.prototype.navigate=function(t){if(t&&t.url){var e=t.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",e),this._timer=window.setTimeout(this._timeout.bind(this),e),this._frame.src=t.url}else this._error("No url provided");return this.promise},t.prototype._success=function(t){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),i.Log.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup()},t.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},t.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},t.prototype._message=function(t){if(i.Log.debug("IFrameWindow.message"),this._timer&&t.origin===this._origin&&t.source===this._frame.contentWindow&&"string"==typeof t.data&&(t.data.startsWith("http://")||t.data.startsWith("https://"))){var e=t.data;e?this._success({url:e}):this._error("Invalid response from frame")}},t.notifyParent=function(t){i.Log.debug("IFrameWindow.notifyParent"),(t=t||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(t,location.protocol+"//"+location.host))},r(t,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.UserManagerEvents=void 0;var r=n(0),i=n(16),o=n(17);e.UserManagerEvents=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._userLoaded=new o.Event("User loaded"),r._userUnloaded=new o.Event("User unloaded"),r._silentRenewError=new o.Event("Silent renew error"),r._userSignedIn=new o.Event("User signed in"),r._userSignedOut=new o.Event("User signed out"),r._userSessionChanged=new o.Event("User session changed"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.load=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),t.prototype.load.call(this,e),n&&this._userLoaded.raise(e)},e.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),t.prototype.unload.call(this),this._userUnloaded.raise()},e.prototype.addUserLoaded=function(t){this._userLoaded.addHandler(t)},e.prototype.removeUserLoaded=function(t){this._userLoaded.removeHandler(t)},e.prototype.addUserUnloaded=function(t){this._userUnloaded.addHandler(t)},e.prototype.removeUserUnloaded=function(t){this._userUnloaded.removeHandler(t)},e.prototype.addSilentRenewError=function(t){this._silentRenewError.addHandler(t)},e.prototype.removeSilentRenewError=function(t){this._silentRenewError.removeHandler(t)},e.prototype._raiseSilentRenewError=function(t){r.Log.debug("UserManagerEvents._raiseSilentRenewError",t.message),this._silentRenewError.raise(t)},e.prototype.addUserSignedIn=function(t){this._userSignedIn.addHandler(t)},e.prototype.removeUserSignedIn=function(t){this._userSignedIn.removeHandler(t)},e.prototype._raiseUserSignedIn=function(){r.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},e.prototype.addUserSignedOut=function(t){this._userSignedOut.addHandler(t)},e.prototype.removeUserSignedOut=function(t){this._userSignedOut.removeHandler(t)},e.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},e.prototype.addUserSessionChanged=function(t){this._userSessionChanged.addHandler(t)},e.prototype.removeUserSessionChanged=function(t){this._userSessionChanged.removeHandler(t)},e.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},e}(i.AccessTokenEvents)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=n(17);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.Timer=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;a(this,e);var s=u(this,t.call(this,n));return s._timer=r,s._nowFunc=i||function(){return Date.now()/1e3},s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.init=function(t){t<=0&&(t=1),t=parseInt(t);var e=this.now+t;if(this.expiration===e&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",t),this._expiration=e;var n=5;t<n&&(n=t),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},e.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},e.prototype._callback=function(){var e=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",e),this._expiration<=this.now&&(this.cancel(),t.prototype.raise.call(this))},r(e,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),e}(s.Event)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SilentRenewService=void 0;var r=n(0);e.SilentRenewService=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userManager=e}return t.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(t){})).catch((function(t){r.Log.error("SilentRenewService.start: Error from getUser:",t.message)})))},t.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},t.prototype._tokenExpiring=function(){var t=this;this._userManager.signinSilent().then((function(t){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(e){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",e.message),t._userManager.events._raiseSilentRenewError(e)}))},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaPopupNavigator=void 0;var r=n(21);e.CordovaPopupNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new r.CordovaPopupWindow(t);return Promise.resolve(e)},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaIFrameNavigator=void 0;var r=n(21);e.CordovaIFrameNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){t.popupWindowFeatures="hidden=yes";var e=new r.CordovaPopupWindow(t);return Promise.resolve(e)},t}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Version="1.11.5"}])},we.exports=xe();var Ie=Se(we.exports);function Ae(t){sessionStorage.setItem(Vt,`${t}`)}async function Fe(t){var e;return e=window.location.href,sessionStorage.setItem(Ht,e),t.signinRedirect()}function Ce(){const t=function(){const t=`${window.location.origin}//bsp-usecase-wizard/dev`;return{authority:Wt,client_id:"ebrains-wizard-2",scope:"email profile openid collab.drive",redirect_uri:`${t}/callback.html`,post_logout_redirect_uri:`${t}/index.html`,silent_redirect_uri:`${t}/silent-renew.html`,userStore:new Ie.WebStorageStateStore({store:window.localStorage}),response_type:"id_token token",automaticSilentRenew:!0,loadUserInfo:!0,accessTokenExpiringNotificationTime:10,filterProtocolClaims:!0}}(),e=new Ie.UserManager(t);return e.events.addSilentRenewError((()=>Fe(e))),e}async function Te(){const t=Ce();return await t.getUser()}var $e,Le={exports:{}},ke={exports:{}},Re=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},Oe=Re,Pe=Object.prototype.toString,Ne=($e=Object.create(null),function(t){var e=Pe.call(t);return $e[e]||($e[e]=e.slice(8,-1).toLowerCase())});function De(t){return t=t.toLowerCase(),function(e){return Ne(e)===t}}function Ue(t){return Array.isArray(t)}function Me(t){return void 0===t}var Be=De("ArrayBuffer");function He(t){return null!==t&&"object"==typeof t}function je(t){if("object"!==Ne(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var Ve=De("Date"),qe=De("File"),Ke=De("Blob"),We=De("FileList");function ze(t){return"[object Function]"===Pe.call(t)}var Je=De("URLSearchParams");function Ge(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),Ue(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var Ye,Xe=(Ye="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return Ye&&t instanceof Ye}),Qe={isArray:Ue,isArrayBuffer:Be,isBuffer:function(t){return null!==t&&!Me(t)&&null!==t.constructor&&!Me(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||Pe.call(t)===e||ze(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Be(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:He,isPlainObject:je,isUndefined:Me,isDate:Ve,isFile:qe,isBlob:Ke,isFunction:ze,isStream:function(t){return He(t)&&ze(t.pipe)},isURLSearchParams:Je,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Ge,merge:function t(){var e={};function n(n,r){je(e[r])&&je(n)?e[r]=t(e[r],n):je(n)?e[r]=t({},n):Ue(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)Ge(arguments[r],n);return e},extend:function(t,e,n){return Ge(e,(function(e,r){t[r]=n&&"function"==typeof e?Oe(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n){var r,i,o,s={};e=e||{};do{for(i=(r=Object.getOwnPropertyNames(t)).length;i-- >0;)s[o=r[i]]||(e[o]=t[o],s[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Ne,kindOfTest:De,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n},toArray:function(t){if(!t)return null;var e=t.length;if(Me(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},isTypedArray:Xe,isFileList:We},Ze=Qe;function tn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var en=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(Ze.isURLSearchParams(e))r=e.toString();else{var i=[];Ze.forEach(e,(function(t,e){null!=t&&(Ze.isArray(t)?e+="[]":t=[t],Ze.forEach(t,(function(t){Ze.isDate(t)?t=t.toISOString():Ze.isObject(t)&&(t=JSON.stringify(t)),i.push(tn(e)+"="+tn(t))})))})),r=i.join("&")}if(r){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t},nn=Qe;function rn(){this.handlers=[]}rn.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},rn.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},rn.prototype.forEach=function(t){nn.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var on,sn,an=rn,un=Qe;function cn(){if(sn)return on;sn=1;var t=Qe;function e(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=e.prototype,r={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){r[t]={value:t}})),Object.defineProperties(e,r),Object.defineProperty(n,"isAxiosError",{value:!0}),e.from=function(r,i,o,s,a,u){var c=Object.create(n);return t.toFlatObject(r,c,(function(t){return t!==Error.prototype})),e.call(c,r.message,i,o,s,a),c.name=r.name,u&&Object.assign(c,u),c},on=e}var ln,dn,fn,hn,pn,gn,mn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function vn(){if(dn)return ln;dn=1;var t=Qe;return ln=function(e,n){n=n||new FormData;var r=[];function i(e){return null===e?"":t.isDate(e)?e.toISOString():t.isArrayBuffer(e)||t.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,s){if(t.isPlainObject(o)||t.isArray(o)){if(-1!==r.indexOf(o))throw Error("Circular reference detected in "+s);r.push(o),t.forEach(o,(function(r,o){if(!t.isUndefined(r)){var a,u=s?s+"."+o:o;if(r&&!s&&"object"==typeof r)if(t.endsWith(o,"{}"))r=JSON.stringify(r);else if(t.endsWith(o,"[]")&&(a=t.toArray(r)))return void a.forEach((function(e){!t.isUndefined(e)&&n.append(u,i(e))}));e(r,u)}})),r.pop()}else n.append(s,i(o))}(e),n},ln}function yn(){if(hn)return fn;hn=1;var t=cn();return fn=function(e,n,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?n(new t("Request failed with status code "+r.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}}function bn(){if(gn)return pn;gn=1;var t=Qe;return pn=t.isStandardBrowserEnv()?{write:function(e,n,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(n)),t.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),t.isString(i)&&a.push("path="+i),t.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}var _n,En,Sn,xn,wn,In,An,Fn,Cn,Tn,$n,Ln,kn=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Rn=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},On=function(t,e){return t&&!kn(e)?Rn(t,e):e};function Pn(){if(En)return _n;En=1;var t=Qe,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return _n=function(n){var r,i,o,s={};return n?(t.forEach(n.split("\n"),(function(n){if(o=n.indexOf(":"),r=t.trim(n.substr(0,o)).toLowerCase(),i=t.trim(n.substr(o+1)),r){if(s[r]&&e.indexOf(r)>=0)return;s[r]="set-cookie"===r?(s[r]?s[r]:[]).concat([i]):s[r]?s[r]+", "+i:i}})),s):s}}function Nn(){if(xn)return Sn;xn=1;var t=Qe;return Sn=t.isStandardBrowserEnv()?function(){var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(n){var r=t.isString(n)?i(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}}function Dn(){if(In)return wn;In=1;var t=cn();function e(e){t.call(this,null==e?"canceled":e,t.ERR_CANCELED),this.name="CanceledError"}return Qe.inherits(e,t,{__CANCEL__:!0}),wn=e}function Un(){return Fn?An:(Fn=1,An=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""})}function Mn(){if(Tn)return Cn;Tn=1;var t=Qe,e=yn(),n=bn(),r=en,i=On,o=Pn(),s=Nn(),a=mn,u=cn(),c=Dn(),l=Un();return Cn=function(d){return new Promise((function(f,h){var p,g=d.data,m=d.headers,v=d.responseType;function y(){d.cancelToken&&d.cancelToken.unsubscribe(p),d.signal&&d.signal.removeEventListener("abort",p)}t.isFormData(g)&&t.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(d.auth){var _=d.auth.username||"",E=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";m.Authorization="Basic "+btoa(_+":"+E)}var S=i(d.baseURL,d.url);function x(){if(b){var t="getAllResponseHeaders"in b?o(b.getAllResponseHeaders()):null,n={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:t,config:d,request:b};e((function(t){f(t),y()}),(function(t){h(t),y()}),n),b=null}}if(b.open(d.method.toUpperCase(),r(S,d.params,d.paramsSerializer),!0),b.timeout=d.timeout,"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(x)},b.onabort=function(){b&&(h(new u("Request aborted",u.ECONNABORTED,d,b)),b=null)},b.onerror=function(){h(new u("Network Error",u.ERR_NETWORK,d,b,b)),b=null},b.ontimeout=function(){var t=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",e=d.transitional||a;d.timeoutErrorMessage&&(t=d.timeoutErrorMessage),h(new u(t,e.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,d,b)),b=null},t.isStandardBrowserEnv()){var w=(d.withCredentials||s(S))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;w&&(m[d.xsrfHeaderName]=w)}"setRequestHeader"in b&&t.forEach(m,(function(t,e){void 0===g&&"content-type"===e.toLowerCase()?delete m[e]:b.setRequestHeader(e,t)})),t.isUndefined(d.withCredentials)||(b.withCredentials=!!d.withCredentials),v&&"json"!==v&&(b.responseType=d.responseType),"function"==typeof d.onDownloadProgress&&b.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(p=function(t){b&&(h(!t||t&&t.type?new c:t),b.abort(),b=null)},d.cancelToken&&d.cancelToken.subscribe(p),d.signal&&(d.signal.aborted?p():d.signal.addEventListener("abort",p))),g||(g=null);var I=l(S);I&&-1===["http","https","file"].indexOf(I)?h(new u("Unsupported protocol "+I+":",u.ERR_BAD_REQUEST,d)):b.send(g)}))},Cn}var Bn=Qe,Hn=function(t,e){un.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},jn=cn(),Vn=mn,qn=vn(),Kn={"Content-Type":"application/x-www-form-urlencoded"};function Wn(t,e){!Bn.isUndefined(t)&&Bn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var zn,Jn={transitional:Vn,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(zn=Mn()),zn),transformRequest:[function(t,e){if(Hn(e,"Accept"),Hn(e,"Content-Type"),Bn.isFormData(t)||Bn.isArrayBuffer(t)||Bn.isBuffer(t)||Bn.isStream(t)||Bn.isFile(t)||Bn.isBlob(t))return t;if(Bn.isArrayBufferView(t))return t.buffer;if(Bn.isURLSearchParams(t))return Wn(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n,r=Bn.isObject(t),i=e&&e["Content-Type"];if((n=Bn.isFileList(t))||r&&"multipart/form-data"===i){var o=this.env&&this.env.FormData;return qn(n?{"files[]":t}:t,o&&new o)}return r||"application/json"===i?(Wn(e,"application/json"),function(t,e,n){if(Bn.isString(t))try{return(e||JSON.parse)(t),Bn.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||Jn.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&Bn.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw jn.from(t,jn.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln?$n:(Ln=1,$n=null)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Bn.forEach(["delete","get","head"],(function(t){Jn.headers[t]={}})),Bn.forEach(["post","put","patch"],(function(t){Jn.headers[t]=Bn.merge(Kn)}));var Gn,Yn,Xn=Jn,Qn=Qe,Zn=Xn;function tr(){return Yn?Gn:(Yn=1,Gn=function(t){return!(!t||!t.__CANCEL__)})}var er=Qe,nr=function(t,e,n){var r=this||Zn;return Qn.forEach(n,(function(n){t=n.call(r,t,e)})),t},rr=tr(),ir=Xn,or=Dn();function sr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new or}var ar,ur,cr=Qe,lr=function(t,e){e=e||{};var n={};function r(t,e){return cr.isPlainObject(t)&&cr.isPlainObject(e)?cr.merge(t,e):cr.isPlainObject(e)?cr.merge({},e):cr.isArray(e)?e.slice():e}function i(n){return cr.isUndefined(e[n])?cr.isUndefined(t[n])?void 0:r(void 0,t[n]):r(t[n],e[n])}function o(t){if(!cr.isUndefined(e[t]))return r(void 0,e[t])}function s(n){return cr.isUndefined(e[n])?cr.isUndefined(t[n])?void 0:r(void 0,t[n]):r(void 0,e[n])}function a(n){return n in e?r(t[n],e[n]):n in t?r(void 0,t[n]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return cr.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||i,r=e(t);cr.isUndefined(r)&&e!==a||(n[t]=r)})),n};function dr(){return ur?ar:(ur=1,ar={version:"0.27.2"})}var fr=dr().version,hr=cn(),pr={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){pr[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var gr={};pr.transitional=function(t,e,n){function r(t,e){return"[Axios v"+fr+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,o){if(!1===t)throw new hr(r(i," has been removed"+(e?" in "+e:"")),hr.ERR_DEPRECATED);return e&&!gr[i]&&(gr[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};var mr,vr,yr,br,_r,Er,Sr={assertOptions:function(t,e,n){if("object"!=typeof t)throw new hr("options must be an object",hr.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],s=e[o];if(s){var a=t[o],u=void 0===a||s(a,o,t);if(!0!==u)throw new hr("option "+o+" must be "+u,hr.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new hr("Unknown option "+o,hr.ERR_BAD_OPTION)}},validators:pr},xr=Qe,wr=en,Ir=an,Ar=function(t){return sr(t),t.headers=t.headers||{},t.data=nr.call(t,t.data,t.headers,t.transformRequest),t.headers=er.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),er.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||ir.adapter)(t).then((function(e){return sr(t),e.data=nr.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return rr(e)||(sr(t),e&&e.response&&(e.response.data=nr.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Fr=lr,Cr=On,Tr=Sr,$r=Tr.validators;function Lr(t){this.defaults=t,this.interceptors={request:new Ir,response:new Ir}}Lr.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=Fr(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&Tr.assertOptions(n,{silentJSONParsing:$r.transitional($r.boolean),forcedJSONParsing:$r.transitional($r.boolean),clarifyTimeoutError:$r.transitional($r.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(t){s.push(t.fulfilled,t.rejected)})),!i){var a=[Ar,void 0];for(Array.prototype.unshift.apply(a,r),a=a.concat(s),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var u=e;r.length;){var c=r.shift(),l=r.shift();try{u=c(u)}catch(t){l(t);break}}try{o=Ar(u)}catch(t){return Promise.reject(t)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},Lr.prototype.getUri=function(t){t=Fr(this.defaults,t);var e=Cr(t.baseURL,t.url);return wr(e,t.params,t.paramsSerializer)},xr.forEach(["delete","get","head","options"],(function(t){Lr.prototype[t]=function(e,n){return this.request(Fr(n||{},{method:t,url:e,data:(n||{}).data}))}})),xr.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(Fr(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Lr.prototype[t]=e(),Lr.prototype[t+"Form"]=e(!0)}));var kr=Qe,Rr=Re,Or=Lr,Pr=lr;var Nr=function t(e){var n=new Or(e),r=Rr(Or.prototype.request,n);return kr.extend(r,Or.prototype,n),kr.extend(r,n),r.create=function(n){return t(Pr(e,n))},r}(Xn);Nr.Axios=Or,Nr.CanceledError=Dn(),Nr.CancelToken=function(){if(vr)return mr;vr=1;var t=Dn();function e(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(t){n=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},e((function(e){r.reason||(r.reason=new t(e),n(r.reason))}))}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},e.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},e.source=function(){var t;return{token:new e((function(e){t=e})),cancel:t}},mr=e}(),Nr.isCancel=tr(),Nr.VERSION=dr().version,Nr.toFormData=vn(),Nr.AxiosError=cn(),Nr.Cancel=Nr.CanceledError,Nr.all=function(t){return Promise.all(t)},Nr.spread=br?yr:(br=1,yr=function(t){return function(e){return t.apply(null,e)}}),Nr.isAxiosError=function(){if(Er)return _r;Er=1;var t=Qe;return _r=function(e){return t.isObject(e)&&!0===e.isAxiosError}}(),ke.exports=Nr,ke.exports.default=Nr,function(t){t.exports=ke.exports}(Le);var Dr=Se(Le.exports);const Ur=`${zt}/${ue.STATISTIC_URL}`,Mr=`${zt}/https://checkip.amazonaws.com`;async function Br(){const t=((await Dr.get(Mr)).data||"").split(".");return t.splice(-1,1,"0"),t.join(".")}async function Hr(){var t,e;const n=null===(e=null===(t=d(he))||void 0===t?void 0:t.profile)||void 0===e?void 0:e.sub;if(!n)return"anonymous";const r=(new TextEncoder).encode(n),i=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(i)).map((t=>t.toString(16).padStart(2,"0"))).join("")}async function jr(){var t,e;if("undefined"!=typeof jest)return;const n=new URLSearchParams,r={category:d(de),usecase:null===(t=d(le))||void 0===t?void 0:t.id,userId:await Hr(),models:null===(e=d(ge))||void 0===e?void 0:e.map((t=>t.id)),collabId:d(me),ip:await Br()};n.append("entry.2065854000",r.category),n.append("entry.1219332324",r.usecase),n.append("entry.2088231351",r.models.toString()),n.append("entry.748800890",r.collabId),n.append("entry.1933333390",r.userId),n.append("entry.1813902573",r.ip);Dr({method:"post",url:Ur,data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).catch((t=>{console.error(t)}))}const Vr=Dr.create();function qr(){return Vr}he.subscribe((t=>{Vr.defaults.headers.common.Authorization=`Bearer ${null==t?void 0:t.access_token}`}));const Kr=`${zt}/`,Wr=`${Kr}${Jt}`,zr=qr();function Jr(){const t=`${Wr}/repos/`;return zr.get(t).then((t=>t.data))}async function Gr(t,e){e.startsWith("/")||(e=`/${e}`);const n=await async function(t,e=!1){const n={t:e?"d":"f",p:"/"},r=`${Wr}/repos/${t}/dir/`;return(await zr.get(r,{params:n})).data.map((t=>t.name))}(t,!0);if(n.includes(e.replace(/\//g,"")))return;return zr({method:"post",url:`${Wr}/repos/${t}/dir/`,params:{p:e},data:"operation=mkdir"})}async function Yr(t){const e=`${Wr}/repos/${t}/upload-link/`,n=(await zr.get(e,{params:{p:"/"}})).data;return`${Kr}${n}`}async function Xr(t){const[e,n]=await Promise.all([Yr(t.collabId),Gr(t.collabId,t.parentFolder)]);return async function(t){const e=new FormData;return e.append("file",t.fileContent,t.fileName),e.append("filename","test2.txt"),e.append("file_name","test2.txt"),e.append("name","test2.txt"),e.append("replace","1"),e.append("ret-json","1"),e.append("parent_dir","/"),e.append("relative_path",t.parentFolder),zr.post(t.uploadLink,e)}({uploadLink:e,parentFolder:t.parentFolder,fileName:t.fileName,fileContent:new Blob([t.stringContent],{type:t.type||"text/plain"})})}async function Qr(t,e){const n={p:e.startsWith("/")?e:`/${e}`},r=`${Wr}/repos/${t}/file/`;try{const t=(await zr.get(r,{params:n})).data,e=await async function(t){return zr({method:"get",url:t,responseType:"blob"}).then((t=>t.data))}(t);return await e.text()}catch(t){return null}}const Zr=qr();async function ti(){const t=d(me),e=`/${Yt}/${Xt}`,n=await Qr(t,e);let r;if(n)try{r=JSON.parse(n)}catch(t){console.error(t),r={}}else r={};const i=function(t,e){var n;const r=d(de),i=d(le),o=function(t,e){const n=[];return e.forEach((e=>{t.some((t=>t.id===e.id))||n.push(e)})),n.push(...t),n}(e,(null===(n=null==t?void 0:t[r])||void 0===n?void 0:n[i.id])||[]);return Object.assign({},t,{[r]:{[i.id]:o}})}(r,d(ge).map((t=>{return{id:(e=t).id,date:(new Date).toLocaleDateString(),name:e.name,uri:e.uri};var e})));await async function(t){const e=d(me);await Xr({collabId:e,fileName:Xt,stringContent:JSON.stringify(t),parentFolder:Yt})}(i)}function ei(t){const e=function(t,e){if(1!==e.maxModelSelection)return be.set("Multiple models in URL not supported yet"),null;const n=d(ge)[0];n.name;const r=null==n?void 0:n.instances.reduce(((t,e)=>e.morphology?e.morphology:t),"");if(t.includes("MORPHOLOGY_URL")&&!r)return be.set("Model do not have any morphology file associated"),null;const i=null==n?void 0:n.instances.reduce(((t,e)=>{const n=null==e?void 0:e.source;if(!n)return t;if(!n.includes("bluenaas=true"))return t;return n.replace(/^.+AUTH_.+?\//,"")||t}),"");return t.replace("{EXTERNAL_URL}",e.externalUrl).replace("{TRIMMED_SOURCE_PATH}",i).replace("{MORPHOLOGY_URL}",r)}(t.externalUrlModelPlaceholder||t.externalUrl,t);if(!e)return;window.open(e,"_blank")||be.set("Popup was blocked")}function ni(){const t=d(le);switch(d(pe)){case ne:if(t.chooseModel)return pe.set(ie),void ye.set(t.maxModelSelection||0);if(t.notebookPath)return void pe.set(re);if(t.externalUrl)return jr(),void window.open(t.externalUrl,"_blank");break;case ie:if(t.notebookPath)return void pe.set(re);if(t.externalUrl)return ei(t),void jr()}}function ri(){const t=d(le);switch(d(pe)){case re:if(t.chooseModel)return void pe.set(ie);if(t.notebookPath)return void pe.set(ne);break;case ie:if(t.notebookPath||t.externalUrl)return pe.set(ne),void ge.set([])}}function ii(){var t,e;Ae(!0),t=d(le),sessionStorage.setItem(jt,JSON.stringify(t)),e=d(de),sessionStorage.setItem(Kt,e),Te().then((t=>{!t||t.expired?Fe(Ce()):(fe.set(!0),he.set(t))}))}function oi(){Te().then((t=>{t&&!t.expired&&(fe.set(!0),he.set(t),function(){const t=sessionStorage.getItem(Vt);return Ae(!1),"false"!==t}()&&function(){const t=function(){const t=sessionStorage.getItem(jt);return t?JSON.parse(t):null}(),e=sessionStorage.getItem(Kt);if(!t)return;le.set(t),de.set(e),ni()}())}))}function si(t){const e=d(le),n=function(t){const e=(t.includes("&")?t.split("&")[0]:t).split("/").pop();return decodeURIComponent(e)}(e.notebookRepoUrl),r=`${Zt}${e.notebookRepoUrl}`,i=`${"My Library"===t?"drive/My Libraries/My Library":`shared/${t}`}/${Gt}/${n}`,o=`${ee}/${i}`,s=`${te}/${i}/${e.notebookPath}`,a=`${Qt}${r}${o}${s}`;return console.debug("PullerLink:",a),a}function ai(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function ui(t){return Object.entries(t).filter((([t,e])=>""!==t&&e)).map((([t])=>t)).join(" ")}function ci(t,e,n,r={bubbles:!0},i=!1){if("undefined"!=typeof Event&&t){const o=new CustomEvent(e,Object.assign(Object.assign({},r),{detail:n}));if(null==t||t.dispatchEvent(o),i&&e.startsWith("SMUI")){const i=new CustomEvent(e.replace(/^SMUI/g,(()=>"MDC")),Object.assign(Object.assign({},r),{detail:n}));null==t||t.dispatchEvent(i),i.defaultPrevented&&o.preventDefault()}return o}}function li(t,e){let n=Object.getOwnPropertyNames(t);const r={};for(let i=0;i<n.length;i++){const o=n[i],s=o.indexOf("$");-1!==s&&-1!==e.indexOf(o.substring(0,s+1))||-1===e.indexOf(o)&&(r[o]=t[o])}return r}const di=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,fi=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function hi(t){let e,n=[];function r(e){ot(t,e)}return t.$on=(t,r)=>{let i=t,o=()=>{};e?o=e(i,r):n.push([i,r]);return i.match(di)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',i),()=>{o()}},t=>{const i=[],o={};e=(e,n)=>{let s=e,a=n,u=!1;const c=s.match(di),l=s.match(fi),d=c||l;if(s.match(/^SMUI:\w+:/)){const t=s.split(":");let e="";for(let n=0;n<t.length;n++)e+=n===t.length-1?":"+t[n]:t[n].split("-").map((t=>t.slice(0,1).toUpperCase()+t.slice(1))).join("");console.warn(`The event ${s.split("$")[0]} has been renamed to ${e.split("$")[0]}.`),s=e}if(d){const t=s.split(c?":":"$");s=t[0];const e=Object.fromEntries(t.slice(1).map((t=>[t,!0])));e.passive&&(u=u||{},u.passive=!0),e.nonpassive&&(u=u||{},u.passive=!1),e.capture&&(u=u||{},u.capture=!0),e.once&&(u=u||{},u.once=!0),e.preventDefault&&(f=a,a=function(t){return t.preventDefault(),f.call(this,t)}),e.stopPropagation&&(a=M(a))}var f;const h=U(t,s,a,u),p=()=>{h();const t=i.indexOf(p);t>-1&&i.splice(t,1)};return i.push(p),s in o||(o[s]=U(t,s,r)),p};for(let t=0;t<n.length;t++)e(n[t][0],n[t][1]);return{destroy:()=>{for(let t=0;t<i.length;t++)i[t]();for(let t of Object.entries(o))t[1]()}}}}function pi(t,e){let n=Object.getOwnPropertyNames(t);const r={};for(let i=0;i<n.length;i++){const o=n[i];o.substring(0,e.length)===e&&(r[o.substring(e.length)]=t[o])}return r}function gi(t,e){let n=[];if(e)for(let r=0;r<e.length;r++){const i=e[r],o=Array.isArray(i)?i[0]:i;Array.isArray(i)&&i.length>1?n.push(o(t,i[1])):n.push(o(t))}return{update(t){if((t&&t.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(t)for(let e=0;e<t.length;e++){const r=n[e];if(r&&r.update){const n=t[e];Array.isArray(n)&&n.length>1?r.update(n[1]):r.update()}}},destroy(){for(let t=0;t<n.length;t++){const e=n[t];e&&e.destroy&&e.destroy()}}}}var mi;function vi(t,e){void 0===e&&(e=!1);var n,r=t.CSS;if("boolean"==typeof mi&&!e)return mi;if(!(r&&"function"==typeof r.supports))return!1;var i=r.supports("--css-vars","yes"),o=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=i||o,e||(mi=n),n}var yi=function(t,e){return yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},yi(t,e)};function bi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}yi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var _i=function(){return _i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},_i.apply(this,arguments)};function Ei(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function xi(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var wi=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),Ii=function(){function t(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=t,this.initialize.apply(this,xi([],Si(n))),this.foundation=void 0===e?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new wi({}))},t.prototype.initialize=function(){},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation.destroy()},t.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},t.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},t.prototype.emit=function(t,e,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:n,detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,e),this.root.dispatchEvent(r)},t}();
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
/**
     * @license
     * Copyright 2019 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */
function Ai(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},r=function(){};t.document.addEventListener("test",r,n),t.document.removeEventListener("test",r,n)}catch(t){e=!1}return e}(t)&&{passive:!0}}var Fi=Object.freeze({__proto__:null,applyPassive:Ai});
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */function Ci(t,e){if(t.closest)return t.closest(e);for(var n=t;n;){if(Ti(n,e))return n;n=n.parentElement}return null}function Ti(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}function $i(t){var e=t;if(null!==e.offsetParent)return e.scrollWidth;var n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}var Li=Object.freeze({__proto__:null,closest:Ci,matches:Ti,estimateScrollWidth:$i}),ki={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Ri={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Oi={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},Pi=["touchstart","pointerdown","mousedown","keydown"],Ni=["touchend","pointerup","mouseup","contextmenu"],Di=[],Ui=function(t){function e(n){var r=t.call(this,_i(_i({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(t){r.activateImpl(t)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ki},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ri},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Oi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple();if(this.registerRootHandlers(n),n){var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(i),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(r),t.adapter.removeClass(i),t.removeCssVars()}))}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},e.prototype.activate=function(t){this.activateImpl(t)},e.prototype.deactivate=function(){this.deactivateImpl()},e.prototype.layout=function(){var t=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame((function(){t.layoutInternal(),t.layoutFrame=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers=function(t){var e,n;if(t){try{for(var r=Ei(Pi),i=r.next();!i.done;i=r.next()){var o=i.value;this.adapter.registerInteractionHandler(o,this.activateHandler)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},e.prototype.registerDeactivationHandlers=function(t){var e,n;if("keydown"===t.type)this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var r=Ei(Ni),i=r.next();!i.done;i=r.next()){var o=i.value;this.adapter.registerDocumentInteractionHandler(o,this.deactivateHandler)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.deregisterRootHandlers=function(){var t,e;try{for(var n=Ei(Pi),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterInteractionHandler(i,this.activateHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},e.prototype.deregisterDeactivationHandlers=function(){var t,e;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var n=Ei(Ni),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterDocumentInteractionHandler(i,this.deactivateHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.removeCssVars=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activateImpl=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState;if(!n.isActivated){var r=this.previousActivationEvent;if(!(r&&void 0!==t&&r.type!==t.type))n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type)),void 0!==t&&Di.length>0&&Di.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState():(void 0!==t&&(Di.push(t.target),this.registerDeactivationHandlers(t)),n.wasElementMadeActive=this.checkElementMadeActive(t),n.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame((function(){Di=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive(t),n.wasElementMadeActive&&e.animateActivation()),n.wasElementMadeActive||(e.activationState=e.defaultActivationState())})))}}},e.prototype.checkElementMadeActive=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation=function(){var t=this,n=e.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,s=o.FG_DEACTIVATION,a=o.FG_ACTIVATION,u=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var c="",l="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates(),f=d.startPoint,h=d.endPoint;c=f.x+"px, "+f.y+"px",l=h.x+"px, "+h.y+"px"}this.adapter.updateCssVariable(r,c),this.adapter.updateCssVariable(i,l),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(a),this.activationTimer=setTimeout((function(){t.activationTimerCallback()}),u)},e.prototype.getFgTranslationCoordinates=function(){var t,e=this.activationState,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var r,i,o=e.x,s=e.y,a=o+n.left,u=s+n.top;if("touchstart"===t.type){var c=t;r=c.changedTouches[0].pageX-a,i=c.changedTouches[0].pageY-u}else{var l=t;r=l.pageX-a,i=l.pageY-u}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:t.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},e.prototype.runDeactivationUXLogicIfReady=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,r=this.activationState,i=r.hasDeactivationUXRun,o=r.isActivated;(i||!o)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer=setTimeout((function(){t.adapter.removeClass(n)}),Oi.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState=function(){var t=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout((function(){return t.previousActivationEvent=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivateImpl=function(){var t=this,e=this.activationState;if(e.isActivated){var n=_i({},e);e.isProgrammatic?(requestAnimationFrame((function(){t.animateDeactivation(n)})),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame((function(){t.activationState.hasDeactivationUXRun=!0,t.animateDeactivation(n),t.resetActivationState()})))}},e.prototype.animateDeactivation=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady()},e.prototype.layoutInternal=function(){var t=this;this.frame=this.adapter.computeBoundingRect();var n=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(t.frame.width,2)+Math.pow(t.frame.height,2))+e.numbers.PADDING;var r=Math.floor(n*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize=r-1:this.initialSize=r,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},e.prototype.updateLayoutCssVars=function(){var t=e.strings,n=t.VAR_FG_SIZE,r=t.VAR_LEFT,i=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(r,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},e}(wi),Mi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e}return bi(e,t),e.attachTo=function(t,n){void 0===n&&(n={isUnbounded:void 0});var r=new e(t);return void 0!==n.isUnbounded&&(r.unbounded=n.isUnbounded),r},e.createAdapter=function(t){return{addClass:function(e){return t.root.classList.add(e)},browserSupportsCssVars:function(){return vi(window)},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(e){return t.root.contains(e)},deregisterDocumentInteractionHandler:function(t,e){return document.documentElement.removeEventListener(t,e,Ai())},deregisterInteractionHandler:function(e,n){return t.root.removeEventListener(e,n,Ai())},deregisterResizeHandler:function(t){return window.removeEventListener("resize",t)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return Ti(t.root,":active")},isSurfaceDisabled:function(){return Boolean(t.disabled)},isUnbounded:function(){return Boolean(t.unbounded)},registerDocumentInteractionHandler:function(t,e){return document.documentElement.addEventListener(t,e,Ai())},registerInteractionHandler:function(e,n){return t.root.addEventListener(e,n,Ai())},registerResizeHandler:function(t){return window.addEventListener("resize",t)},removeClass:function(e){return t.root.classList.remove(e)},updateCssVariable:function(e,n){return t.root.style.setProperty(e,n)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return Boolean(this.isUnbounded)},set:function(t){this.isUnbounded=Boolean(t),this.setUnbounded()},enumerable:!1,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new Ui(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.isUnbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded=function(){this.foundation.setUnbounded(Boolean(this.isUnbounded))},e}(Ii),Bi="mdc-dom-focus-sentinel",Hi=function(){function t(t,e){void 0===e&&(e={}),this.root=t,this.options=e,this.elFocusedBeforeTrapFocus=null}return t.prototype.trapFocus=function(){var t=this.getFocusableElements(this.root);if(0===t.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root),this.options.skipInitialFocus||this.focusInitialElement(t,this.options.initialFocusEl)},t.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+Bi)).forEach((function(t){t.parentElement.removeChild(t)})),!this.options.skipRestoreFocus&&this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},t.prototype.wrapTabFocus=function(t){var e=this,n=this.createSentinel(),r=this.createSentinel();n.addEventListener("focus",(function(){var n=e.getFocusableElements(t);n.length>0&&n[n.length-1].focus()})),r.addEventListener("focus",(function(){var n=e.getFocusableElements(t);n.length>0&&n[0].focus()})),t.insertBefore(n,t.children[0]),t.appendChild(r)},t.prototype.focusInitialElement=function(t,e){var n=0;e&&(n=Math.max(t.indexOf(e),0)),t[n].focus()},t.prototype.getFocusableElements=function(t){return[].slice.call(t.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter((function(t){var e="true"===t.getAttribute("aria-disabled")||null!=t.getAttribute("disabled")||null!=t.getAttribute("hidden")||"true"===t.getAttribute("aria-hidden"),n=t.tabIndex>=0&&t.getBoundingClientRect().width>0&&!t.classList.contains(Bi)&&!e,r=!1;if(n){var i=getComputedStyle(t);r="none"===i.display||"hidden"===i.visibility}return n&&!r}))},t.prototype.createSentinel=function(){var t=document.createElement("div");return t.setAttribute("tabindex","0"),t.setAttribute("aria-hidden","true"),t.classList.add(Bi),t},t}(),ji=Object.freeze({__proto__:null,FocusTrap:Hi}),Vi="Unknown",qi="Backspace",Ki="Enter",Wi="Spacebar",zi="PageUp",Ji="PageDown",Gi="End",Yi="Home",Xi="ArrowLeft",Qi="ArrowUp",Zi="ArrowRight",to="ArrowDown",eo="Delete",no="Escape",ro="Tab",io=new Set;
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */io.add(qi),io.add(Ki),io.add(Wi),io.add(zi),io.add(Ji),io.add(Gi),io.add(Yi),io.add(Xi),io.add(Qi),io.add(Zi),io.add(to),io.add(eo),io.add(no),io.add(ro);var oo=8,so=13,ao=32,uo=33,co=34,lo=35,fo=36,ho=37,po=38,go=39,mo=40,vo=46,yo=27,bo=9,_o=new Map;_o.set(oo,qi),_o.set(so,Ki),_o.set(ao,Wi),_o.set(uo,zi),_o.set(co,Ji),_o.set(lo,Gi),_o.set(fo,Yi),_o.set(ho,Xi),_o.set(po,Qi),_o.set(go,Zi),_o.set(mo,to),_o.set(vo,eo),_o.set(yo,no),_o.set(bo,ro);var Eo=new Set;function So(t){var e=t.key;if(io.has(e))return e;var n=_o.get(t.keyCode);return n||Vi}Eo.add(zi),Eo.add(Ji),Eo.add(Gi),Eo.add(Yi),Eo.add(Xi),Eo.add(Qi),Eo.add(Zi),Eo.add(to);const{applyPassive:xo}=Fi,{matches:wo}=Li;function Io(t,{ripple:e=!0,surface:n=!1,unbounded:r=!1,disabled:i=!1,color:o,active:s,rippleElement:a,eventTarget:u,activeTarget:c,addClass:l=(e=>t.classList.add(e)),removeClass:d=(e=>t.classList.remove(e)),addStyle:f=((e,n)=>t.style.setProperty(e,n)),initPromise:h=Promise.resolve()}={}){let p,g,m=it("SMUI:addLayoutListener"),v=s,y=u,b=c;function _(){n?(l("mdc-ripple-surface"),"primary"===o?(l("smui-ripple-surface--primary"),d("smui-ripple-surface--secondary")):"secondary"===o?(d("smui-ripple-surface--primary"),l("smui-ripple-surface--secondary")):(d("smui-ripple-surface--primary"),d("smui-ripple-surface--secondary"))):(d("mdc-ripple-surface"),d("smui-ripple-surface--primary"),d("smui-ripple-surface--secondary")),p&&v!==s&&(v=s,s?p.activate():!1===s&&p.deactivate()),e&&!p?(p=new Ui({addClass:l,browserSupportsCssVars:()=>vi(window),computeBoundingRect:()=>(a||t).getBoundingClientRect(),containsEventTarget:e=>t.contains(e),deregisterDocumentInteractionHandler:(t,e)=>document.documentElement.removeEventListener(t,e,xo()),deregisterInteractionHandler:(e,n)=>(u||t).removeEventListener(e,n,xo()),deregisterResizeHandler:t=>window.removeEventListener("resize",t),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>null==s?wo(c||t,":active"):s,isSurfaceDisabled:()=>!!i,isUnbounded:()=>!!r,registerDocumentInteractionHandler:(t,e)=>document.documentElement.addEventListener(t,e,xo()),registerInteractionHandler:(e,n)=>(u||t).addEventListener(e,n,xo()),registerResizeHandler:t=>window.addEventListener("resize",t),removeClass:d,updateCssVariable:f}),h.then((()=>{p&&(p.init(),p.setUnbounded(r))}))):p&&!e&&h.then((()=>{p&&(p.destroy(),p=void 0)})),!p||y===u&&b===c||(y=u,b=c,p.destroy(),requestAnimationFrame((()=>{p&&(p.init(),p.setUnbounded(r))}))),!e&&r&&l("mdc-ripple-upgraded--unbounded")}return _(),m&&(g=m((function(){p&&p.layout()}))),{update(p){({ripple:e,surface:n,unbounded:r,disabled:i,color:o,active:s,rippleElement:a,eventTarget:u,activeTarget:c,addClass:l,removeClass:d,addStyle:f,initPromise:h}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),addStyle:(e,n)=>t.style.setProperty(e,n),initPromise:Promise.resolve()},p)),_()},destroy(){p&&(p.destroy(),p=void 0,d("mdc-ripple-surface"),d("smui-ripple-surface--primary"),d("smui-ripple-surface--secondary")),g&&g()}}}function Ao(t){let e,r,i,a,u;const c=t[7].default,l=h(c,t,t[6],null);let d=[{href:t[1]},t[4]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("a"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[8](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[3].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||64&n)&&m(l,c,t,t[6],i?g(c,t[6],n,null):v(t[6]),null),H(e,f=$t(d,[(!i||2&n)&&{href:t[1]},16&n&&t[4]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[8](null),a=!1,o(u)}}}function Fo(t,e,r){const i=["use","href","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e,{href:c="javascript:void(0);"}=e;const l=hi(Z());let d;return t.$$set=t=>{e=n(n({},e),y(t)),r(4,o=b(e,i)),"use"in t&&r(0,u=t.use),"href"in t&&r(1,c=t.href),"$$scope"in t&&r(6,a=t.$$scope)},[u,c,d,l,o,function(){return d},a,s,function(t){at[t?"unshift":"push"]((()=>{d=t,r(2,d)}))}]}function Co(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("button"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),e.autofocus&&e.focus(),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function To(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}function $o(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("div"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function Lo(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}class ko extends Dt{constructor(t){super(),Nt(this,t,Lo,$o,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function Ro(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("h2"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function Oo(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}function Po(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("h3"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function No(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}function Do(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("h5"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function Uo(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}function Mo(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("h6"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function Bo(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}function Ho(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("i"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function jo(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}class Vo extends Dt{constructor(t){super(),Nt(this,t,jo,Ho,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function qo(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("li"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function Ko(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}function Wo(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("nav"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function zo(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}function Jo(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("span"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function Go(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}class Yo extends Dt{constructor(t){super(),Nt(this,t,Go,Jo,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function Xo(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=O("svg"),l&&l.c(),j(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),j(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function Qo(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}class Zo extends Dt{constructor(t){super(),Nt(this,t,Qo,Xo,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function ts(t){let e,r,i,a,u;const c=t[6].default,l=h(c,t,t[5],null);let d=[t[3]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){e=R("ul"),l&&l.c(),H(e,f)},m(n,o){$(n,e,o),l&&l.m(e,null),t[7](e),i=!0,a||(u=[E(r=gi.call(null,e,t[0])),E(t[2].call(null,e))],a=!0)},p(t,[n]){l&&l.p&&(!i||32&n)&&m(l,c,t,t[5],i?g(c,t[5],n,null):v(t[5]),null),H(e,f=$t(d,[8&n&&t[3]])),r&&s(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(It(l,t),i=!0)},o(t){At(l,t),i=!1},d(n){n&&L(e),l&&l.d(n),t[7](null),a=!1,o(u)}}}function es(t,e,r){const i=["use","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e,{use:u=[]}=e;const c=hi(Z());let l;return t.$$set=t=>{e=n(n({},e),y(t)),r(3,o=b(e,i)),"use"in t&&r(0,u=t.use),"$$scope"in t&&r(5,a=t.$$scope)},[u,l,c,o,function(){return l},a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}const ns=class extends Dt{constructor(t){super(),Nt(this,t,Fo,Ao,a,{use:0,href:1,getElement:5})}get getElement(){return this.$$.ctx[5]}},rs=class extends Dt{constructor(t){super(),Nt(this,t,To,Co,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}},is=ko,os=class extends Dt{constructor(t){super(),Nt(this,t,Oo,Ro,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}},ss=class extends Dt{constructor(t){super(),Nt(this,t,No,Po,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}},as=class extends Dt{constructor(t){super(),Nt(this,t,Uo,Do,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}},us=class extends Dt{constructor(t){super(),Nt(this,t,Bo,Mo,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}},cs=class extends Dt{constructor(t){super(),Nt(this,t,Ko,qo,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}},ls=class extends Dt{constructor(t){super(),Nt(this,t,zo,Wo,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}},ds=Yo,fs=class extends Dt{constructor(t){super(),Nt(this,t,es,ts,a,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}};function hs(t){let e;return{c(){e=R("div"),B(e,"class","mdc-button__touch")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function ps(t){let e,n,r,i;const o=t[27].default,s=h(o,t,t[29],null);let a=t[6]&&hs();return{c(){e=R("div"),n=N(),s&&s.c(),a&&a.c(),r=D(),B(e,"class","mdc-button__ripple")},m(t,o){$(t,e,o),$(t,n,o),s&&s.m(t,o),a&&a.m(t,o),$(t,r,o),i=!0},p(t,e){s&&s.p&&(!i||536870912&e)&&m(s,o,t,t[29],i?g(o,t[29],e,null):v(t[29]),null),t[6]?a||(a=hs(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(t){i||(It(s,t),i=!0)},o(t){At(s,t),i=!1},d(t){t&&L(e),t&&L(n),s&&s.d(t),a&&a.d(t),t&&L(r)}}}function gs(t){let e,r,i;const o=[{use:[[Io,{ripple:t[3],unbounded:!1,color:t[4],disabled:!!t[22].disabled,addClass:t[18],removeClass:t[19],addStyle:t[20]}],t[16],...t[0]]},{class:ui({[t[1]]:!0,"mdc-button":!0,"mdc-button--raised":"raised"===t[5],"mdc-button--unelevated":"unelevated"===t[5],"mdc-button--outlined":"outlined"===t[5],"smui-button--color-secondary":"secondary"===t[4],"mdc-button--touch":t[6],"mdc-card__action":"card:action"===t[17],"mdc-card__action--button":"card:action"===t[17],"mdc-dialog__button":"dialog:action"===t[17],"mdc-top-app-bar__navigation-icon":"top-app-bar:navigation"===t[17],"mdc-top-app-bar__action-item":"top-app-bar:action"===t[17],"mdc-snackbar__action":"snackbar:actions"===t[17],"mdc-banner__secondary-action":"banner"===t[17]&&t[8],"mdc-banner__primary-action":"banner"===t[17]&&!t[8],"mdc-tooltip__action":"tooltip:rich-actions"===t[17],...t[11]})},{style:Object.entries(t[12]).map(ms).concat([t[2]]).join(" ")},t[15],t[14],t[13],{href:t[7]},t[22]];var s=t[9];function a(t){let e={$$slots:{default:[ps]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a(t)),t[28](e),e.$on("click",t[21])),{c(){e&&Rt(e.$$.fragment),r=D()},m(t,n){e&&Ot(e,t,n),$(t,r,n),i=!0},p(t,[n]){const i=6289919&n?$t(o,[6094873&n&&{use:[[Io,{ripple:t[3],unbounded:!1,color:t[4],disabled:!!t[22].disabled,addClass:t[18],removeClass:t[19],addStyle:t[20]}],t[16],...t[0]]},133490&n&&{class:ui({[t[1]]:!0,"mdc-button":!0,"mdc-button--raised":"raised"===t[5],"mdc-button--unelevated":"unelevated"===t[5],"mdc-button--outlined":"outlined"===t[5],"smui-button--color-secondary":"secondary"===t[4],"mdc-button--touch":t[6],"mdc-card__action":"card:action"===t[17],"mdc-card__action--button":"card:action"===t[17],"mdc-dialog__button":"dialog:action"===t[17],"mdc-top-app-bar__navigation-icon":"top-app-bar:navigation"===t[17],"mdc-top-app-bar__action-item":"top-app-bar:action"===t[17],"mdc-snackbar__action":"snackbar:actions"===t[17],"mdc-banner__secondary-action":"banner"===t[17]&&t[8],"mdc-banner__primary-action":"banner"===t[17]&&!t[8],"mdc-tooltip__action":"tooltip:rich-actions"===t[17],...t[11]})},4100&n&&{style:Object.entries(t[12]).map(ms).concat([t[2]]).join(" ")},32768&n&&Lt(t[15]),16384&n&&Lt(t[14]),8192&n&&Lt(t[13]),128&n&&{href:t[7]},4194304&n&&Lt(t[22])]):{};if(536870976&n&&(i.$$scope={dirty:n,ctx:t}),s!==(s=t[9])){if(e){xt();const t=e;At(t.$$.fragment,1,0,(()=>{Pt(t,1)})),wt()}s?(e=new s(a(t)),t[28](e),e.$on("click",t[21]),Rt(e.$$.fragment),It(e.$$.fragment,1),Ot(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&It(e.$$.fragment,t),i=!0)},o(t){e&&At(e.$$.fragment,t),i=!1},d(n){t[28](null),n&&L(r),e&&Pt(e,n)}}}const ms=([t,e])=>`${t}: ${e};`;function vs(t,e,r){let i,o,s;const a=["use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","getElement"];let u=b(e,a),{$$slots:c={},$$scope:l}=e;const d=hi(Z());let f,{use:h=[]}=e,{class:p=""}=e,{style:g=""}=e,{ripple:m=!0}=e,{color:v="primary"}=e,{variant:_="text"}=e,{touch:E=!1}=e,{href:S}=e,{action:x="close"}=e,{defaultAction:w=!1}=e,{secondary:I=!1}=e,A={},F={},C=it("SMUI:button:context"),{component:T=(null==S?rs:ns)}=e,$=u.disabled;function L(){return f.getElement()}return rt("SMUI:label:context","button"),rt("SMUI:icon:context","button"),t.$$set=t=>{r(30,e=n(n({},e),y(t))),r(22,u=b(e,a)),"use"in t&&r(0,h=t.use),"class"in t&&r(1,p=t.class),"style"in t&&r(2,g=t.style),"ripple"in t&&r(3,m=t.ripple),"color"in t&&r(4,v=t.color),"variant"in t&&r(5,_=t.variant),"touch"in t&&r(6,E=t.touch),"href"in t&&r(7,S=t.href),"action"in t&&r(23,x=t.action),"defaultAction"in t&&r(24,w=t.defaultAction),"secondary"in t&&r(8,I=t.secondary),"component"in t&&r(9,T=t.component),"$$scope"in t&&r(29,l=t.$$scope)},t.$$.update=()=>{r(15,i="dialog:action"===C&&null!=x?{"data-mdc-dialog-action":x}:{action:e.action}),r(14,o="dialog:action"===C&&w?{"data-mdc-dialog-button-default":""}:{default:e.default}),r(13,s="banner"===C?{}:{secondary:e.secondary}),$!==u.disabled&&(L().blur(),r(26,$=u.disabled))},e=y(e),[h,p,g,m,v,_,E,S,I,T,f,A,F,s,o,i,d,C,function(t){A[t]||r(11,A[t]=!0,A)},function(t){t in A&&!A[t]||r(11,A[t]=!1,A)},function(t,e){F[t]!=e&&(""===e||null==e?(delete F[t],r(12,F)):r(12,F[t]=e,F))},function(){"banner"===C&&ci(L(),I?"SMUIBannerButton:secondaryActionClick":"SMUIBannerButton:primaryActionClick")},u,x,w,L,$,c,function(t){at[t?"unshift":"push"]((()=>{f=t,r(10,f)}))},l]}class ys extends Dt{constructor(t){super(),Nt(this,t,vs,gs,a,{use:0,class:1,style:2,ripple:3,color:4,variant:5,touch:6,href:7,action:23,defaultAction:24,secondary:8,component:9,getElement:25})}get getElement(){return this.$$.ctx[25]}}function bs(t){let e;const n=t[9].default,r=h(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&m(r,n,t,t[11],e?g(n,t[11],i,null):v(t[11]),null)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function _s(t){let e,r,i;const o=[{use:[t[4],...t[0]]},{class:ui({[t[1]]:!0,"mdc-button__label":"button"===t[5],"mdc-fab__label":"fab"===t[5],"mdc-tab__text-label":"tab"===t[5],"mdc-image-list__label":"image-list"===t[5],"mdc-snackbar__label":"snackbar"===t[5],"mdc-banner__text":"banner"===t[5],"mdc-segmented-button__label":"segmented-button"===t[5],"mdc-data-table__pagination-rows-per-page-label":"data-table:pagination"===t[5],"mdc-data-table__header-cell-label":"data-table:sortable-header-cell"===t[5]})},"snackbar"===t[5]?{"aria-atomic":"false"}:{},{tabindex:t[6]},t[7]];var s=t[2];function a(t){let e={$$slots:{default:[bs]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a(t)),t[10](e)),{c(){e&&Rt(e.$$.fragment),r=D()},m(t,n){e&&Ot(e,t,n),$(t,r,n),i=!0},p(t,[n]){const i=243&n?$t(o,[17&n&&{use:[t[4],...t[0]]},34&n&&{class:ui({[t[1]]:!0,"mdc-button__label":"button"===t[5],"mdc-fab__label":"fab"===t[5],"mdc-tab__text-label":"tab"===t[5],"mdc-image-list__label":"image-list"===t[5],"mdc-snackbar__label":"snackbar"===t[5],"mdc-banner__text":"banner"===t[5],"mdc-segmented-button__label":"segmented-button"===t[5],"mdc-data-table__pagination-rows-per-page-label":"data-table:pagination"===t[5],"mdc-data-table__header-cell-label":"data-table:sortable-header-cell"===t[5]})},32&n&&Lt("snackbar"===t[5]?{"aria-atomic":"false"}:{}),64&n&&{tabindex:t[6]},128&n&&Lt(t[7])]):{};if(2048&n&&(i.$$scope={dirty:n,ctx:t}),s!==(s=t[2])){if(e){xt();const t=e;At(t.$$.fragment,1,0,(()=>{Pt(t,1)})),wt()}s?(e=new s(a(t)),t[10](e),Rt(e.$$.fragment),It(e.$$.fragment,1),Ot(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&It(e.$$.fragment,t),i=!0)},o(t){e&&At(e.$$.fragment,t),i=!1},d(n){t[10](null),n&&L(r),e&&Pt(e,n)}}}function Es(t,e,r){const i=["use","class","component","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e;const u=hi(Z());let c,{use:l=[]}=e,{class:d=""}=e,{component:f=Yo}=e;const h=it("SMUI:label:context"),p=it("SMUI:label:tabindex");return t.$$set=t=>{e=n(n({},e),y(t)),r(7,o=b(e,i)),"use"in t&&r(0,l=t.use),"class"in t&&r(1,d=t.class),"component"in t&&r(2,f=t.component),"$$scope"in t&&r(11,a=t.$$scope)},[l,d,f,c,u,h,p,o,function(){return c.getElement()},s,function(t){at[t?"unshift":"push"]((()=>{c=t,r(3,c)}))},a]}function Ss(t){let e;const n=t[9].default,r=h(n,t,t[11],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&m(r,n,t,t[11],e?g(n,t[11],i,null):v(t[11]),null)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function xs(t){let e,r,i;const o=[{use:[t[5],...t[0]]},{class:ui({[t[1]]:!0,"mdc-button__icon":"button"===t[6],"mdc-fab__icon":"fab"===t[6],"mdc-icon-button__icon":"icon-button"===t[6],"mdc-icon-button__icon--on":"icon-button"===t[6]&&t[2],"mdc-tab__icon":"tab"===t[6],"mdc-banner__icon":"banner"===t[6],"mdc-segmented-button__icon":"segmented-button"===t[6]})},{"aria-hidden":"true"},t[3]===Zo?{focusable:"false",tabindex:"-1"}:{},t[7]];var s=t[3];function a(t){let e={$$slots:{default:[Ss]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a(t)),t[10](e)),{c(){e&&Rt(e.$$.fragment),r=D()},m(t,n){e&&Ot(e,t,n),$(t,r,n),i=!0},p(t,[n]){const i=239&n?$t(o,[33&n&&{use:[t[5],...t[0]]},70&n&&{class:ui({[t[1]]:!0,"mdc-button__icon":"button"===t[6],"mdc-fab__icon":"fab"===t[6],"mdc-icon-button__icon":"icon-button"===t[6],"mdc-icon-button__icon--on":"icon-button"===t[6]&&t[2],"mdc-tab__icon":"tab"===t[6],"mdc-banner__icon":"banner"===t[6],"mdc-segmented-button__icon":"segmented-button"===t[6]})},o[2],8&n&&Lt(t[3]===Zo?{focusable:"false",tabindex:"-1"}:{}),128&n&&Lt(t[7])]):{};if(2048&n&&(i.$$scope={dirty:n,ctx:t}),s!==(s=t[3])){if(e){xt();const t=e;At(t.$$.fragment,1,0,(()=>{Pt(t,1)})),wt()}s?(e=new s(a(t)),t[10](e),Rt(e.$$.fragment),It(e.$$.fragment,1),Ot(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&It(e.$$.fragment,t),i=!0)},o(t){e&&At(e.$$.fragment,t),i=!1},d(n){t[10](null),n&&L(r),e&&Pt(e,n)}}}function ws(t,e,r){const i=["use","class","on","component","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e;const u=hi(Z());let c,{use:l=[]}=e,{class:d=""}=e,{on:f=!1}=e,{component:h=Vo}=e;const p=it("SMUI:icon:context");return t.$$set=t=>{e=n(n({},e),y(t)),r(7,o=b(e,i)),"use"in t&&r(0,l=t.use),"class"in t&&r(1,d=t.class),"on"in t&&r(2,f=t.on),"component"in t&&r(3,h=t.component),"$$scope"in t&&r(11,a=t.$$scope)},[l,d,f,h,c,u,p,o,function(){return c.getElement()},s,function(t){at[t?"unshift":"push"]((()=>{c=t,r(4,c)}))},a]}function Is(t){let e;const n=t[4].default,r=h(n,t,t[3],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,[i]){r&&r.p&&(!e||8&i)&&m(r,n,t,t[3],e?g(n,t[3],i,null):v(t[3]),null)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function As(t,e,n){let r,{$$slots:i={},$$scope:o}=e,{key:s}=e,{value:a}=e;const u=Bt(a);return f(t,u,(t=>n(5,r=t))),rt(s,u),et((()=>{u.set(void 0)})),t.$$set=t=>{"key"in t&&n(1,s=t.key),"value"in t&&n(2,a=t.value),"$$scope"in t&&n(3,o=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&_(u,r=a,r)},[u,s,a,o,i]}class Fs extends Dt{constructor(t){super(),Nt(this,t,As,Is,a,{key:1,value:2})}}const Cs=class extends Dt{constructor(t){super(),Nt(this,t,Es,_s,a,{use:0,class:1,component:2,getElement:8})}get getElement(){return this.$$.ctx[8]}},Ts=class extends Dt{constructor(t){super(),Nt(this,t,ws,xs,a,{use:0,class:1,on:2,component:3,getElement:8})}get getElement(){return this.$$.ctx[8]}};function $s(t){let e,r,i,a,u,c;const l=t[12].default,d=h(l,t,t[11],null);let f=[{class:r=ui({[t[1]]:!0,"smui-paper":!0,"smui-paper--raised":"raised"===t[2],"smui-paper--unelevated":"unelevated"===t[2],"smui-paper--outlined":"outlined"===t[2],["smui-paper--elevation-z"+t[5]]:0!==t[5]&&"raised"===t[2],"smui-paper--rounded":!t[3],["smui-paper--color-"+t[4]]:"default"!==t[4],"smui-paper-transition":t[6]})},t[9]],p={};for(let t=0;t<f.length;t+=1)p=n(p,f[t]);return{c(){e=R("div"),d&&d.c(),H(e,p)},m(n,r){$(n,e,r),d&&d.m(e,null),t[13](e),a=!0,u||(c=[E(i=gi.call(null,e,t[0])),E(t[8].call(null,e))],u=!0)},p(t,[n]){d&&d.p&&(!a||2048&n)&&m(d,l,t,t[11],a?g(l,t[11],n,null):v(t[11]),null),H(e,p=$t(f,[(!a||126&n&&r!==(r=ui({[t[1]]:!0,"smui-paper":!0,"smui-paper--raised":"raised"===t[2],"smui-paper--unelevated":"unelevated"===t[2],"smui-paper--outlined":"outlined"===t[2],["smui-paper--elevation-z"+t[5]]:0!==t[5]&&"raised"===t[2],"smui-paper--rounded":!t[3],["smui-paper--color-"+t[4]]:"default"!==t[4],"smui-paper-transition":t[6]})))&&{class:r},512&n&&t[9]])),i&&s(i.update)&&1&n&&i.update.call(null,t[0])},i(t){a||(It(d,t),a=!0)},o(t){At(d,t),a=!1},d(n){n&&L(e),d&&d.d(n),t[13](null),u=!1,o(c)}}}function Ls(t,e,r){const i=["use","class","variant","square","color","elevation","transition","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e;const u=hi(Z());let c,{use:l=[]}=e,{class:d=""}=e,{variant:f="raised"}=e,{square:h=!1}=e,{color:p="default"}=e,{elevation:g=1}=e,{transition:m=!1}=e;return t.$$set=t=>{e=n(n({},e),y(t)),r(9,o=b(e,i)),"use"in t&&r(0,l=t.use),"class"in t&&r(1,d=t.class),"variant"in t&&r(2,f=t.variant),"square"in t&&r(3,h=t.square),"color"in t&&r(4,p=t.color),"elevation"in t&&r(5,g=t.elevation),"transition"in t&&r(6,m=t.transition),"$$scope"in t&&r(11,a=t.$$scope)},[l,d,f,h,p,g,m,c,u,o,function(){return c},a,s,function(t){at[t?"unshift":"push"]((()=>{c=t,r(7,c)}))}]}class ks extends Dt{constructor(t){super(),Nt(this,t,Ls,$s,a,{use:0,class:1,variant:2,square:3,color:4,elevation:5,transition:6,getElement:10})}get getElement(){return this.$$.ctx[10]}}function Rs(t){let e;const n=t[10].default,r=h(n,t,t[12],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i)&&m(r,n,t,t[12],e?g(n,t[12],i,null):v(t[12]),null)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function Os(t){let e,r,i;const o=[{use:[t[7],...t[0]]},{class:ui({[t[1]]:!0,[t[5]]:!0,...t[4]})},t[6],t[8]];var s=t[2];function a(t){let e={$$slots:{default:[Rs]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a(t)),t[11](e)),{c(){e&&Rt(e.$$.fragment),r=D()},m(t,n){e&&Ot(e,t,n),$(t,r,n),i=!0},p(t,[n]){const i=499&n?$t(o,[129&n&&{use:[t[7],...t[0]]},50&n&&{class:ui({[t[1]]:!0,[t[5]]:!0,...t[4]})},64&n&&Lt(t[6]),256&n&&Lt(t[8])]):{};if(4096&n&&(i.$$scope={dirty:n,ctx:t}),s!==(s=t[2])){if(e){xt();const t=e;At(t.$$.fragment,1,0,(()=>{Pt(t,1)})),wt()}s?(e=new s(a(t)),t[11](e),Rt(e.$$.fragment),It(e.$$.fragment,1),Ot(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&It(e.$$.fragment,t),i=!0)},o(t){e&&At(e.$$.fragment,t),i=!1},d(n){t[11](null),n&&L(r),e&&Pt(e,n)}}}const Ps={component:ko,class:"",classMap:{},contexts:{},props:{}};function Ns(t,e,r){const i=["use","class","component","getElement"];let o,s=b(e,i),{$$slots:a={},$$scope:u}=e,{use:c=[]}=e,{class:l=""}=e;const d=Ps.class,f={},h=[],p=Ps.contexts,g=Ps.props;let{component:m=Ps.component}=e;Object.entries(Ps.classMap).forEach((([t,e])=>{const n=it(e);n&&"subscribe"in n&&h.push(n.subscribe((e=>{r(4,f[t]=e,f)})))}));const v=hi(Z());for(let t in p)p.hasOwnProperty(t)&&rt(t,p[t]);return et((()=>{for(const t of h)t()})),t.$$set=t=>{e=n(n({},e),y(t)),r(8,s=b(e,i)),"use"in t&&r(0,c=t.use),"class"in t&&r(1,l=t.class),"component"in t&&r(2,m=t.component),"$$scope"in t&&r(12,u=t.$$scope)},[c,l,m,o,f,d,g,v,s,function(){return o.getElement()},a,function(t){at[t?"unshift":"push"]((()=>{o=t,r(3,o)}))},u]}class Ds extends Dt{constructor(t){super(),Nt(this,t,Ns,Os,a,{use:0,class:1,component:2,getElement:9})}get getElement(){return this.$$.ctx[9]}}const Us=Object.assign({},Ps);function Ms(t){return new Proxy(Ds,{construct:function(e,n){return Object.assign(Ps,Us,t),new e(...n)},get:function(e,n){return Object.assign(Ps,Us,t),e[n]}})}Ms({class:"smui-paper__content",component:is}),Ms({class:"smui-paper__title",component:as}),Ms({class:"smui-paper__subtitle",component:us});var Bs={experience:{all:{name:"Everybody",tooltip:"Easily accessible use case"},power:{name:"Power users",tooltip:"Advanced use case"},experts:{name:"Experts",tooltip:"Use case for contributors and tools experts"},code:{name:"Developers",tooltip:"Use case for tools developers"}},maturity:{beta:{name:"Beta",tooltip:"A service of this maturity level has reached a certain robustness and may be used by early adopters."},experimental:{name:"Experimental",tooltip:"A service of this maturity level is under heavy development and recommended only for specialists’ use or use for co-design partners."}},access:{hpc:{name:"HPC",tooltip:"Requires high-performance computing resources access"},byor:{name:"BYOR",tooltip:"(Bring Your Own Resources) Services of this type allow you to delegate the execution to resources provided by the user. This is subject to technical compatibility."}},demo:{model:{name:"WIP Circuit",tooltip:"Warning: model is work in progress"}},implementation:{webapp:{name:"Web app",icon:"https://raw.githubusercontent.com/antonelepfl/usecases/dev/src/assets/images/web_uc.png",tooltip:"This use case was implemented using a Web Application"},ipynb:{name:"Notebook",icon:"https://raw.githubusercontent.com/antonelepfl/usecases/dev/src/assets/images/ipynb_uc.png",tooltip:"This use case was implemented using Jupyter Notebook"}}};function Hs(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}function js(t,e,n){const r=t.slice();return r[6]=e[n],r}function Vs(t,e,n){const r=t.slice();return r[9]=e[n],r}function qs(t,e,n){const r=t.slice();return r[12]=e[n],r}function Ks(t){let e,n=t[0].maturity,r=[];for(let e=0;e<n.length;e+=1)r[e]=Ws(qs(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=D()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);$(t,e,n)},p(t,i){if(7&i){let o;for(n=t[0].maturity,o=0;o<n.length;o+=1){const s=qs(t,n,o);r[o]?r[o].p(s,i):(r[o]=Ws(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&L(e)}}}function Ws(t){let e,n,r,i,o,s,a=t[1]("maturity",t[12])+"";return{c(){e=R("div"),n=R("span"),r=P(a),s=N(),B(n,"data-tooltip",i=t[2]("maturity",t[12])),B(n,"title",o=t[2]("maturity",t[12])),B(e,"class","maturity colored svelte-11jszw4")},m(t,i){$(t,e,i),F(e,n),F(n,r),F(e,s)},p(t,e){1&e&&a!==(a=t[1]("maturity",t[12])+"")&&V(r,a),1&e&&i!==(i=t[2]("maturity",t[12]))&&B(n,"data-tooltip",i),1&e&&o!==(o=t[2]("maturity",t[12]))&&B(n,"title",o)},d(t){t&&L(e)}}}function zs(t){let e,n=t[0].access,r=[];for(let e=0;e<n.length;e+=1)r[e]=Js(Vs(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=D()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);$(t,e,n)},p(t,i){if(7&i){let o;for(n=t[0].access,o=0;o<n.length;o+=1){const s=Vs(t,n,o);r[o]?r[o].p(s,i):(r[o]=Js(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&L(e)}}}function Js(t){let e,n,r,i,o,s=t[1]("access",t[9])+"";return{c(){e=R("div"),n=R("span"),r=P(s),o=N(),B(n,"data-tooltip",i=t[2]("access",t[9])),B(e,"class","access colored svelte-11jszw4")},m(t,i){$(t,e,i),F(e,n),F(n,r),F(e,o)},p(t,e){1&e&&s!==(s=t[1]("access",t[9])+"")&&V(r,s),1&e&&i!==(i=t[2]("access",t[9]))&&B(n,"data-tooltip",i)},d(t){t&&L(e)}}}function Gs(t){let e,n=t[0].experience,r=[];for(let e=0;e<n.length;e+=1)r[e]=Ys(js(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=D()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);$(t,e,n)},p(t,i){if(7&i){let o;for(n=t[0].experience,o=0;o<n.length;o+=1){const s=js(t,n,o);r[o]?r[o].p(s,i):(r[o]=Ys(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){k(r,t),t&&L(e)}}}function Ys(t){let e,n,r,i,o,s=t[1]("experience",t[6])+"";return{c(){e=R("div"),n=R("span"),r=P(s),o=N(),B(n,"data-tooltip",i=t[2]("experience",t[6])),B(e,"class","experience colored svelte-11jszw4")},m(t,i){$(t,e,i),F(e,n),F(n,r),F(e,o)},p(t,e){1&e&&s!==(s=t[1]("experience",t[6])+"")&&V(r,s),1&e&&i!==(i=t[2]("experience",t[6]))&&B(n,"data-tooltip",i)},d(t){t&&L(e)}}}function Xs(t){let e,n,r,i;return{c(){e=R("div"),n=R("span"),r=R("div"),B(r,"class","uc-implementation svelte-11jszw4"),K(r,"background-image","url("+t[3]("implementation",t[0].implementation)+")"),B(n,"data-tooltip",i=t[2]("implementation",t[0].implementation)),B(e,"class","implementation")},m(t,i){$(t,e,i),F(e,n),F(n,r)},p(t,e){1&e&&K(r,"background-image","url("+t[3]("implementation",t[0].implementation)+")"),1&e&&i!==(i=t[2]("implementation",t[0].implementation))&&B(n,"data-tooltip",i)},d(t){t&&L(e)}}}function Qs(t){let e,n,r,i,o,s;return r=new Ts({props:{class:"material-icons",$$slots:{default:[Zs]},$$scope:{ctx:t}}}),{c(){e=R("div"),n=R("div"),Rt(r.$$.fragment),B(n,"class","tutorial-icon"),B(e,"class","video-tutorial svelte-11jszw4"),B(e,"data-tooltip","See interactive tutorial")},m(a,u){$(a,e,u),F(e,n),Ot(r,n,null),i=!0,o||(s=U(e,"click",M(t[4])),o=!0)},p(t,e){const n={};32768&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){i||(It(r.$$.fragment,t),i=!0)},o(t){At(r.$$.fragment,t),i=!1},d(t){t&&L(e),Pt(r),o=!1,s()}}}function Zs(t){let e;return{c(){e=P("tv")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function ta(t){let e,n,r,i,o,s,a,u,c=t[0].maturity?.length&&Ks(t),l=t[0].access?.length&&zs(t),d=t[0].experience?.length&&Gs(t),f=t[0].implementation&&Xs(t),h=t[0].tutorial&&Qs(t);return{c(){e=R("div"),n=R("div"),c&&c.c(),r=N(),l&&l.c(),i=N(),d&&d.c(),o=N(),s=R("div"),f&&f.c(),a=N(),h&&h.c(),B(n,"class","column svelte-11jszw4"),B(s,"class","column svelte-11jszw4"),B(e,"class","pills svelte-11jszw4")},m(t,p){$(t,e,p),F(e,n),c&&c.m(n,null),F(n,r),l&&l.m(n,null),F(n,i),d&&d.m(n,null),F(e,o),F(e,s),f&&f.m(s,null),F(s,a),h&&h.m(s,null),u=!0},p(t,[e]){t[0].maturity?.length?c?c.p(t,e):(c=Ks(t),c.c(),c.m(n,r)):c&&(c.d(1),c=null),t[0].access?.length?l?l.p(t,e):(l=zs(t),l.c(),l.m(n,i)):l&&(l.d(1),l=null),t[0].experience?.length?d?d.p(t,e):(d=Gs(t),d.c(),d.m(n,null)):d&&(d.d(1),d=null),t[0].implementation?f?f.p(t,e):(f=Xs(t),f.c(),f.m(s,a)):f&&(f.d(1),f=null),t[0].tutorial?h?(h.p(t,e),1&e&&It(h,1)):(h=Qs(t),h.c(),It(h,1),h.m(s,null)):h&&(xt(),At(h,1,1,(()=>{h=null})),wt())},i(t){u||(It(h),u=!0)},o(t){At(h),u=!1},d(t){t&&L(e),c&&c.d(),l&&l.d(),d&&d.d(),f&&f.d(),h&&h.d()}}}function ea(t,e,n){let{usecaseItem:r}=e;function i(t,e){return Bs[t][e]}return t.$$set=t=>{"usecaseItem"in t&&n(0,r=t.usecaseItem)},[r,function(t,e){return i(t,e).name},function(t,e){return i(t,e).tooltip},function(t,e){return i(t,e).icon},()=>{return t=r.tutorial,void window.open(t,"_blank");var t}]}Hs("");class na extends Dt{constructor(t){super(),Nt(this,t,ea,ta,a,{usecaseItem:0})}}function ra(t,e,n){const r=t.slice();return r[5]=e[n],r}function ia(t,e,n){const r=t.slice();return r[8]=e[n],r}function oa(t){let e,r,i,o;const s=[ce];let a={$$slots:{default:[ua]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return r=new ks({props:a}),r.$on("click",(function(){return t[3](t[5])})),{c(){e=R("div"),Rt(r.$$.fragment),i=N(),B(e,"class","card-container svelte-1aay05k")},m(t,n){$(t,e,n),Ot(r,e,null),$(t,i,n),o=!0},p(e,n){t=e;const i=0&n?$t(s,[Lt(ce)]):{};2049&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(It(r.$$.fragment,t),o=!0)},o(t){At(r.$$.fragment,t),o=!1},d(t){t&&L(e),Pt(r),t&&L(i)}}}function sa(t){let e,n,r,i=t[5].contributors,o=[];for(let e=0;e<i.length;e+=1)o[e]=aa(ia(t,i,e));return{c(){e=R("div"),n=R("span"),n.textContent="Credits:",r=N();for(let t=0;t<o.length;t+=1)o[t].c();B(n,"class","credit-title svelte-1aay05k"),B(e,"class","contributors-container svelte-1aay05k")},m(t,i){$(t,e,i),F(e,n),F(e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,n){if(1&n){let r;for(i=t[5].contributors,r=0;r<i.length;r+=1){const s=ia(t,i,r);o[r]?o[r].p(s,n):(o[r]=aa(s),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},d(t){t&&L(e),k(o,t)}}}function aa(t){let e,n,r,i,o,s=t[8].name+"",a=(t[8].email||"?")+"";return{c(){e=R("span"),n=P(s),r=P(" ("),i=P(a),o=P(")"),B(e,"class","contributor-names svelte-1aay05k")},m(t,s){$(t,e,s),F(e,n),F(e,r),F(e,i),F(e,o)},p(t,e){1&e&&s!==(s=t[8].name+"")&&V(n,s),1&e&&a!==(a=(t[8].email||"?")+"")&&V(i,a)},d(t){t&&L(e)}}}function ua(t){let e,n,r,i,o,s,a,u,l,d,f,h,p,g,m,v=t[5].title+"",y=t[5].description+"",b=t[5]?.contributors?.length&&sa(t);return g=new na({props:{usecaseItem:t[5]}}),{c(){e=R("div"),n=R("div"),r=R("img"),o=N(),s=R("div"),a=R("div"),u=P(v),l=N(),d=R("div"),f=P(y),h=N(),b&&b.c(),p=N(),Rt(g.$$.fragment),c(r.src,i=t[5].picture.src)||B(r,"src",i),B(r,"alt",""),B(r,"class","svelte-1aay05k"),B(n,"class","image svelte-1aay05k"),B(a,"class","title svelte-1aay05k"),B(d,"class","description svelte-1aay05k"),B(s,"class","text-content svelte-1aay05k"),B(e,"class","columns-container svelte-1aay05k")},m(t,i){$(t,e,i),F(e,n),F(n,r),F(e,o),F(e,s),F(s,a),F(a,u),F(s,l),F(s,d),F(d,f),F(s,h),b&&b.m(s,null),F(e,p),Ot(g,e,null),m=!0},p(t,e){(!m||1&e&&!c(r.src,i=t[5].picture.src))&&B(r,"src",i),(!m||1&e)&&v!==(v=t[5].title+"")&&V(u,v),(!m||1&e)&&y!==(y=t[5].description+"")&&V(f,y),t[5]?.contributors?.length?b?b.p(t,e):(b=sa(t),b.c(),b.m(s,null)):b&&(b.d(1),b=null);const n={};1&e&&(n.usecaseItem=t[5]),g.$set(n)},i(t){m||(It(g.$$.fragment,t),m=!0)},o(t){At(g.$$.fragment,t),m=!1},d(t){t&&L(e),b&&b.d(),Pt(g)}}}function ca(t){let e,n,r=!t[5].disabled&&oa(t);return{c(){r&&r.c(),e=D()},m(t,i){r&&r.m(t,i),$(t,e,i),n=!0},p(t,n){t[5].disabled?r&&(xt(),At(r,1,1,(()=>{r=null})),wt()):r?(r.p(t,n),1&n&&It(r,1)):(r=oa(t),r.c(),It(r,1),r.m(e.parentNode,e))},i(t){n||(It(r),n=!0)},o(t){At(r),n=!1},d(t){r&&r.d(t),t&&L(e)}}}function la(t){let e,n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=ca(ra(t,r,e));const o=t=>At(i[t],1,1,(()=>{i[t]=null}));return{c(){e=R("div");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"class","usecases-card-container")},m(t,r){$(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(3&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const o=ra(t,r,s);i[s]?(i[s].p(o,n),It(i[s],1)):(i[s]=ca(o),i[s].c(),It(i[s],1),i[s].m(e,null))}for(xt(),s=r.length;s<i.length;s+=1)o(s);wt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)It(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)At(i[t]);n=!1},d(t){t&&L(e),k(i,t)}}}function da(t,e,n){let{usecases:r}=e,{categoryId:i}=e;const o=nt();function s(t){o("clicked",{usecaseItem:t,categoryId:i})}return t.$$set=t=>{"usecases"in t&&n(0,r=t.usecases),"categoryId"in t&&n(2,i=t.categoryId)},[r,s,i,t=>s(t)]}Hs("");class fa extends Dt{constructor(t){super(),Nt(this,t,da,la,a,{usecases:0,categoryId:2})}}function ha(t,e,n){const r=t.slice();return r[4]=e[n],r}function pa(t){let e,n,r,i,o,s=t[4].title+"";return i=new fa({props:{usecases:t[4].items,categoryId:t[1]}}),i.$on("clicked",t[2]),{c(){e=R("div"),n=P(s),r=N(),Rt(i.$$.fragment),B(e,"class","group-title svelte-13zrfs3")},m(t,s){$(t,e,s),F(e,n),$(t,r,s),Ot(i,t,s),o=!0},p(t,e){(!o||1&e)&&s!==(s=t[4].title+"")&&V(n,s);const r={};1&e&&(r.usecases=t[4].items),2&e&&(r.categoryId=t[1]),i.$set(r)},i(t){o||(It(i.$$.fragment,t),o=!0)},o(t){At(i.$$.fragment,t),o=!1},d(t){t&&L(e),t&&L(r),Pt(i,t)}}}function ga(t){let e,n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=pa(ha(t,r,e));const o=t=>At(i[t],1,1,(()=>{i[t]=null}));return{c(){e=R("div");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"class","usecases-group-container")},m(t,r){$(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(7&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const o=ha(t,r,s);i[s]?(i[s].p(o,n),It(i[s],1)):(i[s]=pa(o),i[s].c(),It(i[s],1),i[s].m(e,null))}for(xt(),s=r.length;s<i.length;s+=1)o(s);wt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)It(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)At(i[t]);n=!1},d(t){t&&L(e),k(i,t)}}}function ma(t,e,n){let{groups:r}=e,{categoryId:i}=e;const o=nt();return t.$$set=t=>{"groups"in t&&n(0,r=t.groups),"categoryId"in t&&n(1,i=t.categoryId)},[r,i,function(t){o("clicked",t.detail)}]}Hs("");class va extends Dt{constructor(t){super(),Nt(this,t,ma,ga,a,{groups:0,categoryId:1})}}Hs("");const ya=t=>({}),ba=t=>({}),_a=t=>({}),Ea=t=>({});function Sa(t){let e,n,r,i,o,s,a,u,c,l,d;const f=t[2].header,p=h(f,t,t[1],Ea),y=t[2].content,b=h(y,t,t[1],ba),_=t[2].default,E=h(_,t,t[1],null);return{c(){e=R("div"),n=R("div"),r=R("div"),p&&p.c(),o=N(),s=R("div"),b&&b.c(),u=N(),E&&E.c(),B(r,"class",i="tab-label "+(t[0]?"expanded":"")+" svelte-1tn52e6"),B(s,"class",a="tab-content "+(t[0]?"expanded":"")+" svelte-1tn52e6"),B(n,"class","tab svelte-1tn52e6"),B(e,"class","accordion-container")},m(i,a){$(i,e,a),F(e,n),F(n,r),p&&p.m(r,null),F(n,o),F(n,s),b&&b.m(s,null),F(n,u),E&&E.m(n,null),c=!0,l||(d=U(r,"click",t[3]),l=!0)},p(t,[e]){p&&p.p&&(!c||2&e)&&m(p,f,t,t[1],c?g(f,t[1],e,_a):v(t[1]),Ea),(!c||1&e&&i!==(i="tab-label "+(t[0]?"expanded":"")+" svelte-1tn52e6"))&&B(r,"class",i),b&&b.p&&(!c||2&e)&&m(b,y,t,t[1],c?g(y,t[1],e,ya):v(t[1]),ba),(!c||1&e&&a!==(a="tab-content "+(t[0]?"expanded":"")+" svelte-1tn52e6"))&&B(s,"class",a),E&&E.p&&(!c||2&e)&&m(E,_,t,t[1],c?g(_,t[1],e,null):v(t[1]),null)},i(t){c||(It(p,t),It(b,t),It(E,t),c=!0)},o(t){At(p,t),At(b,t),At(E,t),c=!1},d(t){t&&L(e),p&&p.d(t),b&&b.d(t),E&&E.d(t),l=!1,d()}}}function xa(t,e,n){let{$$slots:r={},$$scope:i}=e,{isExpanded:o=!1}=e;return t.$$set=t=>{"isExpanded"in t&&n(0,o=t.isExpanded),"$$scope"in t&&n(1,i=t.$$scope)},[o,i,r,()=>n(0,o=!o)]}class wa extends Dt{constructor(t){super(),Nt(this,t,xa,Sa,a,{isExpanded:0})}}function Ia(t,e,n){const r=t.slice();return r[11]=e[n],r[12]=e,r[13]=n,r}function Aa(t){let e,n,r;function i(e){t[5](e,t[11])}let o={$$slots:{content:[$a],header:[Ca]},$$scope:{ctx:t}};return void 0!==t[11].isExpanded&&(o.isExpanded=t[11].isExpanded),e=new wa({props:o}),at.push((()=>kt(e,"isExpanded",i))),{c(){Rt(e.$$.fragment)},m(t,n){Ot(e,t,n),r=!0},p(r,i){t=r;const o={};16385&i&&(o.$$scope={dirty:i,ctx:t}),!n&&1&i&&(n=!0,o.isExpanded=t[11].isExpanded,pt((()=>n=!1))),e.$set(o)},i(t){r||(It(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Pt(e,t)}}}function Fa(t){let e;return{c(){e=P("link")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function Ca(t){let e,n,r,i,o,s,a,u,c,l,d,f,h=t[11].title+"";function p(...e){return t[4](t[11],...e)}return s=new Ts({props:{class:"material-icons",$$slots:{default:[Fa]},$$scope:{ctx:t}}}),{c(){e=R("div"),n=R("div"),r=P(h),i=N(),o=R("a"),Rt(s.$$.fragment),c=N(),B(n,"class","grow svelte-x4qrhw"),B(o,"id",a=t[11].anchor),B(o,"title","Copy link to this category"),B(o,"class","category-anchor"),B(o,"href",u=`#/${t[11].anchor}`),B(e,"slot","header"),B(e,"class","custom-accordion-item svelte-x4qrhw")},m(t,a){$(t,e,a),F(e,n),F(n,r),F(e,i),F(e,o),Ot(s,o,null),F(e,c),l=!0,d||(f=U(o,"click",p),d=!0)},p(e,n){t=e,(!l||1&n)&&h!==(h=t[11].title+"")&&V(r,h);const i={};16384&n&&(i.$$scope={dirty:n,ctx:t}),s.$set(i),(!l||1&n&&a!==(a=t[11].anchor))&&B(o,"id",a),(!l||1&n&&u!==(u=`#/${t[11].anchor}`))&&B(o,"href",u)},i(t){l||(It(s.$$.fragment,t),l=!0)},o(t){At(s.$$.fragment,t),l=!1},d(t){t&&L(e),Pt(s),d=!1,f()}}}function Ta(t){let e,n;return e=new va({props:{groups:t[11].groups,categoryId:t[11].id}}),e.$on("clicked",t[2]),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.groups=t[11].groups),1&n&&(r.categoryId=t[11].id),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function $a(t){let e,n,r,i,o;n=new fa({props:{usecases:t[11].usecases,categoryId:t[11].id}}),n.$on("clicked",t[2]);let s=t[11].groups&&Ta(t);return{c(){e=R("div"),Rt(n.$$.fragment),r=N(),s&&s.c(),i=N(),B(e,"slot","content")},m(t,a){$(t,e,a),Ot(n,e,null),F(e,r),s&&s.m(e,null),F(e,i),o=!0},p(t,r){const o={};1&r&&(o.usecases=t[11].usecases),1&r&&(o.categoryId=t[11].id),n.$set(o),t[11].groups?s?(s.p(t,r),1&r&&It(s,1)):(s=Ta(t),s.c(),It(s,1),s.m(e,i)):s&&(xt(),At(s,1,1,(()=>{s=null})),wt())},i(t){o||(It(n.$$.fragment,t),It(s),o=!0)},o(t){At(n.$$.fragment,t),At(s),o=!1},d(t){t&&L(e),Pt(n),s&&s.d()}}}function La(t){let e,n,r=t[11].hasItems&&Aa(t);return{c(){r&&r.c(),e=D()},m(t,i){r&&r.m(t,i),$(t,e,i),n=!0},p(t,n){t[11].hasItems?r?(r.p(t,n),1&n&&It(r,1)):(r=Aa(t),r.c(),It(r,1),r.m(e.parentNode,e)):r&&(xt(),At(r,1,1,(()=>{r=null})),wt())},i(t){n||(It(r),n=!0)},o(t){At(r),n=!1},d(t){r&&r.d(t),t&&L(e)}}}function ka(t){let e,n,r,i,o,s,a,u=t[0],c=[];for(let e=0;e<u.length;e+=1)c[e]=La(Ia(t,u,e));const l=t=>At(c[t],1,1,(()=>{c[t]=null}));return{c(){e=R("div"),n=R("div");for(let t=0;t<c.length;t+=1)c[t].c();r=N(),i=R("div"),o=P("v"),s=P(t[1]),B(n,"class","usecase-list-content svelte-x4qrhw"),B(i,"class","app-version svelte-x4qrhw"),B(e,"class","usecase-list-item svelte-x4qrhw")},m(t,u){$(t,e,u),F(e,n);for(let t=0;t<c.length;t+=1)c[t].m(n,null);F(e,r),F(e,i),F(i,o),F(i,s),a=!0},p(t,[e]){if(13&e){let r;for(u=t[0],r=0;r<u.length;r+=1){const i=Ia(t,u,r);c[r]?(c[r].p(i,e),It(c[r],1)):(c[r]=La(i),c[r].c(),It(c[r],1),c[r].m(n,null))}for(xt(),r=u.length;r<c.length;r+=1)l(r);wt()}(!a||2&e)&&V(s,t[1])},i(t){if(!a){for(let t=0;t<u.length;t+=1)It(c[t]);a=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)At(c[t]);a=!1},d(t){t&&L(e),k(c,t)}}}Hs("");function Ra(t){return t.usecases.length?t.usecases.some((t=>!t.disabled)):!!t.groups.length&&t.groups.some((t=>t.items.some((t=>!t.disabled))))}function Oa(t){return t.replaceAll("-","_").replaceAll(" ","_").toLowerCase()}function Pa(t,e,n){let r,i;f(t,fe,(t=>n(6,r=t))),f(t,ve,(t=>n(1,i=t)));let o=[],s=d(Ee);function a(t){const e=Oa(t),n=e===window.location.hash.replace(/^#\//,"");return n&&c(e),n}function u(t,e){e.isExpanded&&t.stopPropagation(),window.location.hash=`#/${e.anchor}`,navigator.clipboard.writeText(window.location.href),_e.set("Link copied"),c(e.anchor)}function c(t){setTimeout((()=>{const e=document.getElementById(t);if(!e)return;const n=s,r=document.body.getBoundingClientRect().top,i=e.getBoundingClientRect().top-r-n;window.scrollTo({top:i,behavior:"smooth"})}),500)}tt((function(){fetch(ue.INFO_FILE_URL).then((t=>t.json())).then((t=>{n(0,o=t.map((t=>Object.assign(Object.assign({},t),{anchor:Oa(t.title),hasItems:Ra(t),isExpanded:a(t.title)}))))}))}));return[o,i,function(t){const e=t.detail.usecaseItem;if(le.set(e),de.set(t.detail.categoryId),!e.externalUrl||e.chooseModel)return r?void ni():(console.warn("user not registered"),void ii());ni()},u,(t,e)=>u(e,t),function(e,r){t.$$.not_equal(r.isExpanded,e)&&(r.isExpanded=e,n(0,o))}]}class Na extends Dt{constructor(t){super(),Nt(this,t,Pa,ka,a,{})}}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var Da,Ua,Ma={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},Ba=((Da={})[""+Ma.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",Da[""+Ma.LIST_ITEM_CLASS]="mdc-list-item",Da[""+Ma.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",Da[""+Ma.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",Da[""+Ma.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",Da[""+Ma.ROOT]="mdc-list",Da),Ha=((Ua={})[""+Ma.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",Ua[""+Ma.LIST_ITEM_CLASS]="mdc-deprecated-list-item",Ua[""+Ma.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",Ua[""+Ma.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",Ua[""+Ma.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",Ua[""+Ma.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",Ua[""+Ma.ROOT]="mdc-deprecated-list",Ua),ja={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+Ma.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Ma.LIST_ITEM_CLASS+" a,\n    ."+Ha[Ma.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+Ha[Ma.LIST_ITEM_CLASS]+" a\n  ",DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+Ma.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Ma.LIST_ITEM_CLASS+" a,\n    ."+Ma.LIST_ITEM_CLASS+' input[type="radio"]:not(:disabled),\n    .'+Ma.LIST_ITEM_CLASS+' input[type="checkbox"]:not(:disabled),\n    .'+Ha[Ma.LIST_ITEM_CLASS]+" button:not(:disabled),\n    ."+Ha[Ma.LIST_ITEM_CLASS]+" a,\n    ."+Ha[Ma.LIST_ITEM_CLASS]+' input[type="radio"]:not(:disabled),\n    .'+Ha[Ma.LIST_ITEM_CLASS]+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Va={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},qa=["input","button","textarea","select"],Ka=function(t){var e=t.target;if(e){var n=(""+e.tagName).toLowerCase();-1===qa.indexOf(n)&&t.preventDefault()}};function Wa(t,e){var n,r=t.nextChar,i=t.focusItemAtIndex,o=t.sortedIndexByFirstChar,s=t.focusedItemIndex,a=t.skipFocus,u=t.isItemAtIndexDisabled;return clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout((function(){Ja(e)}),Va.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+r,n=1===e.typeaheadBuffer.length?function(t,e,n,r){var i=r.typeaheadBuffer[0],o=t.get(i);if(!o)return-1;if(i===r.currentFirstChar&&o[r.sortedIndexCursor].index===e){r.sortedIndexCursor=(r.sortedIndexCursor+1)%o.length;var s=o[r.sortedIndexCursor].index;if(!n(s))return s}r.currentFirstChar=i;var a,u=-1;for(a=0;a<o.length;a++)if(!n(o[a].index)){u=a;break}for(;a<o.length;a++)if(o[a].index>e&&!n(o[a].index)){u=a;break}if(-1!==u)return r.sortedIndexCursor=u,o[r.sortedIndexCursor].index;return-1}(o,s,u,e):function(t,e,n){var r=n.typeaheadBuffer[0],i=t.get(r);if(!i)return-1;var o=i[n.sortedIndexCursor];if(0===o.text.lastIndexOf(n.typeaheadBuffer,0)&&!e(o.index))return o.index;var s=(n.sortedIndexCursor+1)%i.length,a=-1;for(;s!==n.sortedIndexCursor;){var u=i[s],c=0===u.text.lastIndexOf(n.typeaheadBuffer,0),l=!e(u.index);if(c&&l){a=s;break}s=(s+1)%i.length}if(-1!==a)return n.sortedIndexCursor=a,i[n.sortedIndexCursor].index;return-1}(o,u,e),-1===n||a||i(n),n}function za(t){return t.typeaheadBuffer.length>0}function Ja(t){t.typeaheadBuffer=""}function Ga(t,e){var n=t.event,r=t.isTargetListItem,i=t.focusedItemIndex,o=t.focusItemAtIndex,s=t.sortedIndexByFirstChar,a=t.isItemAtIndexDisabled,u="ArrowLeft"===So(n),c="ArrowUp"===So(n),l="ArrowRight"===So(n),d="ArrowDown"===So(n),f="Home"===So(n),h="End"===So(n),p="Enter"===So(n),g="Spacebar"===So(n);return n.ctrlKey||n.metaKey||u||c||l||d||f||h||p?-1:g||1!==n.key.length?g?(r&&Ka(n),r&&za(e)?Wa({focusItemAtIndex:o,focusedItemIndex:i,nextChar:" ",sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:a},e):-1):-1:(Ka(n),Wa({focusItemAtIndex:o,focusedItemIndex:i,nextChar:n.key.toLowerCase(),sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:a},e))}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var Ya=function(t){function e(n){var r=t.call(this,_i(_i({},e.defaultAdapter),n))||this;return r.wrapFocus=!1,r.isVertical=!0,r.isSingleSelectionList=!1,r.selectedIndex=Va.UNSET_INDEX,r.focusedItemIndex=Va.UNSET_INDEX,r.useActivatedClass=!1,r.useSelectedAttr=!1,r.ariaCurrentAttrValue=null,r.isCheckboxList=!1,r.isRadioList=!1,r.hasTypeahead=!1,r.typeaheadState={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""},r.sortedIndexByFirstChar=new Map,r}return bi(e,t),Object.defineProperty(e,"strings",{get:function(){return ja},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Ma},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Va},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),e.prototype.layout=function(){0!==this.adapter.getListItemCount()&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},e.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},e.prototype.setWrapFocus=function(t){this.wrapFocus=t},e.prototype.setVerticalOrientation=function(t){this.isVertical=t},e.prototype.setSingleSelection=function(t){this.isSingleSelectionList=t,t&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},e.prototype.maybeInitializeSingleSelection=function(){var t=this.getSelectedIndexFromDOM();t!==Va.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,Ma.LIST_ITEM_ACTIVATED_CLASS)&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=t)},e.prototype.getSelectedIndexFromDOM=function(){for(var t=Va.UNSET_INDEX,e=this.adapter.getListItemCount(),n=0;n<e;n++){var r=this.adapter.listItemAtIndexHasClass(n,Ma.LIST_ITEM_SELECTED_CLASS),i=this.adapter.listItemAtIndexHasClass(n,Ma.LIST_ITEM_ACTIVATED_CLASS);if(r||i){t=n;break}}return t},e.prototype.setHasTypeahead=function(t){this.hasTypeahead=t,t&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},e.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&za(this.typeaheadState)},e.prototype.setUseActivatedClass=function(t){this.useActivatedClass=t},e.prototype.setUseSelectedAttribute=function(t){this.useSelectedAttr=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t,e){var n=(void 0===e?{}:e).forceUpdate;this.isIndexValid(t)&&(this.isCheckboxList?this.setCheckboxAtIndex(t):this.isRadioList?this.setRadioAtIndex(t):this.setSingleSelectionAtIndex(t,{forceUpdate:n}))},e.prototype.handleFocusIn=function(t){t>=0&&(this.focusedItemIndex=t,this.adapter.setAttributeForElementIndex(t,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(t,"0"))},e.prototype.handleFocusOut=function(t){var e=this;t>=0&&(this.adapter.setAttributeForElementIndex(t,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(t,"-1")),setTimeout((function(){e.adapter.isFocusInsideList()||e.setTabindexToFirstSelectedOrFocusedItem()}),0)},e.prototype.handleKeydown=function(t,e,n){var r=this,i="ArrowLeft"===So(t),o="ArrowUp"===So(t),s="ArrowRight"===So(t),a="ArrowDown"===So(t),u="Home"===So(t),c="End"===So(t),l="Enter"===So(t),d="Spacebar"===So(t),f="A"===t.key||"a"===t.key;if(this.adapter.isRootFocused()){o||c?(t.preventDefault(),this.focusLastElement()):(a||u)&&(t.preventDefault(),this.focusFirstElement()),this.hasTypeahead&&Ga({event:t,focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:-1,isTargetListItem:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,Ma.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)}else{var h=this.adapter.getFocusedElementIndex();if(!(-1===h&&(h=n)<0)){if(this.isVertical&&a||!this.isVertical&&s)Ka(t),this.focusNextElement(h);else if(this.isVertical&&o||!this.isVertical&&i)Ka(t),this.focusPrevElement(h);else if(u)Ka(t),this.focusFirstElement();else if(c)Ka(t),this.focusLastElement();else if(f&&t.ctrlKey&&this.isCheckboxList)t.preventDefault(),this.toggleAll(this.selectedIndex===Va.UNSET_INDEX?[]:this.selectedIndex);else if((l||d)&&e){var p=t.target;if(p&&"A"===p.tagName&&l)return;if(Ka(t),this.adapter.listItemAtIndexHasClass(h,Ma.LIST_ITEM_DISABLED_CLASS))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(h),this.adapter.notifyAction(h))}if(this.hasTypeahead)Ga({event:t,focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,Ma.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)}}},e.prototype.handleClick=function(t,e){t!==Va.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,Ma.LIST_ITEM_DISABLED_CLASS)||(this.isSelectableList()&&this.setSelectedIndexOnAction(t,e),this.adapter.notifyAction(t)))},e.prototype.focusNextElement=function(t){var e=t+1;if(e>=this.adapter.getListItemCount()){if(!this.wrapFocus)return t;e=0}return this.focusItemAtIndex(e),e},e.prototype.focusPrevElement=function(t){var e=t-1;if(e<0){if(!this.wrapFocus)return t;e=this.adapter.getListItemCount()-1}return this.focusItemAtIndex(e),e},e.prototype.focusFirstElement=function(){return this.focusItemAtIndex(0),0},e.prototype.focusLastElement=function(){var t=this.adapter.getListItemCount()-1;return this.focusItemAtIndex(t),t},e.prototype.focusInitialElement=function(){var t=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(t),t},e.prototype.setEnabled=function(t,e){this.isIndexValid(t)&&(e?(this.adapter.removeClassForElementIndex(t,Ma.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,ja.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(t,Ma.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,ja.ARIA_DISABLED,"true")))},e.prototype.setSingleSelectionAtIndex=function(t,e){var n=(void 0===e?{}:e).forceUpdate;if(this.selectedIndex!==t||n){var r=Ma.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(r=Ma.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==Va.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,r),this.setAriaForSingleSelectionAtIndex(t),this.setTabindexAtIndex(t),t!==Va.UNSET_INDEX&&this.adapter.addClassForElementIndex(t,r),this.selectedIndex=t}},e.prototype.setAriaForSingleSelectionAtIndex=function(t){this.selectedIndex===Va.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(t,ja.ARIA_CURRENT));var e=null!==this.ariaCurrentAttrValue,n=e?ja.ARIA_CURRENT:ja.ARIA_SELECTED;if(this.selectedIndex!==Va.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),t!==Va.UNSET_INDEX){var r=e?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(t,n,r)}},e.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?ja.ARIA_SELECTED:ja.ARIA_CHECKED},e.prototype.setRadioAtIndex=function(t){var e=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(t,!0),this.selectedIndex!==Va.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,e,"false"),this.adapter.setAttributeForElementIndex(t,e,"true"),this.selectedIndex=t},e.prototype.setCheckboxAtIndex=function(t){for(var e=this.getSelectionAttribute(),n=0;n<this.adapter.getListItemCount();n++){var r=!1;t.indexOf(n)>=0&&(r=!0),this.adapter.setCheckedCheckboxOrRadioAtIndex(n,r),this.adapter.setAttributeForElementIndex(n,e,r?"true":"false")}this.selectedIndex=t},e.prototype.setTabindexAtIndex=function(t){this.focusedItemIndex===Va.UNSET_INDEX&&0!==t?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==t&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex instanceof Array||this.selectedIndex===t||this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),t!==Va.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(t,"tabindex","0")},e.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},e.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var t=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(t)},e.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?"number"==typeof this.selectedIndex&&this.selectedIndex!==Va.UNSET_INDEX?this.selectedIndex:this.selectedIndex instanceof Array&&this.selectedIndex.length>0?this.selectedIndex.reduce((function(t,e){return Math.min(t,e)})):0:Math.max(this.focusedItemIndex,0)},e.prototype.isIndexValid=function(t){var e=this;if(t instanceof Array){if(!this.isCheckboxList)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===t.length||t.some((function(t){return e.isIndexInRange(t)}))}if("number"==typeof t){if(this.isCheckboxList)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return this.isIndexInRange(t)||this.isSingleSelectionList&&t===Va.UNSET_INDEX}return!1},e.prototype.isIndexInRange=function(t){var e=this.adapter.getListItemCount();return t>=0&&t<e},e.prototype.setSelectedIndexOnAction=function(t,e){void 0===e&&(e=!0),this.isCheckboxList?this.toggleCheckboxAtIndex(t,e):this.setSelectedIndex(t)},e.prototype.toggleCheckboxAtIndex=function(t,e){var n=this.getSelectionAttribute(),r=this.adapter.isCheckboxCheckedAtIndex(t);e&&(r=!r,this.adapter.setCheckedCheckboxOrRadioAtIndex(t,r)),this.adapter.setAttributeForElementIndex(t,n,r?"true":"false");var i=this.selectedIndex===Va.UNSET_INDEX?[]:this.selectedIndex.slice();r?i.push(t):i=i.filter((function(e){return e!==t})),this.selectedIndex=i},e.prototype.focusItemAtIndex=function(t){this.adapter.focusItemAtIndex(t),this.focusedItemIndex=t},e.prototype.toggleAll=function(t){var e=this.adapter.getListItemCount();if(t.length===e)this.setCheckboxAtIndex([]);else{for(var n=[],r=0;r<e;r++)(!this.adapter.listItemAtIndexHasClass(r,Ma.LIST_ITEM_DISABLED_CLASS)||t.indexOf(r)>-1)&&n.push(r);this.setCheckboxAtIndex(n)}},e.prototype.typeaheadMatchItem=function(t,e,n){var r=this;return void 0===n&&(n=!1),Wa({focusItemAtIndex:function(t){r.focusItemAtIndex(t)},focusedItemIndex:e||this.focusedItemIndex,nextChar:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:n,isItemAtIndexDisabled:function(t){return r.adapter.listItemAtIndexHasClass(t,Ma.LIST_ITEM_DISABLED_CLASS)}},this.typeaheadState)},e.prototype.typeaheadInitSortedIndex=function(){return function(t,e){for(var n=new Map,r=0;r<t;r++){var i=e(r).trim();if(i){var o=i[0].toLowerCase();n.has(o)||n.set(o,[]),n.get(o).push({text:i.toLowerCase(),index:r})}}return n.forEach((function(t){t.sort((function(t,e){return t.index-e.index}))})),n}(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},e.prototype.clearTypeaheadBuffer=function(){Ja(this.typeaheadState)},e}(wi);
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */function Xa(t){let e;const n=t[37].default,r=h(n,t,t[43],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i[1])&&m(r,n,t,t[43],e?g(n,t[43],i,null):v(t[43]),null)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function Qa(t){let e,r,i;const o=[{use:[t[17],...t[0]]},{class:ui({[t[1]]:!0,"mdc-deprecated-list":!0,"mdc-deprecated-list--non-interactive":t[2],"mdc-deprecated-list--dense":t[3],"mdc-deprecated-list--textual-list":t[4],"mdc-deprecated-list--avatar-list":t[5]||t[18],"mdc-deprecated-list--icon-list":t[6],"mdc-deprecated-list--image-list":t[7],"mdc-deprecated-list--thumbnail-list":t[8],"mdc-deprecated-list--video-list":t[9],"mdc-deprecated-list--two-line":t[10],"smui-list--three-line":t[11]&&!t[10]})},{role:t[15]},t[23]];var s=t[12];function a(t){let e={$$slots:{default:[Xa]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a(t)),t[38](e),e.$on("keydown",t[39]),e.$on("focusin",t[40]),e.$on("focusout",t[41]),e.$on("click",t[42]),e.$on("SMUIListItem:mount",t[19]),e.$on("SMUIListItem:unmount",t[20]),e.$on("SMUI:action",t[21])),{c(){e&&Rt(e.$$.fragment),r=D()},m(t,n){e&&Ot(e,t,n),$(t,r,n),i=!0},p(t,n){const i=8818687&n[0]?$t(o,[131073&n[0]&&{use:[t[17],...t[0]]},266238&n[0]&&{class:ui({[t[1]]:!0,"mdc-deprecated-list":!0,"mdc-deprecated-list--non-interactive":t[2],"mdc-deprecated-list--dense":t[3],"mdc-deprecated-list--textual-list":t[4],"mdc-deprecated-list--avatar-list":t[5]||t[18],"mdc-deprecated-list--icon-list":t[6],"mdc-deprecated-list--image-list":t[7],"mdc-deprecated-list--thumbnail-list":t[8],"mdc-deprecated-list--video-list":t[9],"mdc-deprecated-list--two-line":t[10],"smui-list--three-line":t[11]&&!t[10]})},32768&n[0]&&{role:t[15]},8388608&n[0]&&Lt(t[23])]):{};if(4096&n[1]&&(i.$$scope={dirty:n,ctx:t}),s!==(s=t[12])){if(e){xt();const t=e;At(t.$$.fragment,1,0,(()=>{Pt(t,1)})),wt()}s?(e=new s(a(t)),t[38](e),e.$on("keydown",t[39]),e.$on("focusin",t[40]),e.$on("focusout",t[41]),e.$on("click",t[42]),e.$on("SMUIListItem:mount",t[19]),e.$on("SMUIListItem:unmount",t[20]),e.$on("SMUI:action",t[21]),Rt(e.$$.fragment),It(e.$$.fragment,1),Ot(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&It(e.$$.fragment,t),i=!0)},o(t){e&&At(e.$$.fragment,t),i=!1},d(n){t[38](null),n&&L(r),e&&Pt(e,n)}}}function Za(t,e,r){const i=["use","class","nonInteractive","dense","textualList","avatarList","iconList","imageList","thumbnailList","videoList","twoLine","threeLine","vertical","wrapFocus","singleSelection","selectedIndex","radioList","checkList","hasTypeahead","component","layout","setEnabled","getTypeaheadInProgress","getSelectedIndex","getFocusedItemIndex","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e;var u;const{closest:c,matches:l}=Li,d=hi(Z());let f,h,{use:p=[]}=e,{class:g=""}=e,{nonInteractive:m=!1}=e,{dense:v=!1}=e,{textualList:_=!1}=e,{avatarList:E=!1}=e,{iconList:S=!1}=e,{imageList:x=!1}=e,{thumbnailList:w=!1}=e,{videoList:I=!1}=e,{twoLine:A=!1}=e,{threeLine:F=!1}=e,{vertical:C=!0}=e,{wrapFocus:T=null!==(u=it("SMUI:list:wrapFocus"))&&void 0!==u&&u}=e,{singleSelection:$=!1}=e,{selectedIndex:L=-1}=e,{radioList:k=!1}=e,{checkList:R=!1}=e,{hasTypeahead:O=!1}=e,P=[],N=it("SMUI:list:role"),D=it("SMUI:list:nav");const U=new WeakMap;let M,B=it("SMUI:dialog:selection"),H=it("SMUI:addLayoutListener"),{component:j=(D?ls:fs)}=e;function V(){return null==f?[]:[...st().children].map((t=>U.get(t))).filter((t=>t&&t._smui_list_item_accessor))}function q(t){const e=V()[t];e&&"focus"in e.element&&e.element.focus()}function K(t,e){var n;const r=V()[t];return null!==(n=r&&r.hasClass(e))&&void 0!==n&&n}function W(t,e){const n=V()[t];n&&n.addClass(e)}function z(t,e){const n=V()[t];n&&n.removeClass(e)}function J(t,e,n){const r=V()[t];r&&r.addAttr(e,n)}function G(t,e){const n=V()[t];n&&n.removeAttr(e)}function Y(t,e){const n=V()[t];return n?n.getAttr(e):null}function X(t){var e;const n=V()[t];return null!==(e=n&&n.getPrimaryText())&&void 0!==e?e:""}function Q(t){const e=c(t,".mdc-deprecated-list-item, .mdc-deprecated-list");return e&&l(e,".mdc-deprecated-list-item")?V().map((t=>null==t?void 0:t.element)).indexOf(e):-1}function nt(){return h.layout()}function ot(){return h.getSelectedIndex()}function st(){return f.getElement()}rt("SMUI:list:nonInteractive",m),rt("SMUI:separator:context","list"),N||($?(N="listbox",rt("SMUI:list:item:role","option")):k?(N="radiogroup",rt("SMUI:list:item:role","radio")):R?(N="group",rt("SMUI:list:item:role","checkbox")):(N="list",rt("SMUI:list:item:role",void 0))),H&&(M=H(nt)),tt((()=>{r(13,h=new Ya({addClassForElementIndex:W,focusItemAtIndex:q,getAttributeForElementIndex:(t,e)=>{var n,r;return null!==(r=null===(n=V()[t])||void 0===n?void 0:n.getAttr(e))&&void 0!==r?r:null},getFocusedElementIndex:()=>document.activeElement?V().map((t=>t.element)).indexOf(document.activeElement):-1,getListItemCount:()=>P.length,getPrimaryTextAtIndex:X,hasCheckboxAtIndex:t=>{var e,n;return null!==(n=null===(e=V()[t])||void 0===e?void 0:e.hasCheckbox)&&void 0!==n&&n},hasRadioAtIndex:t=>{var e,n;return null!==(n=null===(e=V()[t])||void 0===e?void 0:e.hasRadio)&&void 0!==n&&n},isCheckboxCheckedAtIndex:t=>{var e;const n=V()[t];return null!==(e=(null==n?void 0:n.hasCheckbox)&&n.checked)&&void 0!==e&&e},isFocusInsideList:()=>null!=f&&st()!==document.activeElement&&st().contains(document.activeElement),isRootFocused:()=>null!=f&&document.activeElement===st(),listItemAtIndexHasClass:K,notifyAction:t=>{r(24,L=t),null!=f&&ci(st(),"SMUIList:action",{index:t},void 0,!0)},removeClassForElementIndex:z,setAttributeForElementIndex:J,setCheckedCheckboxOrRadioAtIndex:(t,e)=>{V()[t].checked=e},setTabIndexForListItemChildren:(t,e)=>{const n=V()[t];Array.prototype.forEach.call(n.element.querySelectorAll("button:not(:disabled), a"),(t=>{t.setAttribute("tabindex",e)}))}}));const t={get element(){return st()},get items(){return P},get typeaheadInProgress(){return h.isTypeaheadInProgress()},typeaheadMatchItem:(t,e)=>h.typeaheadMatchItem(t,e,!0),getOrderedList:V,focusItemAtIndex:q,addClassForElementIndex:W,removeClassForElementIndex:z,setAttributeForElementIndex:J,removeAttributeForElementIndex:G,getAttributeFromElementIndex:Y,getPrimaryTextAtIndex:X};return ci(st(),"SMUIList:mount",t),h.init(),()=>{h.destroy()}})),et((()=>{M&&M()}));return t.$$set=t=>{e=n(n({},e),y(t)),r(23,o=b(e,i)),"use"in t&&r(0,p=t.use),"class"in t&&r(1,g=t.class),"nonInteractive"in t&&r(2,m=t.nonInteractive),"dense"in t&&r(3,v=t.dense),"textualList"in t&&r(4,_=t.textualList),"avatarList"in t&&r(5,E=t.avatarList),"iconList"in t&&r(6,S=t.iconList),"imageList"in t&&r(7,x=t.imageList),"thumbnailList"in t&&r(8,w=t.thumbnailList),"videoList"in t&&r(9,I=t.videoList),"twoLine"in t&&r(10,A=t.twoLine),"threeLine"in t&&r(11,F=t.threeLine),"vertical"in t&&r(25,C=t.vertical),"wrapFocus"in t&&r(26,T=t.wrapFocus),"singleSelection"in t&&r(27,$=t.singleSelection),"selectedIndex"in t&&r(24,L=t.selectedIndex),"radioList"in t&&r(28,k=t.radioList),"checkList"in t&&r(29,R=t.checkList),"hasTypeahead"in t&&r(30,O=t.hasTypeahead),"component"in t&&r(12,j=t.component),"$$scope"in t&&r(43,a=t.$$scope)},t.$$.update=()=>{33562624&t.$$.dirty[0]&&h&&h.setVerticalOrientation(C),67117056&t.$$.dirty[0]&&h&&h.setWrapFocus(T),1073750016&t.$$.dirty[0]&&h&&h.setHasTypeahead(O),134225920&t.$$.dirty[0]&&h&&h.setSingleSelection($),151003136&t.$$.dirty[0]&&h&&$&&ot()!==L&&h.setSelectedIndex(L)},[p,g,m,v,_,E,S,x,w,I,A,F,j,h,f,N,l,d,B,function(t){P.push(t.detail),U.set(t.detail.element,t.detail),$&&t.detail.selected&&r(24,L=Q(t.detail.element)),t.stopPropagation()},function(t){var e;const n=null!==(e=t.detail&&P.indexOf(t.detail))&&void 0!==e?e:-1;-1!==n&&(P.splice(n,1),P=P,U.delete(t.detail.element)),t.stopPropagation()},function(t){if(k||R){const e=Q(t.target);if(-1!==e){const t=V()[e];t&&(k&&!t.checked||R)&&(t.checked=!t.checked,t.activateRipple(),window.requestAnimationFrame((()=>{t.deactivateRipple()})))}}},Q,o,L,C,T,$,k,R,O,nt,function(t,e){return h.setEnabled(t,e)},function(){return h.isTypeaheadInProgress()},ot,function(){return h.getFocusedItemIndex()},st,s,function(t){at[t?"unshift":"push"]((()=>{f=t,r(14,f)}))},t=>h&&h.handleKeydown(t,t.target.classList.contains("mdc-deprecated-list-item"),Q(t.target)),t=>h&&h.handleFocusIn(Q(t.target)),t=>h&&h.handleFocusOut(Q(t.target)),t=>h&&h.handleClick(Q(t.target),!l(t.target,'input[type="checkbox"], input[type="radio"]')),a]}!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}bi(e,t),Object.defineProperty(e.prototype,"vertical",{set:function(t){this.foundation.setVerticalOrientation(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"listElements",{get:function(){return Array.from(this.root.querySelectorAll("."+this.classNameMap[Ma.LIST_ITEM_CLASS]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{set:function(t){this.foundation.setWrapFocus(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTypeahead",{set:function(t){this.foundation.setHasTypeahead(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.foundation.setSingleSelection(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(t){this.foundation.setSelectedIndex(t)},enumerable:!1,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.isEvolutionEnabled="evolution"in this.root.dataset,this.isEvolutionEnabled?this.classNameMap=Ba:Ti(this.root,ja.DEPRECATED_SELECTOR)?this.classNameMap=Ha:this.classNameMap=Object.values(Ma).reduce((function(t,e){return t[e]=e,t}),{}),this.handleClick=this.handleClickEvent.bind(this),this.handleKeydown=this.handleKeydownEvent.bind(this),this.focusInEventListener=this.handleFocusInEvent.bind(this),this.focusOutEventListener=this.handleFocusOutEvent.bind(this),this.listen("keydown",this.handleKeydown),this.listen("click",this.handleClick),this.listen("focusin",this.focusInEventListener),this.listen("focusout",this.focusOutEventListener),this.layout(),this.initializeListType(),this.ensureFocusable()},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten("click",this.handleClick),this.unlisten("focusin",this.focusInEventListener),this.unlisten("focusout",this.focusOutEventListener)},e.prototype.layout=function(){var t=this.root.getAttribute(ja.ARIA_ORIENTATION);this.vertical=t!==ja.ARIA_ORIENTATION_HORIZONTAL;var e="."+this.classNameMap[Ma.LIST_ITEM_CLASS]+":not([tabindex])",n=ja.FOCUSABLE_CHILD_ELEMENTS,r=this.root.querySelectorAll(e);r.length&&Array.prototype.forEach.call(r,(function(t){t.setAttribute("tabindex","-1")}));var i=this.root.querySelectorAll(n);i.length&&Array.prototype.forEach.call(i,(function(t){t.setAttribute("tabindex","-1")})),this.isEvolutionEnabled&&this.foundation.setUseSelectedAttribute(!0),this.foundation.layout()},e.prototype.getPrimaryText=function(t){var e,n=t.querySelector("."+this.classNameMap[Ma.LIST_ITEM_PRIMARY_TEXT_CLASS]);if(this.isEvolutionEnabled||n)return null!==(e=null==n?void 0:n.textContent)&&void 0!==e?e:"";var r=t.querySelector("."+this.classNameMap[Ma.LIST_ITEM_TEXT_CLASS]);return r&&r.textContent||""},e.prototype.initializeListType=function(){var t=this;if(this.isInteractive=Ti(this.root,ja.ARIA_INTERACTIVE_ROLES_SELECTOR),this.isEvolutionEnabled&&this.isInteractive){var e=Array.from(this.root.querySelectorAll(ja.SELECTED_ITEM_SELECTOR),(function(e){return t.listElements.indexOf(e)}));Ti(this.root,ja.ARIA_MULTI_SELECTABLE_SELECTOR)?this.selectedIndex=e:e.length>0&&(this.selectedIndex=e[0])}else{var n=this.root.querySelectorAll(ja.ARIA_ROLE_CHECKBOX_SELECTOR),r=this.root.querySelector(ja.ARIA_CHECKED_RADIO_SELECTOR);if(n.length){var i=this.root.querySelectorAll(ja.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=Array.from(i,(function(e){return t.listElements.indexOf(e)}))}else r&&(this.selectedIndex=this.listElements.indexOf(r))}},e.prototype.setEnabled=function(t,e){this.foundation.setEnabled(t,e)},e.prototype.typeaheadMatchItem=function(t,e){return this.foundation.typeaheadMatchItem(t,e,!0)},e.prototype.getDefaultFoundation=function(){var t=this,e={addClassForElementIndex:function(e,n){var r=t.listElements[e];r&&r.classList.add(t.classNameMap[n])},focusItemAtIndex:function(e){var n=t.listElements[e];n&&n.focus()},getAttributeForElementIndex:function(e,n){return t.listElements[e].getAttribute(n)},getFocusedElementIndex:function(){return t.listElements.indexOf(document.activeElement)},getListItemCount:function(){return t.listElements.length},getPrimaryTextAtIndex:function(e){return t.getPrimaryText(t.listElements[e])},hasCheckboxAtIndex:function(e){return!!t.listElements[e].querySelector(ja.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(e){return!!t.listElements[e].querySelector(ja.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(e){return t.listElements[e].querySelector(ja.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return t.root!==document.activeElement&&t.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===t.root},listItemAtIndexHasClass:function(e,n){return t.listElements[e].classList.contains(t.classNameMap[n])},notifyAction:function(e){t.emit(ja.ACTION_EVENT,{index:e},!0)},removeClassForElementIndex:function(e,n){var r=t.listElements[e];r&&r.classList.remove(t.classNameMap[n])},setAttributeForElementIndex:function(e,n,r){var i=t.listElements[e];i&&i.setAttribute(n,r)},setCheckedCheckboxOrRadioAtIndex:function(e,n){var r=t.listElements[e].querySelector(ja.CHECKBOX_RADIO_SELECTOR);r.checked=n;var i=document.createEvent("Event");i.initEvent("change",!0,!0),r.dispatchEvent(i)},setTabIndexForListItemChildren:function(e,n){var r=t.listElements[e],i=ja.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX;Array.prototype.forEach.call(r.querySelectorAll(i),(function(t){t.setAttribute("tabindex",n)}))}};return new Ya(e)},e.prototype.ensureFocusable=function(){if(this.isEvolutionEnabled&&this.isInteractive&&!this.root.querySelector("."+this.classNameMap[Ma.LIST_ITEM_CLASS]+'[tabindex="0"]')){var t=this.initialFocusIndex();-1!==t&&(this.listElements[t].tabIndex=0)}},e.prototype.initialFocusIndex=function(){if(this.selectedIndex instanceof Array&&this.selectedIndex.length>0)return this.selectedIndex[0];if("number"==typeof this.selectedIndex&&this.selectedIndex!==Va.UNSET_INDEX)return this.selectedIndex;var t=this.root.querySelector("."+this.classNameMap[Ma.LIST_ITEM_CLASS]+":not(."+this.classNameMap[Ma.LIST_ITEM_DISABLED_CLASS]+")");return null===t?-1:this.getListItemIndex(t)},e.prototype.getListItemIndex=function(t){var e=Ci(t,"."+this.classNameMap[Ma.LIST_ITEM_CLASS]+", ."+this.classNameMap[Ma.ROOT]);return e&&Ti(e,"."+this.classNameMap[Ma.LIST_ITEM_CLASS])?this.listElements.indexOf(e):-1},e.prototype.handleFocusInEvent=function(t){var e=this.getListItemIndex(t.target);this.foundation.handleFocusIn(e)},e.prototype.handleFocusOutEvent=function(t){var e=this.getListItemIndex(t.target);this.foundation.handleFocusOut(e)},e.prototype.handleKeydownEvent=function(t){var e=this.getListItemIndex(t.target),n=t.target;this.foundation.handleKeydown(t,n.classList.contains(this.classNameMap[Ma.LIST_ITEM_CLASS]),e)},e.prototype.handleClickEvent=function(t){var e=this.getListItemIndex(t.target),n=!Ti(t.target,ja.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(e,n)}}(Ii);class tu extends Dt{constructor(t){super(),Nt(this,t,Za,Qa,a,{use:0,class:1,nonInteractive:2,dense:3,textualList:4,avatarList:5,iconList:6,imageList:7,thumbnailList:8,videoList:9,twoLine:10,threeLine:11,vertical:25,wrapFocus:26,singleSelection:27,selectedIndex:24,radioList:28,checkList:29,hasTypeahead:30,component:12,layout:31,setEnabled:32,getTypeaheadInProgress:33,getSelectedIndex:34,getFocusedItemIndex:35,getElement:36},null,[-1,-1])}get layout(){return this.$$.ctx[31]}get setEnabled(){return this.$$.ctx[32]}get getTypeaheadInProgress(){return this.$$.ctx[33]}get getSelectedIndex(){return this.$$.ctx[34]}get getFocusedItemIndex(){return this.$$.ctx[35]}get getElement(){return this.$$.ctx[36]}}function eu(t){let e;return{c(){e=R("span"),B(e,"class","mdc-deprecated-list-item__ripple")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function nu(t){let e,n,r=t[7]&&eu();const i=t[32].default,o=h(i,t,t[35],null);return{c(){r&&r.c(),e=D(),o&&o.c()},m(t,i){r&&r.m(t,i),$(t,e,i),o&&o.m(t,i),n=!0},p(t,s){t[7]?r||(r=eu(),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),o&&o.p&&(!n||16&s[1])&&m(o,i,t,t[35],n?g(i,t[35],s,null):v(t[35]),null)},i(t){n||(It(o,t),n=!0)},o(t){At(o,t),n=!1},d(t){r&&r.d(t),t&&L(e),o&&o.d(t)}}}function ru(t){let e,r,i;const o=[{use:[...t[6]?[]:[[Io,{ripple:!t[14],unbounded:!1,color:(t[1]||t[0])&&null==t[5]?"primary":t[5],disabled:t[9],addClass:t[22],removeClass:t[23],addStyle:t[24]}]],t[20],...t[2]]},{class:ui({[t[3]]:!0,"mdc-deprecated-list-item":!0,"mdc-deprecated-list-item--activated":t[1],"mdc-deprecated-list-item--selected":t[0],"mdc-deprecated-list-item--disabled":t[9],"mdc-menu-item--selected":!t[21]&&"menuitem"===t[8]&&t[0],"smui-menu-item--non-interactive":t[6],...t[16]})},{style:Object.entries(t[17]).map(ou).concat([t[4]]).join(" ")},t[21]&&t[1]?{"aria-current":"page"}:{},t[21]?{}:{role:t[8]},t[21]||"option"!==t[8]?{}:{"aria-selected":t[0]?"true":"false"},t[21]||"radio"!==t[8]&&"checkbox"!==t[8]?{}:{"aria-checked":t[14]&&t[14].checked?"true":"false"},t[21]?{}:{"aria-disabled":t[9]?"true":"false"},{"data-menu-item-skip-restore-focus":t[10]||void 0},{tabindex:t[19]},{href:t[11]},t[18],t[27]];var s=t[12];function a(t){let e={$$slots:{default:[nu]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return s&&(e=new s(a(t)),t[33](e),e.$on("click",t[13]),e.$on("keydown",t[25]),e.$on("SMUIGenericInput:mount",t[26]),e.$on("SMUIGenericInput:unmount",t[34])),{c(){e&&Rt(e.$$.fragment),r=D()},m(t,n){e&&Ot(e,t,n),$(t,r,n),i=!0},p(t,n){const i=167726975&n[0]?$t(o,[30425703&n[0]&&{use:[...t[6]?[]:[[Io,{ripple:!t[14],unbounded:!1,color:(t[1]||t[0])&&null==t[5]?"primary":t[5],disabled:t[9],addClass:t[22],removeClass:t[23],addStyle:t[24]}]],t[20],...t[2]]},2163531&n[0]&&{class:ui({[t[3]]:!0,"mdc-deprecated-list-item":!0,"mdc-deprecated-list-item--activated":t[1],"mdc-deprecated-list-item--selected":t[0],"mdc-deprecated-list-item--disabled":t[9],"mdc-menu-item--selected":!t[21]&&"menuitem"===t[8]&&t[0],"smui-menu-item--non-interactive":t[6],...t[16]})},131088&n[0]&&{style:Object.entries(t[17]).map(ou).concat([t[4]]).join(" ")},2097154&n[0]&&Lt(t[21]&&t[1]?{"aria-current":"page"}:{}),2097408&n[0]&&Lt(t[21]?{}:{role:t[8]}),2097409&n[0]&&Lt(t[21]||"option"!==t[8]?{}:{"aria-selected":t[0]?"true":"false"}),2113792&n[0]&&Lt(t[21]||"radio"!==t[8]&&"checkbox"!==t[8]?{}:{"aria-checked":t[14]&&t[14].checked?"true":"false"}),2097664&n[0]&&Lt(t[21]?{}:{"aria-disabled":t[9]?"true":"false"}),1024&n[0]&&{"data-menu-item-skip-restore-focus":t[10]||void 0},524288&n[0]&&{tabindex:t[19]},2048&n[0]&&{href:t[11]},262144&n[0]&&Lt(t[18]),134217728&n[0]&&Lt(t[27])]):{};if(128&n[0]|16&n[1]&&(i.$$scope={dirty:n,ctx:t}),s!==(s=t[12])){if(e){xt();const t=e;At(t.$$.fragment,1,0,(()=>{Pt(t,1)})),wt()}s?(e=new s(a(t)),t[33](e),e.$on("click",t[13]),e.$on("keydown",t[25]),e.$on("SMUIGenericInput:mount",t[26]),e.$on("SMUIGenericInput:unmount",t[34]),Rt(e.$$.fragment),It(e.$$.fragment,1),Ot(e,r.parentNode,r)):e=null}else s&&e.$set(i)},i(t){i||(e&&It(e.$$.fragment,t),i=!0)},o(t){e&&At(e.$$.fragment,t),i=!1},d(n){t[33](null),n&&L(r),e&&Pt(e,n)}}}let iu=0;const ou=([t,e])=>`${t}: ${e};`;function su(t,e,r){let i;const o=["use","class","style","color","nonInteractive","ripple","activated","role","selected","disabled","skipRestoreFocus","tabindex","inputId","href","component","action","getPrimaryText","getElement"];let s=b(e,o),{$$slots:a={},$$scope:u}=e;var c;const l=hi(Z());let d=()=>{};let{use:f=[]}=e,{class:h=""}=e,{style:p=""}=e,{color:g}=e,{nonInteractive:m=null!==(c=it("SMUI:list:nonInteractive"))&&void 0!==c&&c}=e;rt("SMUI:list:nonInteractive",void 0);let{ripple:v=!m}=e,{activated:_=!1}=e,{role:E=it("SMUI:list:item:role")}=e;rt("SMUI:list:item:role",void 0);let S,x,w,{selected:I=!1}=e,{disabled:A=!1}=e,{skipRestoreFocus:F=!1}=e,{tabindex:C=d}=e,{inputId:T="SMUI-form-field-list-"+iu++}=e,{href:$}=e,L={},k={},R={},O=it("SMUI:list:item:nav"),{component:P=(O?$?ns:ds:cs)}=e;function N(t){return t in L?L[t]:K().classList.contains(t)}function D(t){L[t]||r(16,L[t]=!0,L)}function U(t){t in L&&!L[t]||r(16,L[t]=!1,L)}function M(t){var e;return t in R?null!==(e=R[t])&&void 0!==e?e:null:K().getAttribute(t)}function B(t,e){R[t]!==e&&r(18,R[t]=e,R)}function H(t){t in R&&null==R[t]||r(18,R[t]=void 0,R)}function j(){let t=!0,e=S.getElement();for(;e.nextElementSibling;)if(e=e.nextElementSibling,1===e.nodeType&&e.classList.contains("mdc-deprecated-list-item")){const n=e.attributes.getNamedItem("tabindex");if(n&&"0"===n.value){t=!1;break}}t&&r(19,i=0)}function V(t){A||ci(K(),"SMUI:action",t)}function q(){var t,e,n;const r=K(),i=r.querySelector(".mdc-deprecated-list-item__primary-text");if(i)return null!==(t=i.textContent)&&void 0!==t?t:"";const o=r.querySelector(".mdc-deprecated-list-item__text");return o?null!==(e=o.textContent)&&void 0!==e?e:"":null!==(n=r.textContent)&&void 0!==n?n:""}function K(){return S.getElement()}rt("SMUI:generic:input:props",{id:T}),rt("SMUI:separator:context",void 0),tt((()=>{if(!I&&!m){let t=!0,e=S;for(;e.previousSibling;)if(e=e.previousSibling,1===e.nodeType&&e.classList.contains("mdc-deprecated-list-item")&&!e.classList.contains("mdc-deprecated-list-item--disabled")){t=!1;break}t&&(w=window.requestAnimationFrame(j))}const t={_smui_list_item_accessor:!0,get element(){return K()},get selected(){return I},set selected(t){r(0,I=t)},hasClass:N,addClass:D,removeClass:U,getAttr:M,addAttr:B,removeAttr:H,getPrimaryText:q,get checked(){var t;return null!==(t=x&&x.checked)&&void 0!==t&&t},set checked(t){x&&r(14,x.checked=!!t,x)},get hasCheckbox(){return!(!x||!("_smui_checkbox_accessor"in x))},get hasRadio(){return!(!x||!("_smui_radio_accessor"in x))},activateRipple(){x&&x.activateRipple()},deactivateRipple(){x&&x.deactivateRipple()},getValue:()=>s.value,action:V,get tabindex(){return i},set tabindex(t){r(28,C=t)},get disabled(){return A},get activated(){return _},set activated(t){r(1,_=t)}};return ci(K(),"SMUIListItem:mount",t),()=>{ci(K(),"SMUIListItem:unmount",t)}})),et((()=>{w&&window.cancelAnimationFrame(w)}));return t.$$set=t=>{e=n(n({},e),y(t)),r(27,s=b(e,o)),"use"in t&&r(2,f=t.use),"class"in t&&r(3,h=t.class),"style"in t&&r(4,p=t.style),"color"in t&&r(5,g=t.color),"nonInteractive"in t&&r(6,m=t.nonInteractive),"ripple"in t&&r(7,v=t.ripple),"activated"in t&&r(1,_=t.activated),"role"in t&&r(8,E=t.role),"selected"in t&&r(0,I=t.selected),"disabled"in t&&r(9,A=t.disabled),"skipRestoreFocus"in t&&r(10,F=t.skipRestoreFocus),"tabindex"in t&&r(28,C=t.tabindex),"inputId"in t&&r(29,T=t.inputId),"href"in t&&r(11,$=t.href),"component"in t&&r(12,P=t.component),"$$scope"in t&&r(35,u=t.$$scope)},t.$$.update=()=>{268452417&t.$$.dirty[0]&&r(19,i=C===d?m||A||!(I||x&&x.checked)?-1:0:C)},[I,_,f,h,p,g,m,v,E,A,F,$,P,V,x,S,L,k,R,i,l,O,D,U,function(t,e){k[t]!=e&&(""===e||null==e?(delete k[t],r(17,k)):r(17,k[t]=e,k))},function(t){const e="Enter"===t.key,n="Space"===t.key;(e||n)&&V(t)},function(t){("_smui_checkbox_accessor"in t.detail||"_smui_radio_accessor"in t.detail)&&r(14,x=t.detail)},s,C,T,q,K,a,function(t){at[t?"unshift":"push"]((()=>{S=t,r(15,S)}))},()=>r(14,x=void 0),u]}var au=Ms({class:"mdc-deprecated-list-item__text",component:ds});Ms({class:"mdc-deprecated-list-item__primary-text",component:ds}),Ms({class:"mdc-deprecated-list-item__secondary-text",component:ds}),Ms({class:"mdc-deprecated-list-item__meta",component:ds}),Ms({class:"mdc-deprecated-list-group",component:is}),Ms({class:"mdc-deprecated-list-group__subheader",component:ss});const uu=class extends Dt{constructor(t){super(),Nt(this,t,su,ru,a,{use:2,class:3,style:4,color:5,nonInteractive:6,ripple:7,activated:1,role:8,selected:0,disabled:9,skipRestoreFocus:10,tabindex:28,inputId:29,href:11,component:12,action:13,getPrimaryText:30,getElement:31},null,[-1,-1])}get action(){return this.$$.ctx[13]}get getPrimaryText(){return this.$$.ctx[30]}get getElement(){return this.$$.ctx[31]}};
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var cu={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},lu=function(t){function e(n){var r=t.call(this,_i(_i({},e.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return cu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(t){var n=e.cssClasses.LABEL_SHAKE;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.float=function(t){var n=e.cssClasses,r=n.LABEL_FLOAT_ABOVE,i=n.LABEL_SHAKE;t?this.adapter.addClass(r):(this.adapter.removeClass(r),this.adapter.removeClass(i))},e.prototype.setRequired=function(t){var n=e.cssClasses.LABEL_REQUIRED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleShakeAnimationEnd=function(){var t=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(t)},e}(wi),du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bi(e,t),e.attachTo=function(t){return new e(t)},e.prototype.shake=function(t){this.foundation.shake(t)},e.prototype.float=function(t){this.foundation.float(t)},e.prototype.setRequired=function(t){this.foundation.setRequired(t)},e.prototype.getWidth=function(){return this.foundation.getWidth()},e.prototype.getDefaultFoundation=function(){var t=this;return new lu({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},getWidth:function(){return $i(t.root)},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)}})},e}(Ii),fu={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},hu=function(t){function e(n){var r=t.call(this,_i(_i({},e.defaultAdapter),n))||this;return r.transitionEndHandler=function(t){r.handleTransitionEnd(t)},r}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return fu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},e.prototype.activate=function(){this.adapter.removeClass(fu.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(fu.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(t){this.adapter.setStyle("transform-origin",t+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(fu.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(t){var e=this.adapter.hasClass(fu.LINE_RIPPLE_DEACTIVATING);"opacity"===t.propertyName&&e&&(this.adapter.removeClass(fu.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(fu.LINE_RIPPLE_DEACTIVATING))},e}(wi),pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bi(e,t),e.attachTo=function(t){return new e(t)},e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.setRippleCenter=function(t){this.foundation.setRippleCenter(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new hu({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},setStyle:function(e,n){return t.root.style.setProperty(e,n)},registerEventHandler:function(e,n){return t.listen(e,n)},deregisterEventHandler:function(e,n){return t.unlisten(e,n)}})},e}(Ii),gu={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},mu={NOTCH_ELEMENT_PADDING:8},vu={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},yu=function(t){function e(n){return t.call(this,_i(_i({},e.defaultAdapter),n))||this}return bi(e,t),Object.defineProperty(e,"strings",{get:function(){return gu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return vu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return mu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(t){var n=e.cssClasses.OUTLINE_NOTCHED;t>0&&(t+=mu.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(t),this.adapter.addClass(n)},e.prototype.closeNotch=function(){var t=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(t),this.adapter.removeNotchWidthProperty()},e}(wi),bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bi(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.notchElement=this.root.querySelector(gu.NOTCH_ELEMENT_SELECTOR);var t=this.root.querySelector("."+lu.cssClasses.ROOT);t?(t.style.transitionDuration="0s",this.root.classList.add(vu.OUTLINE_UPGRADED),requestAnimationFrame((function(){t.style.transitionDuration=""}))):this.root.classList.add(vu.NO_LABEL)},e.prototype.notch=function(t){this.foundation.notch(t)},e.prototype.closeNotch=function(){this.foundation.closeNotch()},e.prototype.getDefaultFoundation=function(){var t=this;return new yu({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},setNotchWidthProperty:function(e){t.notchElement.style.setProperty("width",e+"px")},removeNotchWidthProperty:function(){t.notchElement.style.removeProperty("width")}})},e}(Ii),_u={ROOT:"mdc-text-field-character-counter"},Eu={ROOT_SELECTOR:"."+_u.ROOT},Su=function(t){function e(n){return t.call(this,_i(_i({},e.defaultAdapter),n))||this}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return _u},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Eu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.setCounterValue=function(t,e){t=Math.min(t,e),this.adapter.setContent(t+" / "+e)},e}(wi),xu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bi(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new Su({setContent:function(e){t.root.textContent=e}})},e}(Ii),wu={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},Iu={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},Au={LABEL_SCALE:.75},Fu=["pattern","min","max","required","step","minlength","maxlength"],Cu=["color","date","datetime-local","month","range","time","week"],Tu=["mousedown","touchstart"],$u=["click","keydown"],Lu=function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this,_i(_i({},e.defaultAdapter),n))||this;return i.isFocused=!1,i.receivedUserInput=!1,i.valid=!0,i.useNativeValidation=!0,i.validateOnValueChange=!0,i.helperText=r.helperText,i.characterCounter=r.characterCounter,i.leadingIcon=r.leadingIcon,i.trailingIcon=r.trailingIcon,i.inputFocusHandler=function(){i.activateFocus()},i.inputBlurHandler=function(){i.deactivateFocus()},i.inputInputHandler=function(){i.handleInput()},i.setPointerXOffset=function(t){i.setTransformOrigin(t)},i.textFieldInteractionHandler=function(){i.handleTextFieldInteraction()},i.validationAttributeChangeHandler=function(t){i.handleValidationAttributeChange(t)},i}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Iu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return wu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Au},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat",{get:function(){var t=this.getNativeInput().type;return Cu.indexOf(t)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e,n,r;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var i=Ei(Tu),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.registerInputInteractionHandler(s,this.setPointerXOffset)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var a=Ei($u),u=a.next();!u.done;u=a.next()){s=u.value;this.adapter.registerTextFieldInteractionHandler(s,this.textFieldInteractionHandler)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},e.prototype.destroy=function(){var t,e,n,r;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var i=Ei(Tu),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.deregisterInputInteractionHandler(s,this.setPointerXOffset)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var a=Ei($u),u=a.next();!u.done;u=a.next()){s=u.value;this.adapter.deregisterTextFieldInteractionHandler(s,this.textFieldInteractionHandler)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},e.prototype.handleTextFieldInteraction=function(){var t=this.adapter.getNativeInput();t&&t.disabled||(this.receivedUserInput=!0)},e.prototype.handleValidationAttributeChange=function(t){var e=this;t.some((function(t){return Fu.indexOf(t)>-1&&(e.styleValidity(!0),e.adapter.setLabelRequired(e.getNativeInput().required),!0)})),t.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(t){var e=this.adapter.getLabelWidth()*Au.LABEL_SCALE;this.adapter.notchOutline(e)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},e.prototype.setTransformOrigin=function(t){if(!this.isDisabled()&&!this.adapter.hasOutline()){var e=t.touches,n=e?e[0]:t,r=n.target.getBoundingClientRect(),i=n.clientX-r.left;this.adapter.setLineRippleTransformOrigin(i)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var t=this.isValid();this.styleValidity(t),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},e.prototype.getValue=function(){return this.getNativeInput().value},e.prototype.setValue=function(t){if(this.getValue()!==t&&(this.getNativeInput().value=t),this.setcharacterCounter(t.length),this.validateOnValueChange){var e=this.isValid();this.styleValidity(e)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},e.prototype.setValid=function(t){this.valid=t,this.styleValidity(t);var e=!t&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(e)},e.prototype.setValidateOnValueChange=function(t){this.validateOnValueChange=t},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},e.prototype.setUseNativeValidation=function(t){this.useNativeValidation=t},e.prototype.isDisabled=function(){return this.getNativeInput().disabled},e.prototype.setDisabled=function(t){this.getNativeInput().disabled=t,this.styleDisabled(t)},e.prototype.setHelperTextContent=function(t){this.helperText&&this.helperText.setContent(t)},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon&&this.leadingIcon.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon&&this.leadingIcon.setContent(t)},e.prototype.setTrailingIconAriaLabel=function(t){this.trailingIcon&&this.trailingIcon.setAriaLabel(t)},e.prototype.setTrailingIconContent=function(t){this.trailingIcon&&this.trailingIcon.setContent(t)},e.prototype.setcharacterCounter=function(t){if(this.characterCounter){var e=this.getNativeInput().maxLength;if(-1===e)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(t,e)}},e.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},e.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},e.prototype.styleValidity=function(t){var n=e.cssClasses.INVALID;if(t?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText){if(this.helperText.setValidity(t),!this.helperText.isValidation())return;var r=this.helperText.isVisible(),i=this.helperText.getId();r&&i?this.adapter.setInputAttr(wu.ARIA_DESCRIBEDBY,i):this.adapter.removeInputAttr(wu.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused=function(t){var n=e.cssClasses.FOCUSED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.styleDisabled=function(t){var n=e.cssClasses,r=n.DISABLED,i=n.INVALID;t?(this.adapter.addClass(r),this.adapter.removeClass(i)):this.adapter.removeClass(r),this.leadingIcon&&this.leadingIcon.setDisabled(t),this.trailingIcon&&this.trailingIcon.setDisabled(t)},e.prototype.styleFloating=function(t){var n=e.cssClasses.LABEL_FLOATING;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(wi),ku={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},Ru={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+ku.ROOT},Ou=function(t){function e(n){return t.call(this,_i(_i({},e.defaultAdapter),n))||this}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ku},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ru},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.adapter.getAttr("id")},e.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(Ru.ARIA_HIDDEN)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.isPersistent=function(){return this.adapter.hasClass(ku.HELPER_TEXT_PERSISTENT)},e.prototype.setPersistent=function(t){t?this.adapter.addClass(ku.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(ku.HELPER_TEXT_PERSISTENT)},e.prototype.isValidation=function(){return this.adapter.hasClass(ku.HELPER_TEXT_VALIDATION_MSG)},e.prototype.setValidation=function(t){t?this.adapter.addClass(ku.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(ku.HELPER_TEXT_VALIDATION_MSG)},e.prototype.showToScreenReader=function(){this.adapter.removeAttr(Ru.ARIA_HIDDEN)},e.prototype.setValidity=function(t){var e=this.adapter.hasClass(ku.HELPER_TEXT_PERSISTENT),n=this.adapter.hasClass(ku.HELPER_TEXT_VALIDATION_MSG)&&!t;n?(this.showToScreenReader(),"alert"===this.adapter.getAttr(Ru.ROLE)?this.refreshAlertRole():this.adapter.setAttr(Ru.ROLE,"alert")):this.adapter.removeAttr(Ru.ROLE),e||n||this.hide()},e.prototype.hide=function(){this.adapter.setAttr(Ru.ARIA_HIDDEN,"true")},e.prototype.refreshAlertRole=function(){var t=this;this.adapter.removeAttr(Ru.ROLE),requestAnimationFrame((function(){t.adapter.setAttr(Ru.ROLE,"alert")}))},e}(wi),Pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bi(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this,e={addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e}};return new Ou(e)},e}(Ii),Nu={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},Du={ROOT:"mdc-text-field__icon"},Uu=["click","keydown"],Mu=function(t){function e(n){var r=t.call(this,_i(_i({},e.defaultAdapter),n))||this;return r.savedTabIndex=null,r.interactionHandler=function(t){r.handleInteraction(t)},r}return bi(e,t),Object.defineProperty(e,"strings",{get:function(){return Nu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Du},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var n=Ei(Uu),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.registerInteractionHandler(i,this.interactionHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.destroy=function(){var t,e;try{for(var n=Ei(Uu),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterInteractionHandler(i,this.interactionHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.setDisabled=function(t){this.savedTabIndex&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",Nu.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var e="Enter"===t.key||13===t.keyCode;("click"===t.type||e)&&(t.preventDefault(),this.adapter.notifyIconAction())},e}(wi),Bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bi(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this,e={getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)},notifyIconAction:function(){return t.emit(Mu.strings.ICON_EVENT,{},!0)}};return new Mu(e)},e}(Ii);
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */function Hu(t){let e,r,i,a,u,c,l,d;const f=t[22].default,p=h(f,t,t[21],null);let y=[{class:r=ui({[t[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":t[0],"mdc-floating-label--required":t[1],...t[8]})},{style:i=Object.entries(t[9]).map(Ku).concat([t[4]]).join(" ")},{for:a=t[5]||(t[11]?t[11].id:void 0)},t[12]],b={};for(let t=0;t<y.length;t+=1)b=n(b,y[t]);return{c(){e=R("label"),p&&p.c(),H(e,b)},m(n,r){$(n,e,r),p&&p.m(e,null),t[24](e),c=!0,l||(d=[E(u=gi.call(null,e,t[2])),E(t[10].call(null,e))],l=!0)},p(t,n){p&&p.p&&(!c||2097152&n)&&m(p,f,t,t[21],c?g(f,t[21],n,null):v(t[21]),null),H(e,b=$t(y,[(!c||267&n&&r!==(r=ui({[t[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":t[0],"mdc-floating-label--required":t[1],...t[8]})))&&{class:r},(!c||528&n&&i!==(i=Object.entries(t[9]).map(Ku).concat([t[4]]).join(" ")))&&{style:i},(!c||32&n&&a!==(a=t[5]||(t[11]?t[11].id:void 0)))&&{for:a},4096&n&&t[12]])),u&&s(u.update)&&4&n&&u.update.call(null,t[2])},i(t){c||(It(p,t),c=!0)},o(t){At(p,t),c=!1},d(n){n&&L(e),p&&p.d(n),t[24](null),l=!1,o(d)}}}function ju(t){let e,r,i,a,u,c,l;const d=t[22].default,f=h(d,t,t[21],null);let p=[{class:r=ui({[t[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":t[0],"mdc-floating-label--required":t[1],...t[8]})},{style:i=Object.entries(t[9]).map(qu).concat([t[4]]).join(" ")},t[12]],y={};for(let t=0;t<p.length;t+=1)y=n(y,p[t]);return{c(){e=R("span"),f&&f.c(),H(e,y)},m(n,r){$(n,e,r),f&&f.m(e,null),t[23](e),u=!0,c||(l=[E(a=gi.call(null,e,t[2])),E(t[10].call(null,e))],c=!0)},p(t,n){f&&f.p&&(!u||2097152&n)&&m(f,d,t,t[21],u?g(d,t[21],n,null):v(t[21]),null),H(e,y=$t(p,[(!u||267&n&&r!==(r=ui({[t[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":t[0],"mdc-floating-label--required":t[1],...t[8]})))&&{class:r},(!u||528&n&&i!==(i=Object.entries(t[9]).map(qu).concat([t[4]]).join(" ")))&&{style:i},4096&n&&t[12]])),a&&s(a.update)&&4&n&&a.update.call(null,t[2])},i(t){u||(It(f,t),u=!0)},o(t){At(f,t),u=!1},d(n){n&&L(e),f&&f.d(n),t[23](null),c=!1,o(l)}}}function Vu(t){let e,n,r,i;const o=[ju,Hu],s=[];function a(t,e){return t[6]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=D()},m(t,n){s[e].m(t,n),$(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(xt(),At(s[u],1,1,(()=>{s[u]=null})),wt(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),It(n,1),n.m(r.parentNode,r))},i(t){i||(It(n),i=!0)},o(t){At(n),i=!1},d(t){s[e].d(t),t&&L(r)}}}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}bi(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e,n,r,i,o,s){void 0===t&&(t=function(t,e){return new Mi(t,e)}),void 0===e&&(e=function(t){return new pu(t)}),void 0===n&&(n=function(t){return new Pu(t)}),void 0===r&&(r=function(t){return new xu(t)}),void 0===i&&(i=function(t){return new Bu(t)}),void 0===o&&(o=function(t){return new du(t)}),void 0===s&&(s=function(t){return new bu(t)}),this.input=this.root.querySelector(wu.INPUT_SELECTOR);var a=this.root.querySelector(wu.LABEL_SELECTOR);this.label=a?o(a):null;var u=this.root.querySelector(wu.LINE_RIPPLE_SELECTOR);this.lineRipple=u?e(u):null;var c=this.root.querySelector(wu.OUTLINE_SELECTOR);this.outline=c?s(c):null;var l=Ou.strings,d=this.root.nextElementSibling,f=d&&d.classList.contains(Iu.HELPER_LINE),h=f&&d&&d.querySelector(l.ROOT_SELECTOR);this.helperText=h?n(h):null;var p=Su.strings,g=this.root.querySelector(p.ROOT_SELECTOR);!g&&f&&d&&(g=d.querySelector(p.ROOT_SELECTOR)),this.characterCounter=g?r(g):null;var m=this.root.querySelector(wu.LEADING_ICON_SELECTOR);this.leadingIcon=m?i(m):null;var v=this.root.querySelector(wu.TRAILING_ICON_SELECTOR);this.trailingIcon=v?i(v):null,this.prefix=this.root.querySelector(wu.PREFIX_SELECTOR),this.suffix=this.root.querySelector(wu.SUFFIX_SELECTOR),this.ripple=this.createRipple(t)},e.prototype.destroy=function(){this.ripple&&this.ripple.destroy(),this.lineRipple&&this.lineRipple.destroy(),this.helperText&&this.helperText.destroy(),this.characterCounter&&this.characterCounter.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.trailingIcon&&this.trailingIcon.destroy(),this.label&&this.label.destroy(),this.outline&&this.outline.destroy(),t.prototype.destroy.call(this)},e.prototype.initialSyncWithDOM=function(){this.disabled=this.input.disabled},Object.defineProperty(e.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(t){this.foundation.setValue(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.foundation.isDisabled()},set:function(t){this.foundation.setDisabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(t){this.foundation.setValid(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.input.required},set:function(t){this.input.required=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this.input.pattern},set:function(t){this.input.pattern=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minLength",{get:function(){return this.input.minLength},set:function(t){this.input.minLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this.input.maxLength},set:function(t){t<0?this.input.removeAttribute("maxLength"):this.input.maxLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.input.min},set:function(t){this.input.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.input.max},set:function(t){this.input.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.input.step},set:function(t){this.input.step=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helperTextContent",{set:function(t){this.foundation.setHelperTextContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconAriaLabel",{set:function(t){this.foundation.setLeadingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconContent",{set:function(t){this.foundation.setLeadingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconAriaLabel",{set:function(t){this.foundation.setTrailingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconContent",{set:function(t){this.foundation.setTrailingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useNativeValidation",{set:function(t){this.foundation.setUseNativeValidation(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prefixText",{get:function(){return this.prefix?this.prefix.textContent:null},set:function(t){this.prefix&&(this.prefix.textContent=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suffixText",{get:function(){return this.suffix?this.suffix.textContent:null},set:function(t){this.suffix&&(this.suffix.textContent=t)},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this.input.focus()},e.prototype.layout=function(){var t=this.foundation.shouldFloat;this.foundation.notchOutline(t)},e.prototype.getDefaultFoundation=function(){var t=_i(_i(_i(_i(_i({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods());return new Lu(t,this.getFoundationMap())},e.prototype.getRootAdapterMethods=function(){var t=this;return{addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},registerTextFieldInteractionHandler:function(e,n){t.listen(e,n)},deregisterTextFieldInteractionHandler:function(e,n){t.unlisten(e,n)},registerValidationAttributeChangeHandler:function(e){var n=new MutationObserver((function(t){return e(function(t){return t.map((function(t){return t.attributeName})).filter((function(t){return t}))}(t))}));return n.observe(t.input,{attributes:!0}),n},deregisterValidationAttributeChangeHandler:function(t){t.disconnect()}}},e.prototype.getInputAdapterMethods=function(){var t=this;return{getNativeInput:function(){return t.input},setInputAttr:function(e,n){t.input.setAttribute(e,n)},removeInputAttr:function(e){t.input.removeAttribute(e)},isFocused:function(){return document.activeElement===t.input},registerInputInteractionHandler:function(e,n){t.input.addEventListener(e,n,Ai())},deregisterInputInteractionHandler:function(e,n){t.input.removeEventListener(e,n,Ai())}}},e.prototype.getLabelAdapterMethods=function(){var t=this;return{floatLabel:function(e){t.label&&t.label.float(e)},getLabelWidth:function(){return t.label?t.label.getWidth():0},hasLabel:function(){return Boolean(t.label)},shakeLabel:function(e){t.label&&t.label.shake(e)},setLabelRequired:function(e){t.label&&t.label.setRequired(e)}}},e.prototype.getLineRippleAdapterMethods=function(){var t=this;return{activateLineRipple:function(){t.lineRipple&&t.lineRipple.activate()},deactivateLineRipple:function(){t.lineRipple&&t.lineRipple.deactivate()},setLineRippleTransformOrigin:function(e){t.lineRipple&&t.lineRipple.setRippleCenter(e)}}},e.prototype.getOutlineAdapterMethods=function(){var t=this;return{closeOutline:function(){t.outline&&t.outline.closeNotch()},hasOutline:function(){return Boolean(t.outline)},notchOutline:function(e){t.outline&&t.outline.notch(e)}}},e.prototype.getFoundationMap=function(){return{characterCounter:this.characterCounter?this.characterCounter.foundationForTextField:void 0,helperText:this.helperText?this.helperText.foundationForTextField:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForTextField:void 0,trailingIcon:this.trailingIcon?this.trailingIcon.foundationForTextField:void 0}},e.prototype.createRipple=function(t){var e=this,n=this.root.classList.contains(Iu.TEXTAREA),r=this.root.classList.contains(Iu.OUTLINED);if(n||r)return null;var i=_i(_i({},Mi.createAdapter(this)),{isSurfaceActive:function(){return Ti(e.input,":active")},registerInteractionHandler:function(t,n){e.input.addEventListener(t,n,Ai())},deregisterInteractionHandler:function(t,n){e.input.removeEventListener(t,n,Ai())}});return t(this.root,new Ui(i))}}(Ii);const qu=([t,e])=>`${t}: ${e};`,Ku=([t,e])=>`${t}: ${e};`;function Wu(t,e,r){const i=["use","class","style","for","floatAbove","required","wrapped","shake","float","setRequired","getWidth","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e;var u;const c=hi(Z());let l,d,{use:f=[]}=e,{class:h=""}=e,{style:p=""}=e,{for:g}=e,{floatAbove:m=!1}=e,{required:v=!1}=e,{wrapped:_=!1}=e,E={},S={},x=null!==(u=it("SMUI:generic:input:props"))&&void 0!==u?u:{},w=m,I=v;function A(t){E[t]||r(8,E[t]=!0,E)}function F(t){t in E&&!E[t]||r(8,E[t]=!1,E)}function C(t,e){S[t]!=e&&(""===e||null==e?(delete S[t],r(9,S)):r(9,S[t]=e,S))}function T(t){t in S&&(delete S[t],r(9,S))}function $(){return l}return tt((()=>{r(18,d=new lu({addClass:A,removeClass:F,getWidth:()=>{var t,e;const n=$(),r=n.cloneNode(!0);null===(t=n.parentNode)||void 0===t||t.appendChild(r),r.classList.add("smui-floating-label--remove-transition"),r.classList.add("smui-floating-label--force-size"),r.classList.remove("mdc-floating-label--float-above");const i=r.scrollWidth;return null===(e=n.parentNode)||void 0===e||e.removeChild(r),i},registerInteractionHandler:(t,e)=>$().addEventListener(t,e),deregisterInteractionHandler:(t,e)=>$().removeEventListener(t,e)}));const t={get element(){return $()},addStyle:C,removeStyle:T};return ci(l,"SMUIFloatingLabel:mount",t),d.init(),()=>{ci(l,"SMUIFloatingLabel:unmount",t),d.destroy()}})),t.$$set=t=>{e=n(n({},e),y(t)),r(12,o=b(e,i)),"use"in t&&r(2,f=t.use),"class"in t&&r(3,h=t.class),"style"in t&&r(4,p=t.style),"for"in t&&r(5,g=t.for),"floatAbove"in t&&r(0,m=t.floatAbove),"required"in t&&r(1,v=t.required),"wrapped"in t&&r(6,_=t.wrapped),"$$scope"in t&&r(21,a=t.$$scope)},t.$$.update=()=>{786433&t.$$.dirty&&d&&w!==m&&(r(19,w=m),d.float(m)),1310722&t.$$.dirty&&d&&I!==v&&(r(20,I=v),d.setRequired(v))},[m,v,f,h,p,g,_,l,E,S,c,x,o,function(t){d.shake(t)},function(t){r(0,m=t)},function(t){r(1,v=t)},function(){return d.getWidth()},$,d,w,I,a,s,function(t){at[t?"unshift":"push"]((()=>{l=t,r(7,l)}))},function(t){at[t?"unshift":"push"]((()=>{l=t,r(7,l)}))}]}class zu extends Dt{constructor(t){super(),Nt(this,t,Wu,Vu,a,{use:2,class:3,style:4,for:5,floatAbove:0,required:1,wrapped:6,shake:13,float:14,setRequired:15,getWidth:16,getElement:17})}get shake(){return this.$$.ctx[13]}get float(){return this.$$.ctx[14]}get setRequired(){return this.$$.ctx[15]}get getWidth(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}function Ju(e){let r,i,a,u,c,l,d=[{class:i=ui({[e[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":e[3],...e[5]})},{style:a=Object.entries(e[6]).map(Gu).concat([e[2]]).join(" ")},e[8]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){r=R("div"),H(r,f)},m(t,n){$(t,r,n),e[13](r),c||(l=[E(u=gi.call(null,r,e[0])),E(e[7].call(null,r))],c=!0)},p(t,[e]){H(r,f=$t(d,[42&e&&i!==(i=ui({[t[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":t[3],...t[5]}))&&{class:i},68&e&&a!==(a=Object.entries(t[6]).map(Gu).concat([t[2]]).join(" "))&&{style:a},256&e&&t[8]])),u&&s(u.update)&&1&e&&u.update.call(null,t[0])},i:t,o:t,d(t){t&&L(r),e[13](null),c=!1,o(l)}}}const Gu=([t,e])=>`${t}: ${e};`;function Yu(t,e,r){const i=["use","class","style","active","activate","deactivate","setRippleCenter","getElement"];let o=b(e,i);const s=hi(Z());let a,u,{use:c=[]}=e,{class:l=""}=e,{style:d=""}=e,{active:f=!1}=e,h={},p={};function g(t){return t in h?h[t]:E().classList.contains(t)}function m(t){h[t]||r(5,h[t]=!0,h)}function v(t){t in h&&!h[t]||r(5,h[t]=!1,h)}function _(t,e){p[t]!=e&&(""===e||null==e?(delete p[t],r(6,p)):r(6,p[t]=e,p))}function E(){return a}return tt((()=>(u=new hu({addClass:m,removeClass:v,hasClass:g,setStyle:_,registerEventHandler:(t,e)=>E().addEventListener(t,e),deregisterEventHandler:(t,e)=>E().removeEventListener(t,e)}),u.init(),()=>{u.destroy()}))),t.$$set=t=>{e=n(n({},e),y(t)),r(8,o=b(e,i)),"use"in t&&r(0,c=t.use),"class"in t&&r(1,l=t.class),"style"in t&&r(2,d=t.style),"active"in t&&r(3,f=t.active)},[c,l,d,f,a,h,p,s,o,function(){u.activate()},function(){u.deactivate()},function(t){u.setRippleCenter(t)},E,function(t){at[t?"unshift":"push"]((()=>{a=t,r(4,a)}))}]}class Xu extends Dt{constructor(t){super(),Nt(this,t,Yu,Ju,a,{use:0,class:1,style:2,active:3,activate:9,deactivate:10,setRippleCenter:11,getElement:12})}get activate(){return this.$$.ctx[9]}get deactivate(){return this.$$.ctx[10]}get setRippleCenter(){return this.$$.ctx[11]}get getElement(){return this.$$.ctx[12]}}function Qu(t){let e,n,r;const i=t[14].default,o=h(i,t,t[13],null);return{c(){e=R("div"),o&&o.c(),B(e,"class","mdc-notched-outline__notch"),B(e,"style",n=Object.entries(t[7]).map(tc).join(" "))},m(t,n){$(t,e,n),o&&o.m(e,null),r=!0},p(t,s){o&&o.p&&(!r||8192&s)&&m(o,i,t,t[13],r?g(i,t[13],s,null):v(t[13]),null),(!r||128&s&&n!==(n=Object.entries(t[7]).map(tc).join(" ")))&&B(e,"style",n)},i(t){r||(It(o,t),r=!0)},o(t){At(o,t),r=!1},d(t){t&&L(e),o&&o.d(t)}}}function Zu(t){let e,r,i,a,u,c,l,d,f,h,p=!t[3]&&Qu(t),g=[{class:c=ui({[t[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":t[2],"mdc-notched-outline--no-label":t[3],...t[6]})},t[9]],m={};for(let t=0;t<g.length;t+=1)m=n(m,g[t]);return{c(){e=R("div"),r=R("div"),i=N(),p&&p.c(),a=N(),u=R("div"),B(r,"class","mdc-notched-outline__leading"),B(u,"class","mdc-notched-outline__trailing"),H(e,m)},m(n,o){$(n,e,o),F(e,r),F(e,i),p&&p.m(e,null),F(e,a),F(e,u),t[15](e),d=!0,f||(h=[E(l=gi.call(null,e,t[0])),E(t[8].call(null,e)),U(e,"SMUIFloatingLabel:mount",t[16]),U(e,"SMUIFloatingLabel:unmount",t[17])],f=!0)},p(t,[n]){t[3]?p&&(xt(),At(p,1,1,(()=>{p=null})),wt()):p?(p.p(t,n),8&n&&It(p,1)):(p=Qu(t),p.c(),It(p,1),p.m(e,a)),H(e,m=$t(g,[(!d||78&n&&c!==(c=ui({[t[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":t[2],"mdc-notched-outline--no-label":t[3],...t[6]})))&&{class:c},512&n&&t[9]])),l&&s(l.update)&&1&n&&l.update.call(null,t[0])},i(t){d||(It(p),d=!0)},o(t){At(p),d=!1},d(n){n&&L(e),p&&p.d(),t[15](null),f=!1,o(h)}}}const tc=([t,e])=>`${t}: ${e};`;function ec(t,e,r){const i=["use","class","notched","noLabel","notch","closeNotch","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e;const u=hi(Z());let c,l,d,{use:f=[]}=e,{class:h=""}=e,{notched:p=!1}=e,{noLabel:g=!1}=e,m={},v={};function _(t){m[t]||r(6,m[t]=!0,m)}function E(t){t in m&&!m[t]||r(6,m[t]=!1,m)}tt((()=>(l=new yu({addClass:_,removeClass:E,setNotchWidthProperty:t=>{return n=t+"px",void(v[e="width"]!=n&&(""===n||null==n?(delete v[e],r(7,v)):r(7,v[e]=n,v)));var e,n},removeNotchWidthProperty:()=>{var t;(t="width")in v&&(delete v[t],r(7,v))}}),l.init(),()=>{l.destroy()})));return t.$$set=t=>{e=n(n({},e),y(t)),r(9,o=b(e,i)),"use"in t&&r(0,f=t.use),"class"in t&&r(1,h=t.class),"notched"in t&&r(2,p=t.notched),"noLabel"in t&&r(3,g=t.noLabel),"$$scope"in t&&r(13,a=t.$$scope)},t.$$.update=()=>{16&t.$$.dirty&&(d?(d.addStyle("transition-duration","0s"),_("mdc-notched-outline--upgraded"),requestAnimationFrame((()=>{d&&d.removeStyle("transition-duration")}))):E("mdc-notched-outline--upgraded"))},[f,h,p,g,d,c,m,v,u,o,function(t){l.notch(t)},function(){l.closeNotch()},function(){return c},a,s,function(t){at[t?"unshift":"push"]((()=>{c=t,r(5,c)}))},t=>r(4,d=t.detail),()=>r(4,d=void 0)]}class nc extends Dt{constructor(t){super(),Nt(this,t,ec,Zu,a,{use:0,class:1,notched:2,noLabel:3,notch:10,closeNotch:11,getElement:12})}get notch(){return this.$$.ctx[10]}get closeNotch(){return this.$$.ctx[11]}get getElement(){return this.$$.ctx[12]}}var rc=Ms({class:"mdc-text-field-helper-line",component:is}),ic=Ms({class:"mdc-text-field__affix mdc-text-field__affix--prefix",component:ds}),oc=Ms({class:"mdc-text-field__affix mdc-text-field__affix--suffix",component:ds});function sc(e){let r,i,a,u,c,l=[{class:i=ui({[e[1]]:!0,"mdc-text-field__input":!0})},{type:e[2]},{placeholder:e[3]},e[4],e[6],e[10]],d={};for(let t=0;t<l.length;t+=1)d=n(d,l[t]);return{c(){r=R("input"),H(r,d)},m(t,n){$(t,r,n),r.autofocus&&r.focus(),e[26](r),u||(c=[E(a=gi.call(null,r,e[0])),E(e[7].call(null,r)),U(r,"input",e[27]),U(r,"change",e[9]),U(r,"blur",e[24]),U(r,"focus",e[25])],u=!0)},p(t,[e]){H(r,d=$t(l,[2&e&&i!==(i=ui({[t[1]]:!0,"mdc-text-field__input":!0}))&&{class:i},4&e&&{type:t[2]},8&e&&{placeholder:t[3]},16&e&&t[4],64&e&&t[6],1024&e&&t[10]])),a&&s(a.update)&&1&e&&a.update.call(null,t[0])},i:t,o:t,d(t){t&&L(r),e[26](null),u=!1,o(c)}}}function ac(t,e,r){const i=["use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","emptyValueNull","emptyValueUndefined","getAttr","addAttr","removeAttr","focus","blur","getElement"];let o=b(e,i);const s=hi(Z());let a=()=>{};let{use:u=[]}=e,{class:c=""}=e,{type:l="text"}=e,{placeholder:d=" "}=e,{value:f=a}=e;const h=function(t){return t===a}(f);h&&(f="");let{files:p=null}=e,{dirty:g=!1}=e,{invalid:m=!1}=e,{updateInvalid:v=!0}=e,{emptyValueNull:_=null===f}=e;h&&_&&(f=null);let E,{emptyValueUndefined:S=void 0===f}=e;h&&S&&(f=void 0);let x={},w={};function I(t){if("file"!==l)if(""===t.currentTarget.value&&_)r(11,f=null);else if(""===t.currentTarget.value&&S)r(11,f=void 0);else switch(l){case"number":case"range":r(11,f=function(t){if(""===t){const t=new Number(Number.NaN);return t.length=0,t}return+t}(t.currentTarget.value));break;default:r(11,f=t.currentTarget.value)}else r(12,p=t.currentTarget.files)}function A(){return E}tt((()=>{v&&r(14,m=E.matches(":invalid"))}));return t.$$set=t=>{e=n(n({},e),y(t)),r(10,o=b(e,i)),"use"in t&&r(0,u=t.use),"class"in t&&r(1,c=t.class),"type"in t&&r(2,l=t.type),"placeholder"in t&&r(3,d=t.placeholder),"value"in t&&r(11,f=t.value),"files"in t&&r(12,p=t.files),"dirty"in t&&r(13,g=t.dirty),"invalid"in t&&r(14,m=t.invalid),"updateInvalid"in t&&r(15,v=t.updateInvalid),"emptyValueNull"in t&&r(16,_=t.emptyValueNull),"emptyValueUndefined"in t&&r(17,S=t.emptyValueUndefined)},t.$$.update=()=>{2068&t.$$.dirty&&("file"===l?(delete w.value,r(4,w),r(2,l),r(11,f)):r(4,w.value=null==f?"":f,w))},[u,c,l,d,w,E,x,s,I,function(t){"file"!==l&&"range"!==l||I(t),r(13,g=!0),v&&r(14,m=E.matches(":invalid"))},o,f,p,g,m,v,_,S,function(t){var e;return t in x?null!==(e=x[t])&&void 0!==e?e:null:A().getAttribute(t)},function(t,e){x[t]!==e&&r(6,x[t]=e,x)},function(t){t in x&&null==x[t]||r(6,x[t]=void 0,x)},function(){A().focus()},function(){A().blur()},A,function(e){ot.call(this,t,e)},function(e){ot.call(this,t,e)},function(t){at[t?"unshift":"push"]((()=>{E=t,r(5,E)}))},t=>"file"!==l&&I(t)]}class uc extends Dt{constructor(t){super(),Nt(this,t,ac,sc,a,{use:0,class:1,type:2,placeholder:3,value:11,files:12,dirty:13,invalid:14,updateInvalid:15,emptyValueNull:16,emptyValueUndefined:17,getAttr:18,addAttr:19,removeAttr:20,focus:21,blur:22,getElement:23})}get getAttr(){return this.$$.ctx[18]}get addAttr(){return this.$$.ctx[19]}get removeAttr(){return this.$$.ctx[20]}get focus(){return this.$$.ctx[21]}get blur(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}function cc(e){let r,i,a,u,c,l,d=[{class:i=ui({[e[2]]:!0,"mdc-text-field__input":!0})},{style:a=`${e[4]?"":"resize: none; "}${e[3]}`},e[6],e[9]],f={};for(let t=0;t<d.length;t+=1)f=n(f,d[t]);return{c(){r=R("textarea"),H(r,f)},m(t,n){$(t,r,n),r.autofocus&&r.focus(),e[21](r),q(r,e[0]),c||(l=[E(u=gi.call(null,r,e[1])),E(e[7].call(null,r)),U(r,"change",e[8]),U(r,"blur",e[19]),U(r,"focus",e[20]),U(r,"input",e[22])],c=!0)},p(t,[e]){H(r,f=$t(d,[4&e&&i!==(i=ui({[t[2]]:!0,"mdc-text-field__input":!0}))&&{class:i},24&e&&a!==(a=`${t[4]?"":"resize: none; "}${t[3]}`)&&{style:a},64&e&&t[6],512&e&&t[9]])),u&&s(u.update)&&2&e&&u.update.call(null,t[1]),1&e&&q(r,t[0])},i:t,o:t,d(t){t&&L(r),e[21](null),c=!1,o(l)}}}function lc(t,e,r){const i=["use","class","style","value","dirty","invalid","updateInvalid","resizable","getAttr","addAttr","removeAttr","focus","blur","getElement"];let o=b(e,i);const s=hi(Z());let a,{use:u=[]}=e,{class:c=""}=e,{style:l=""}=e,{value:d=""}=e,{dirty:f=!1}=e,{invalid:h=!1}=e,{updateInvalid:p=!0}=e,{resizable:g=!0}=e,m={};function v(){return a}return tt((()=>{p&&r(11,h=a.matches(":invalid"))})),t.$$set=t=>{e=n(n({},e),y(t)),r(9,o=b(e,i)),"use"in t&&r(1,u=t.use),"class"in t&&r(2,c=t.class),"style"in t&&r(3,l=t.style),"value"in t&&r(0,d=t.value),"dirty"in t&&r(10,f=t.dirty),"invalid"in t&&r(11,h=t.invalid),"updateInvalid"in t&&r(12,p=t.updateInvalid),"resizable"in t&&r(4,g=t.resizable)},[d,u,c,l,g,a,m,s,function(){r(10,f=!0),p&&r(11,h=a.matches(":invalid"))},o,f,h,p,function(t){var e;return t in m?null!==(e=m[t])&&void 0!==e?e:null:v().getAttribute(t)},function(t,e){m[t]!==e&&r(6,m[t]=e,m)},function(t){t in m&&null==m[t]||r(6,m[t]=void 0,m)},function(){v().focus()},function(){v().blur()},v,function(e){ot.call(this,t,e)},function(e){ot.call(this,t,e)},function(t){at[t?"unshift":"push"]((()=>{a=t,r(5,a)}))},function(){d=this.value,r(0,d)}]}class dc extends Dt{constructor(t){super(),Nt(this,t,lc,cc,a,{use:1,class:2,style:3,value:0,dirty:10,invalid:11,updateInvalid:12,resizable:4,getAttr:13,addAttr:14,removeAttr:15,focus:16,blur:17,getElement:18})}get getAttr(){return this.$$.ctx[13]}get addAttr(){return this.$$.ctx[14]}get removeAttr(){return this.$$.ctx[15]}get focus(){return this.$$.ctx[16]}get blur(){return this.$$.ctx[17]}get getElement(){return this.$$.ctx[18]}}const fc=t=>({}),hc=t=>({}),pc=t=>({}),gc=t=>({}),mc=t=>({}),vc=t=>({}),yc=t=>({}),bc=t=>({}),_c=t=>({}),Ec=t=>({}),Sc=t=>({}),xc=t=>({}),wc=t=>({}),Ic=t=>({}),Ac=t=>({}),Fc=t=>({}),Cc=t=>({}),Tc=t=>({}),$c=t=>({}),Lc=t=>({}),kc=t=>({}),Rc=t=>({}),Oc=t=>({}),Pc=t=>({});function Nc(t){let e,r,i,a,u,c,l,d,f,p,y,b,_,S;const x=t[51].label,w=h(x,t,t[90],Ec);i=new Fs({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[Uc]},$$scope:{ctx:t}}});const I=t[51].default,A=h(I,t,t[90],null);c=new Fs({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[Mc]},$$scope:{ctx:t}}});const C=t[51].ripple,T=h(C,t,t[90],gc);let k=[{class:d=ui({[t[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":t[12],"mdc-text-field--textarea":t[14],"mdc-text-field--filled":"filled"===t[15],"mdc-text-field--outlined":"outlined"===t[15],"smui-text-field--standard":"standard"===t[15]&&!t[14],"mdc-text-field--no-label":t[16]||!t[42].label,"mdc-text-field--with-leading-icon":t[42].leadingIcon,"mdc-text-field--with-trailing-icon":t[42].trailingIcon,"mdc-text-field--invalid":t[1],...t[25]})},{style:f=Object.entries(t[26]).map(al).concat([t[10]]).join(" ")},li(t[41],["input$","label$","ripple$","outline$","helperLine$"])],O={};for(let t=0;t<k.length;t+=1)O=n(O,k[t]);return{c(){e=R("div"),w&&w.c(),r=N(),Rt(i.$$.fragment),a=N(),A&&A.c(),u=N(),Rt(c.$$.fragment),l=N(),T&&T.c(),H(e,O)},m(n,o){$(n,e,o),w&&w.m(e,null),F(e,r),Ot(i,e,null),F(e,a),A&&A.m(e,null),F(e,u),Ot(c,e,null),F(e,l),T&&T.m(e,null),t[80](e),b=!0,_||(S=[E(p=Io.call(null,e,{ripple:t[11],unbounded:!1,addClass:t[38],removeClass:t[39],addStyle:t[40]})),E(y=gi.call(null,e,t[8])),E(t[34].call(null,e)),U(e,"SMUITextfieldLeadingIcon:mount",t[81]),U(e,"SMUITextfieldLeadingIcon:unmount",t[82]),U(e,"SMUITextfieldTrailingIcon:mount",t[83]),U(e,"SMUITextfieldTrailingIcon:unmount",t[84])],_=!0)},p(t,n){w&&w.p&&(!b||268435456&n[2])&&m(w,x,t,t[90],b?g(x,t[90],n,_c):v(t[90]),Ec);const r={};268435456&n[2]&&(r.$$scope={dirty:n,ctx:t}),i.$set(r),A&&A.p&&(!b||268435456&n[2])&&m(A,I,t,t[90],b?g(I,t[90],n,null):v(t[90]),null);const o={};268435456&n[2]&&(o.$$scope={dirty:n,ctx:t}),c.$set(o),T&&T.p&&(!b||268435456&n[2])&&m(T,C,t,t[90],b?g(C,t[90],n,pc):v(t[90]),gc),H(e,O=$t(k,[(!b||33673730&n[0]|2048&n[1]&&d!==(d=ui({[t[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":t[12],"mdc-text-field--textarea":t[14],"mdc-text-field--filled":"filled"===t[15],"mdc-text-field--outlined":"outlined"===t[15],"smui-text-field--standard":"standard"===t[15]&&!t[14],"mdc-text-field--no-label":t[16]||!t[42].label,"mdc-text-field--with-leading-icon":t[42].leadingIcon,"mdc-text-field--with-trailing-icon":t[42].trailingIcon,"mdc-text-field--invalid":t[1],...t[25]})))&&{class:d},(!b||67109888&n[0]&&f!==(f=Object.entries(t[26]).map(al).concat([t[10]]).join(" ")))&&{style:f},1024&n[1]&&li(t[41],["input$","label$","ripple$","outline$","helperLine$"])])),p&&s(p.update)&&2048&n[0]&&p.update.call(null,{ripple:t[11],unbounded:!1,addClass:t[38],removeClass:t[39],addStyle:t[40]}),y&&s(y.update)&&256&n[0]&&y.update.call(null,t[8])},i(t){b||(It(w,t),It(i.$$.fragment,t),It(A,t),It(c.$$.fragment,t),It(T,t),b=!0)},o(t){At(w,t),At(i.$$.fragment,t),At(A,t),At(c.$$.fragment,t),At(T,t),b=!1},d(n){n&&L(e),w&&w.d(n),Pt(i),A&&A.d(n),Pt(c),T&&T.d(n),t[80](null),_=!1,o(S)}}}function Dc(t){let e,r,i,a,u,c,l,d,f,p,y,b,_,S,x,w,I,A,C=!t[14]&&"outlined"!==t[15]&&Bc(t),T=(t[14]||"outlined"===t[15])&&qc(t);a=new Fs({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[Jc]},$$scope:{ctx:t}}});const k=t[51].default,O=h(k,t,t[90],null),P=[Yc,Gc],D=[];function M(t,e){return t[14]&&"string"==typeof t[0]?0:1}l=M(t),d=D[l]=P[l](t),p=new Fs({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[el]},$$scope:{ctx:t}}});let B=!t[14]&&"outlined"!==t[15]&&t[11]&&nl(t),j=[{class:b=ui({[t[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":t[12],"mdc-text-field--textarea":t[14],"mdc-text-field--filled":"filled"===t[15],"mdc-text-field--outlined":"outlined"===t[15],"smui-text-field--standard":"standard"===t[15]&&!t[14],"mdc-text-field--no-label":t[16]||null==t[17]&&!t[42].label,"mdc-text-field--label-floating":t[28]||null!=t[0]&&""!==t[0],"mdc-text-field--with-leading-icon":t[35](t[22])?t[42].leadingIcon:t[22],"mdc-text-field--with-trailing-icon":t[35](t[23])?t[42].trailingIcon:t[23],"mdc-text-field--with-internal-counter":t[14]&&t[42].internalCounter,"mdc-text-field--invalid":t[1],...t[25]})},{style:_=Object.entries(t[26]).map(sl).concat([t[10]]).join(" ")},{for:void 0},li(t[41],["input$","label$","ripple$","outline$","helperLine$"])],V={};for(let t=0;t<j.length;t+=1)V=n(V,j[t]);return{c(){e=R("label"),C&&C.c(),r=N(),T&&T.c(),i=N(),Rt(a.$$.fragment),u=N(),O&&O.c(),c=N(),d.c(),f=N(),Rt(p.$$.fragment),y=N(),B&&B.c(),H(e,V)},m(n,o){$(n,e,o),C&&C.m(e,null),F(e,r),T&&T.m(e,null),F(e,i),Ot(a,e,null),F(e,u),O&&O.m(e,null),F(e,c),D[l].m(e,null),F(e,f),Ot(p,e,null),F(e,y),B&&B.m(e,null),t[73](e),w=!0,I||(A=[E(S=Io.call(null,e,{ripple:!t[14]&&"filled"===t[15],unbounded:!1,addClass:t[38],removeClass:t[39],addStyle:t[40],eventTarget:t[33],activeTarget:t[33],initPromise:t[37]})),E(x=gi.call(null,e,t[8])),E(t[34].call(null,e)),U(e,"SMUITextfieldLeadingIcon:mount",t[74]),U(e,"SMUITextfieldLeadingIcon:unmount",t[75]),U(e,"SMUITextfieldTrailingIcon:mount",t[76]),U(e,"SMUITextfieldTrailingIcon:unmount",t[77]),U(e,"SMUITextfieldCharacterCounter:mount",t[78]),U(e,"SMUITextfieldCharacterCounter:unmount",t[79])],I=!0)},p(t,n){t[14]||"outlined"===t[15]?C&&(xt(),At(C,1,1,(()=>{C=null})),wt()):C?(C.p(t,n),49152&n[0]&&It(C,1)):(C=Bc(t),C.c(),It(C,1),C.m(e,r)),t[14]||"outlined"===t[15]?T?(T.p(t,n),49152&n[0]&&It(T,1)):(T=qc(t),T.c(),It(T,1),T.m(e,i)):T&&(xt(),At(T,1,1,(()=>{T=null})),wt());const o={};268435456&n[2]&&(o.$$scope={dirty:n,ctx:t}),a.$set(o),O&&O.p&&(!w||268435456&n[2])&&m(O,k,t,t[90],w?g(k,t[90],n,null):v(t[90]),null);let u=l;l=M(t),l===u?D[l].p(t,n):(xt(),At(D[u],1,1,(()=>{D[u]=null})),wt(),d=D[l],d?d.p(t,n):(d=D[l]=P[l](t),d.c()),It(d,1),d.m(e,f));const c={};268435456&n[2]&&(c.$$scope={dirty:n,ctx:t}),p.$set(c),!t[14]&&"outlined"!==t[15]&&t[11]?B?(B.p(t,n),51200&n[0]&&It(B,1)):(B=nl(t),B.c(),It(B,1),B.m(e,null)):B&&(xt(),At(B,1,1,(()=>{B=null})),wt()),H(e,V=$t(j,[(!w||314823171&n[0]|2048&n[1]&&b!==(b=ui({[t[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":t[12],"mdc-text-field--textarea":t[14],"mdc-text-field--filled":"filled"===t[15],"mdc-text-field--outlined":"outlined"===t[15],"smui-text-field--standard":"standard"===t[15]&&!t[14],"mdc-text-field--no-label":t[16]||null==t[17]&&!t[42].label,"mdc-text-field--label-floating":t[28]||null!=t[0]&&""!==t[0],"mdc-text-field--with-leading-icon":t[35](t[22])?t[42].leadingIcon:t[22],"mdc-text-field--with-trailing-icon":t[35](t[23])?t[42].trailingIcon:t[23],"mdc-text-field--with-internal-counter":t[14]&&t[42].internalCounter,"mdc-text-field--invalid":t[1],...t[25]})))&&{class:b},(!w||67109888&n[0]&&_!==(_=Object.entries(t[26]).map(sl).concat([t[10]]).join(" ")))&&{style:_},{for:void 0},1024&n[1]&&li(t[41],["input$","label$","ripple$","outline$","helperLine$"])])),S&&s(S.update)&&49152&n[0]|4&n[1]&&S.update.call(null,{ripple:!t[14]&&"filled"===t[15],unbounded:!1,addClass:t[38],removeClass:t[39],addStyle:t[40],eventTarget:t[33],activeTarget:t[33],initPromise:t[37]}),x&&s(x.update)&&256&n[0]&&x.update.call(null,t[8])},i(t){w||(It(C),It(T),It(a.$$.fragment,t),It(O,t),It(d),It(p.$$.fragment,t),It(B),w=!0)},o(t){At(C),At(T),At(a.$$.fragment,t),At(O,t),At(d),At(p.$$.fragment,t),At(B),w=!1},d(n){n&&L(e),C&&C.d(),T&&T.d(),Pt(a),O&&O.d(n),D[l].d(),Pt(p),B&&B.d(),t[73](null),I=!1,o(A)}}}function Uc(t){let e;const n=t[51].leadingIcon,r=h(n,t,t[90],bc);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||268435456&i[2])&&m(r,n,t,t[90],e?g(n,t[90],i,yc):v(t[90]),bc)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function Mc(t){let e;const n=t[51].trailingIcon,r=h(n,t,t[90],vc);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||268435456&i[2])&&m(r,n,t,t[90],e?g(n,t[90],i,mc):v(t[90]),vc)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function Bc(t){let e,n,r,i="filled"===t[15]&&Hc(),o=!t[16]&&(null!=t[17]||t[42].label)&&jc(t);return{c(){i&&i.c(),e=N(),o&&o.c(),n=D()},m(t,s){i&&i.m(t,s),$(t,e,s),o&&o.m(t,s),$(t,n,s),r=!0},p(t,r){"filled"===t[15]?i||(i=Hc(),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),t[16]||null==t[17]&&!t[42].label?o&&(xt(),At(o,1,1,(()=>{o=null})),wt()):o?(o.p(t,r),196608&r[0]|2048&r[1]&&It(o,1)):(o=jc(t),o.c(),It(o,1),o.m(n.parentNode,n))},i(t){r||(It(o),r=!0)},o(t){At(o),r=!1},d(t){i&&i.d(t),t&&L(e),o&&o.d(t),t&&L(n)}}}function Hc(t){let e;return{c(){e=R("span"),B(e,"class","mdc-text-field__ripple")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function jc(t){let e,r;const i=[{floatAbove:t[28]||null!=t[0]&&""!==t[0]},{required:t[13]},{wrapped:!0},pi(t[41],"label$")];let o={$$slots:{default:[Vc]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new zu({props:o}),t[52](e),{c(){Rt(e.$$.fragment)},m(t,n){Ot(e,t,n),r=!0},p(t,n){const r=268443649&n[0]|1024&n[1]?$t(i,[268435457&n[0]&&{floatAbove:t[28]||null!=t[0]&&""!==t[0]},8192&n[0]&&{required:t[13]},i[2],1024&n[1]&&Lt(pi(t[41],"label$"))]):{};131072&n[0]|268435456&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(It(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(n){t[52](null),Pt(e,n)}}}function Vc(t){let e,n,r=(null==t[17]?"":t[17])+"";const i=t[51].label,o=h(i,t,t[90],Pc);return{c(){e=P(r),o&&o.c()},m(t,r){$(t,e,r),o&&o.m(t,r),n=!0},p(t,s){(!n||131072&s[0])&&r!==(r=(null==t[17]?"":t[17])+"")&&V(e,r),o&&o.p&&(!n||268435456&s[2])&&m(o,i,t,t[90],n?g(i,t[90],s,Oc):v(t[90]),Pc)},i(t){n||(It(o,t),n=!0)},o(t){At(o,t),n=!1},d(t){t&&L(e),o&&o.d(t)}}}function qc(t){let e,r;const i=[{noLabel:t[16]||null==t[17]&&!t[42].label},pi(t[41],"outline$")];let o={$$slots:{default:[zc]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new nc({props:o}),t[54](e),{c(){Rt(e.$$.fragment)},m(t,n){Ot(e,t,n),r=!0},p(t,n){const r=196608&n[0]|3072&n[1]?$t(i,[196608&n[0]|2048&n[1]&&{noLabel:t[16]||null==t[17]&&!t[42].label},1024&n[1]&&Lt(pi(t[41],"outline$"))]):{};268640289&n[0]|3072&n[1]|268435456&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(It(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(n){t[54](null),Pt(e,n)}}}function Kc(t){let e,r;const i=[{floatAbove:t[28]||null!=t[0]&&""!==t[0]},{required:t[13]},{wrapped:!0},pi(t[41],"label$")];let o={$$slots:{default:[Wc]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new zu({props:o}),t[53](e),{c(){Rt(e.$$.fragment)},m(t,n){Ot(e,t,n),r=!0},p(t,n){const r=268443649&n[0]|1024&n[1]?$t(i,[268435457&n[0]&&{floatAbove:t[28]||null!=t[0]&&""!==t[0]},8192&n[0]&&{required:t[13]},i[2],1024&n[1]&&Lt(pi(t[41],"label$"))]):{};131072&n[0]|268435456&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(It(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(n){t[53](null),Pt(e,n)}}}function Wc(t){let e,n,r=(null==t[17]?"":t[17])+"";const i=t[51].label,o=h(i,t,t[90],Rc);return{c(){e=P(r),o&&o.c()},m(t,r){$(t,e,r),o&&o.m(t,r),n=!0},p(t,s){(!n||131072&s[0])&&r!==(r=(null==t[17]?"":t[17])+"")&&V(e,r),o&&o.p&&(!n||268435456&s[2])&&m(o,i,t,t[90],n?g(i,t[90],s,kc):v(t[90]),Rc)},i(t){n||(It(o,t),n=!0)},o(t){At(o,t),n=!1},d(t){t&&L(e),o&&o.d(t)}}}function zc(t){let e,n,r=!t[16]&&(null!=t[17]||t[42].label)&&Kc(t);return{c(){r&&r.c(),e=D()},m(t,i){r&&r.m(t,i),$(t,e,i),n=!0},p(t,n){t[16]||null==t[17]&&!t[42].label?r&&(xt(),At(r,1,1,(()=>{r=null})),wt()):r?(r.p(t,n),196608&n[0]|2048&n[1]&&It(r,1)):(r=Kc(t),r.c(),It(r,1),r.m(e.parentNode,e))},i(t){n||(It(r),n=!0)},o(t){At(r),n=!1},d(t){r&&r.d(t),t&&L(e)}}}function Jc(t){let e;const n=t[51].leadingIcon,r=h(n,t,t[90],Lc);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||268435456&i[2])&&m(r,n,t,t[90],e?g(n,t[90],i,$c):v(t[90]),Lc)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function Gc(t){let e,r,i,o,s,a,u,c,l,d;const f=t[51].prefix,p=h(f,t,t[90],Fc);let y=null!=t[20]&&Xc(t);const b=[{type:t[18]},{disabled:t[12]},{required:t[13]},{updateInvalid:t[19]},{"aria-controls":t[27]},{"aria-describedby":t[27]},t[16]&&null!=t[17]?{placeholder:t[17]}:{},pi(t[41],"input$")];function _(e){t[64](e)}function E(e){t[65](e)}function S(e){t[66](e)}function x(e){t[67](e)}let w={};for(let t=0;t<b.length;t+=1)w=n(w,b[t]);void 0!==t[0]&&(w.value=t[0]),void 0!==t[3]&&(w.files=t[3]),void 0!==t[4]&&(w.dirty=t[4]),void 0!==t[1]&&(w.invalid=t[1]),i=new uc({props:w}),t[63](i),at.push((()=>kt(i,"value",_))),at.push((()=>kt(i,"files",E))),at.push((()=>kt(i,"dirty",S))),at.push((()=>kt(i,"invalid",x))),i.$on("blur",t[68]),i.$on("focus",t[69]),i.$on("blur",t[70]),i.$on("focus",t[71]);let I=null!=t[21]&&Zc(t);const A=t[51].suffix,F=h(A,t,t[90],Ic);return{c(){p&&p.c(),e=N(),y&&y.c(),r=N(),Rt(i.$$.fragment),c=N(),I&&I.c(),l=N(),F&&F.c()},m(t,n){p&&p.m(t,n),$(t,e,n),y&&y.m(t,n),$(t,r,n),Ot(i,t,n),$(t,c,n),I&&I.m(t,n),$(t,l,n),F&&F.m(t,n),d=!0},p(t,e){p&&p.p&&(!d||268435456&e[2])&&m(p,f,t,t[90],d?g(f,t[90],e,Ac):v(t[90]),Fc),null!=t[20]?y?(y.p(t,e),1048576&e[0]&&It(y,1)):(y=Xc(t),y.c(),It(y,1),y.m(r.parentNode,r)):y&&(xt(),At(y,1,1,(()=>{y=null})),wt());const n=135213056&e[0]|1024&e[1]?$t(b,[262144&e[0]&&{type:t[18]},4096&e[0]&&{disabled:t[12]},8192&e[0]&&{required:t[13]},524288&e[0]&&{updateInvalid:t[19]},134217728&e[0]&&{"aria-controls":t[27]},134217728&e[0]&&{"aria-describedby":t[27]},196608&e[0]&&Lt(t[16]&&null!=t[17]?{placeholder:t[17]}:{}),1024&e[1]&&Lt(pi(t[41],"input$"))]):{};!o&&1&e[0]&&(o=!0,n.value=t[0],pt((()=>o=!1))),!s&&8&e[0]&&(s=!0,n.files=t[3],pt((()=>s=!1))),!a&&16&e[0]&&(a=!0,n.dirty=t[4],pt((()=>a=!1))),!u&&2&e[0]&&(u=!0,n.invalid=t[1],pt((()=>u=!1))),i.$set(n),null!=t[21]?I?(I.p(t,e),2097152&e[0]&&It(I,1)):(I=Zc(t),I.c(),It(I,1),I.m(l.parentNode,l)):I&&(xt(),At(I,1,1,(()=>{I=null})),wt()),F&&F.p&&(!d||268435456&e[2])&&m(F,A,t,t[90],d?g(A,t[90],e,wc):v(t[90]),Ic)},i(t){d||(It(p,t),It(y),It(i.$$.fragment,t),It(I),It(F,t),d=!0)},o(t){At(p,t),At(y),At(i.$$.fragment,t),At(I),At(F,t),d=!1},d(n){p&&p.d(n),n&&L(e),y&&y.d(n),n&&L(r),t[63](null),Pt(i,n),n&&L(c),I&&I.d(n),n&&L(l),F&&F.d(n)}}}function Yc(t){let e,r,i,o,s,a,u,c;const l=[{disabled:t[12]},{required:t[13]},{updateInvalid:t[19]},{"aria-controls":t[27]},{"aria-describedby":t[27]},pi(t[41],"input$")];function d(e){t[56](e)}function f(e){t[57](e)}function p(e){t[58](e)}let y={};for(let t=0;t<l.length;t+=1)y=n(y,l[t]);void 0!==t[0]&&(y.value=t[0]),void 0!==t[4]&&(y.dirty=t[4]),void 0!==t[1]&&(y.invalid=t[1]),r=new dc({props:y}),t[55](r),at.push((()=>kt(r,"value",d))),at.push((()=>kt(r,"dirty",f))),at.push((()=>kt(r,"invalid",p))),r.$on("blur",t[59]),r.$on("focus",t[60]),r.$on("blur",t[61]),r.$on("focus",t[62]);const b=t[51].internalCounter,_=h(b,t,t[90],Tc);return{c(){e=R("span"),Rt(r.$$.fragment),a=N(),_&&_.c(),B(e,"class",u=ui({"mdc-text-field__resizer":!("input$resizable"in t[41])||t[41].input$resizable}))},m(t,n){$(t,e,n),Ot(r,e,null),F(e,a),_&&_.m(e,null),c=!0},p(t,n){const a=134754304&n[0]|1024&n[1]?$t(l,[4096&n[0]&&{disabled:t[12]},8192&n[0]&&{required:t[13]},524288&n[0]&&{updateInvalid:t[19]},134217728&n[0]&&{"aria-controls":t[27]},134217728&n[0]&&{"aria-describedby":t[27]},1024&n[1]&&Lt(pi(t[41],"input$"))]):{};!i&&1&n[0]&&(i=!0,a.value=t[0],pt((()=>i=!1))),!o&&16&n[0]&&(o=!0,a.dirty=t[4],pt((()=>o=!1))),!s&&2&n[0]&&(s=!0,a.invalid=t[1],pt((()=>s=!1))),r.$set(a),_&&_.p&&(!c||268435456&n[2])&&m(_,b,t,t[90],c?g(b,t[90],n,Cc):v(t[90]),Tc),(!c||1024&n[1]&&u!==(u=ui({"mdc-text-field__resizer":!("input$resizable"in t[41])||t[41].input$resizable})))&&B(e,"class",u)},i(t){c||(It(r.$$.fragment,t),It(_,t),c=!0)},o(t){At(r.$$.fragment,t),At(_,t),c=!1},d(n){n&&L(e),t[55](null),Pt(r),_&&_.d(n)}}}function Xc(t){let e,n;return e=new ic({props:{$$slots:{default:[Qc]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};1048576&n[0]|268435456&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function Qc(t){let e;return{c(){e=P(t[20])},m(t,n){$(t,e,n)},p(t,n){1048576&n[0]&&V(e,t[20])},d(t){t&&L(e)}}}function Zc(t){let e,n;return e=new oc({props:{$$slots:{default:[tl]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};2097152&n[0]|268435456&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function tl(t){let e;return{c(){e=P(t[21])},m(t,n){$(t,e,n)},p(t,n){2097152&n[0]&&V(e,t[21])},d(t){t&&L(e)}}}function el(t){let e;const n=t[51].trailingIcon,r=h(n,t,t[90],xc);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||268435456&i[2])&&m(r,n,t,t[90],e?g(n,t[90],i,Sc):v(t[90]),xc)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function nl(t){let e,r;const i=[pi(t[41],"ripple$")];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Xu({props:o}),t[72](e),{c(){Rt(e.$$.fragment)},m(t,n){Ot(e,t,n),r=!0},p(t,n){const r=1024&n[1]?$t(i,[Lt(pi(t[41],"ripple$"))]):{};e.$set(r)},i(t){r||(It(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(n){t[72](null),Pt(e,n)}}}function rl(t){let e,r;const i=[pi(t[41],"helperLine$")];let o={$$slots:{default:[il]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new rc({props:o}),e.$on("SMUITextfieldHelperText:id",t[85]),e.$on("SMUITextfieldHelperText:mount",t[86]),e.$on("SMUITextfieldHelperText:unmount",t[87]),e.$on("SMUITextfieldCharacterCounter:mount",t[88]),e.$on("SMUITextfieldCharacterCounter:unmount",t[89]),{c(){Rt(e.$$.fragment)},m(t,n){Ot(e,t,n),r=!0},p(t,n){const r=1024&n[1]?$t(i,[Lt(pi(t[41],"helperLine$"))]):{};268435456&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(It(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Pt(e,t)}}}function il(t){let e;const n=t[51].helper,r=h(n,t,t[90],hc);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||268435456&i[2])&&m(r,n,t,t[90],e?g(n,t[90],i,fc):v(t[90]),hc)},i(t){e||(It(r,t),e=!0)},o(t){At(r,t),e=!1},d(t){r&&r.d(t)}}}function ol(t){let e,n,r,i,o;const s=[Dc,Nc],a=[];e=function(t,e){return t[36]?0:1}(t),n=a[e]=s[e](t);let u=t[42].helper&&rl(t);return{c(){n.c(),r=N(),u&&u.c(),i=D()},m(t,n){a[e].m(t,n),$(t,r,n),u&&u.m(t,n),$(t,i,n),o=!0},p(t,e){n.p(t,e),t[42].helper?u?(u.p(t,e),2048&e[1]&&It(u,1)):(u=rl(t),u.c(),It(u,1),u.m(i.parentNode,i)):u&&(xt(),At(u,1,1,(()=>{u=null})),wt())},i(t){o||(It(n),It(u),o=!0)},o(t){At(n),At(u),o=!1},d(t){a[e].d(t),t&&L(r),u&&u.d(t),t&&L(i)}}}const sl=([t,e])=>`${t}: ${e};`,al=([t,e])=>`${t}: ${e};`;function ul(t,e,r){let i;const o=["use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","focus","blur","layout","getElement"];let s=b(e,o),{$$slots:a={},$$scope:u}=e;const c=function(t){const e={};for(const n in t)e[n]=!0;return e}(a),{applyPassive:l}=Fi,d=hi(Z());let f=()=>{};function h(t){return t===f}let{use:p=[]}=e,{class:g=""}=e,{style:m=""}=e,{ripple:v=!0}=e,{disabled:_=!1}=e,{required:E=!1}=e,{textarea:S=!1}=e,{variant:x=(S?"outlined":"standard")}=e,{noLabel:w=!1}=e,{label:I}=e,{type:A="text"}=e,{value:F=(s.input$emptyValueUndefined?void 0:f)}=e,{files:C=f}=e;const T=!h(F)||!h(C);h(F)&&(F=void 0),h(C)&&(C=null);let{invalid:$=f}=e,{updateInvalid:L=h($)}=e;h($)&&($=!1);let k,R,O,P,N,D,U,M,B,{dirty:H=!1}=e,{prefix:j}=e,{suffix:V}=e,{validateOnValueChange:q=L}=e,{useNativeValidation:K=L}=e,{withLeadingIcon:W=f}=e,{withTrailingIcon:z=f}=e,{input:J}=e,{floatingLabel:G}=e,{lineRipple:Y}=e,{notchedOutline:X}=e,Q={},nt={},rt=!1,ot=it("SMUI:addLayoutListener"),st=new Promise((t=>N=t)),ut=F;function ct(t){var e;return t in Q?null!==(e=Q[t])&&void 0!==e?e:null:gt().classList.contains(t)}function dt(t){Q[t]||r(25,Q[t]=!0,Q)}function ht(t){t in Q&&!Q[t]||r(25,Q[t]=!1,Q)}function pt(){if(R){const t=R.shouldFloat;R.notchOutline(t)}}function gt(){return k}ot&&(P=ot(pt)),tt((()=>{if(r(49,R=new Lu({addClass:dt,removeClass:ht,hasClass:ct,registerTextFieldInteractionHandler:(t,e)=>gt().addEventListener(t,e),deregisterTextFieldInteractionHandler:(t,e)=>gt().removeEventListener(t,e),registerValidationAttributeChangeHandler:t=>{const e=new MutationObserver((e=>{K&&t((t=>t.map((t=>t.attributeName)).filter((t=>t)))(e))})),n={attributes:!0};return J&&e.observe(J.getElement(),n),e},deregisterValidationAttributeChangeHandler:t=>{t.disconnect()},getNativeInput:()=>{var t;return null!==(t=null==J?void 0:J.getElement())&&void 0!==t?t:null},setInputAttr:(t,e)=>{null==J||J.addAttr(t,e)},removeInputAttr:t=>{null==J||J.removeAttr(t)},isFocused:()=>document.activeElement===(null==J?void 0:J.getElement()),registerInputInteractionHandler:(t,e)=>{null==J||J.getElement().addEventListener(t,e,l())},deregisterInputInteractionHandler:(t,e)=>{null==J||J.getElement().removeEventListener(t,e,l())},floatLabel:t=>G&&G.float(t),getLabelWidth:()=>G?G.getWidth():0,hasLabel:()=>!!G,shakeLabel:t=>G&&G.shake(t),setLabelRequired:t=>G&&G.setRequired(t),activateLineRipple:()=>Y&&Y.activate(),deactivateLineRipple:()=>Y&&Y.deactivate(),setLineRippleTransformOrigin:t=>Y&&Y.setRippleCenter(t),closeOutline:()=>X&&X.closeNotch(),hasOutline:()=>!!X,notchOutline:t=>X&&X.notch(t)},{get helperText(){return M},get characterCounter(){return B},get leadingIcon(){return D},get trailingIcon(){return U}})),T){if(null==J)throw new Error("SMUI Textfield initialized without Input component.");R.init()}else(ft(),lt).then((()=>{if(null==J)throw new Error("SMUI Textfield initialized without Input component.");R.init()}));return N(),()=>{R.destroy()}})),et((()=>{P&&P()}));return t.$$set=t=>{e=n(n({},e),y(t)),r(41,s=b(e,o)),"use"in t&&r(8,p=t.use),"class"in t&&r(9,g=t.class),"style"in t&&r(10,m=t.style),"ripple"in t&&r(11,v=t.ripple),"disabled"in t&&r(12,_=t.disabled),"required"in t&&r(13,E=t.required),"textarea"in t&&r(14,S=t.textarea),"variant"in t&&r(15,x=t.variant),"noLabel"in t&&r(16,w=t.noLabel),"label"in t&&r(17,I=t.label),"type"in t&&r(18,A=t.type),"value"in t&&r(0,F=t.value),"files"in t&&r(3,C=t.files),"invalid"in t&&r(1,$=t.invalid),"updateInvalid"in t&&r(19,L=t.updateInvalid),"dirty"in t&&r(4,H=t.dirty),"prefix"in t&&r(20,j=t.prefix),"suffix"in t&&r(21,V=t.suffix),"validateOnValueChange"in t&&r(43,q=t.validateOnValueChange),"useNativeValidation"in t&&r(44,K=t.useNativeValidation),"withLeadingIcon"in t&&r(22,W=t.withLeadingIcon),"withTrailingIcon"in t&&r(23,z=t.withTrailingIcon),"input"in t&&r(2,J=t.input),"floatingLabel"in t&&r(5,G=t.floatingLabel),"lineRipple"in t&&r(6,Y=t.lineRipple),"notchedOutline"in t&&r(7,X=t.notchedOutline),"$$scope"in t&&r(90,u=t.$$scope)},t.$$.update=()=>{if(4&t.$$.dirty[0]&&r(33,i=J&&J.getElement()),524290&t.$$.dirty[0]|262144&t.$$.dirty[1]&&R&&R.isValid()!==!$&&(L?r(1,$=!R.isValid()):R.setValid(!$)),266240&t.$$.dirty[1]&&R&&R.getValidateOnValueChange()!==q&&R.setValidateOnValueChange(!h(q)&&q),270336&t.$$.dirty[1]&&R&&R.setUseNativeValidation(!!h(K)||K),4096&t.$$.dirty[0]|262144&t.$$.dirty[1]&&R&&R.setDisabled(_),1&t.$$.dirty[0]|786432&t.$$.dirty[1]&&R&&T&&ut!==F){r(50,ut=F);const t=`${F}`;R.getValue()!==t&&R.setValue(t)}},[F,$,J,C,H,G,Y,X,p,g,m,v,_,E,S,x,w,I,A,L,j,V,W,z,k,Q,nt,O,rt,D,U,M,B,i,d,h,T,st,dt,ht,function(t,e){nt[t]!=e&&(""===e||null==e?(delete nt[t],r(26,nt)):r(26,nt[t]=e,nt))},s,c,q,K,function(){null==J||J.focus()},function(){null==J||J.blur()},pt,gt,R,ut,a,function(t){at[t?"unshift":"push"]((()=>{G=t,r(5,G)}))},function(t){at[t?"unshift":"push"]((()=>{G=t,r(5,G)}))},function(t){at[t?"unshift":"push"]((()=>{X=t,r(7,X)}))},function(t){at[t?"unshift":"push"]((()=>{J=t,r(2,J)}))},function(t){F=t,r(0,F)},function(t){H=t,r(4,H)},function(t){$=t,r(1,$),r(49,R),r(19,L)},()=>r(28,rt=!1),()=>r(28,rt=!0),t=>ci(k,"blur",t),t=>ci(k,"focus",t),function(t){at[t?"unshift":"push"]((()=>{J=t,r(2,J)}))},function(t){F=t,r(0,F)},function(t){C=t,r(3,C)},function(t){H=t,r(4,H)},function(t){$=t,r(1,$),r(49,R),r(19,L)},()=>r(28,rt=!1),()=>r(28,rt=!0),t=>ci(k,"blur",t),t=>ci(k,"focus",t),function(t){at[t?"unshift":"push"]((()=>{Y=t,r(6,Y)}))},function(t){at[t?"unshift":"push"]((()=>{k=t,r(24,k)}))},t=>r(29,D=t.detail),()=>r(29,D=void 0),t=>r(30,U=t.detail),()=>r(30,U=void 0),t=>r(32,B=t.detail),()=>r(32,B=void 0),function(t){at[t?"unshift":"push"]((()=>{k=t,r(24,k)}))},t=>r(29,D=t.detail),()=>r(29,D=void 0),t=>r(30,U=t.detail),()=>r(30,U=void 0),t=>r(27,O=t.detail),t=>r(31,M=t.detail),()=>{r(27,O=void 0),r(31,M=void 0)},t=>r(32,B=t.detail),()=>r(32,B=void 0),u]}class cl extends Dt{constructor(t){super(),Nt(this,t,ul,ol,a,{use:8,class:9,style:10,ripple:11,disabled:12,required:13,textarea:14,variant:15,noLabel:16,label:17,type:18,value:0,files:3,invalid:1,updateInvalid:19,dirty:4,prefix:20,suffix:21,validateOnValueChange:43,useNativeValidation:44,withLeadingIcon:22,withTrailingIcon:23,input:2,floatingLabel:5,lineRipple:6,notchedOutline:7,focus:45,blur:46,layout:47,getElement:48},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[45]}get blur(){return this.$$.ctx[46]}get layout(){return this.$$.ctx[47]}get getElement(){return this.$$.ctx[48]}}
/**
     * @license
     * Copyright 2020 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var ll={INDETERMINATE_CLASS:"mdc-circular-progress--indeterminate",CLOSED_CLASS:"mdc-circular-progress--closed"},dl={ARIA_HIDDEN:"aria-hidden",ARIA_VALUENOW:"aria-valuenow",DETERMINATE_CIRCLE_SELECTOR:".mdc-circular-progress__determinate-circle",RADIUS:"r",STROKE_DASHOFFSET:"stroke-dashoffset"},fl=function(t){function e(n){return t.call(this,_i(_i({},e.defaultAdapter),n))||this}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ll},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return dl},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},getDeterminateCircleAttribute:function(){return null},hasClass:function(){return!1},removeClass:function(){},removeAttribute:function(){},setAttribute:function(){},setDeterminateCircleAttribute:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.closed=this.adapter.hasClass(ll.CLOSED_CLASS),this.determinate=!this.adapter.hasClass(ll.INDETERMINATE_CLASS),this.progress=0,this.determinate&&this.adapter.setAttribute(dl.ARIA_VALUENOW,this.progress.toString()),this.radius=Number(this.adapter.getDeterminateCircleAttribute(dl.RADIUS))},e.prototype.setDeterminate=function(t){this.determinate=t,this.determinate?(this.adapter.removeClass(ll.INDETERMINATE_CLASS),this.setProgress(this.progress)):(this.adapter.addClass(ll.INDETERMINATE_CLASS),this.adapter.removeAttribute(dl.ARIA_VALUENOW))},e.prototype.isDeterminate=function(){return this.determinate},e.prototype.setProgress=function(t){if(this.progress=t,this.determinate){var e=(1-this.progress)*(2*Math.PI*this.radius);this.adapter.setDeterminateCircleAttribute(dl.STROKE_DASHOFFSET,""+e),this.adapter.setAttribute(dl.ARIA_VALUENOW,this.progress.toString())}},e.prototype.getProgress=function(){return this.progress},e.prototype.open=function(){this.closed=!1,this.adapter.removeClass(ll.CLOSED_CLASS),this.adapter.removeAttribute(dl.ARIA_HIDDEN)},e.prototype.close=function(){this.closed=!0,this.adapter.addClass(ll.CLOSED_CLASS),this.adapter.setAttribute(dl.ARIA_HIDDEN,"true")},e.prototype.isClosed=function(){return this.closed},e}(wi);function hl(t,e,n){const r=t.slice();return r[24]=e[n],r}function pl(t){let e,n,r,i,o,s,a,u;return{c(){e=R("div"),n=R("div"),n.innerHTML='<svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="4"></circle></svg>',r=N(),i=R("div"),i.innerHTML='<svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="3.2"></circle></svg>',o=N(),s=R("div"),s.innerHTML='<svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><circle cx="24" cy="24" r="18" stroke-dasharray="113.097" stroke-dashoffset="56.549" stroke-width="4"></circle></svg>',a=N(),B(n,"class","mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left"),B(i,"class","mdc-circular-progress__gap-patch"),B(s,"class","mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right"),B(e,"class",u=ui({[t[1]]:!0,"mdc-circular-progress__spinner-layer":!0,["mdc-circular-progress__color-"+t[24]]:t[5]}))},m(t,u){$(t,e,u),F(e,n),F(e,r),F(e,i),F(e,o),F(e,s),F(e,a)},p(t,n){34&n&&u!==(u=ui({[t[1]]:!0,"mdc-circular-progress__spinner-layer":!0,["mdc-circular-progress__color-"+t[24]]:t[5]}))&&B(e,"class",u)},d(t){t&&L(e)}}}function gl(e){let r,i,a,u,c,l,d,f,h,p,g,m,v,y,b=[{class:"mdc-circular-progress__determinate-circle"},{cx:"24"},{cy:"24"},{r:"18"},{"stroke-dasharray":"113.097"},{"stroke-dashoffset":"113.097"},{"stroke-width":"4"},e[9]],_={};for(let t=0;t<b.length;t+=1)_=n(_,b[t]);let S=e[5]?[1,2,3,4]:[1],x=[];for(let t=0;t<S.length;t+=1)x[t]=pl(hl(e,S,t));let w=[{class:f=ui({[e[1]]:!0,"mdc-circular-progress":!0,"mdc-circular-progress--indeterminate":e[2],"mdc-circular-progress--closed":e[3],...e[7]})},{role:"progressbar"},{"aria-valuemin":h=0},{"aria-valuemax":p=1},{"aria-valuenow":g=e[2]?void 0:e[4]},e[8],e[12]],I={};for(let t=0;t<w.length;t+=1)I=n(I,w[t]);return{c(){r=R("div"),i=R("div"),a=O("svg"),u=O("circle"),c=O("circle"),l=N(),d=R("div");for(let t=0;t<x.length;t+=1)x[t].c();B(u,"class","mdc-circular-progress__determinate-track"),B(u,"cx","24"),B(u,"cy","24"),B(u,"r","18"),B(u,"stroke-width","4"),j(c,_),B(a,"class","mdc-circular-progress__determinate-circle-graphic"),B(a,"viewBox","0 0 48 48"),B(a,"xmlns","http://www.w3.org/2000/svg"),B(i,"class","mdc-circular-progress__determinate-container"),B(d,"class","mdc-circular-progress__indeterminate-container"),H(r,I)},m(t,n){$(t,r,n),F(r,i),F(i,a),F(a,u),F(a,c),e[15](c),F(r,l),F(r,d);for(let t=0;t<x.length;t+=1)x[t].m(d,null);e[16](r),v||(y=[E(m=gi.call(null,r,e[0])),E(e[11].call(null,r))],v=!0)},p(t,[e]){if(j(c,_=$t(b,[{class:"mdc-circular-progress__determinate-circle"},{cx:"24"},{cy:"24"},{r:"18"},{"stroke-dasharray":"113.097"},{"stroke-dashoffset":"113.097"},{"stroke-width":"4"},512&e&&t[9]])),34&e){let n;for(S=t[5]?[1,2,3,4]:[1],n=0;n<S.length;n+=1){const r=hl(t,S,n);x[n]?x[n].p(r,e):(x[n]=pl(r),x[n].c(),x[n].m(d,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=S.length}H(r,I=$t(w,[142&e&&f!==(f=ui({[t[1]]:!0,"mdc-circular-progress":!0,"mdc-circular-progress--indeterminate":t[2],"mdc-circular-progress--closed":t[3],...t[7]}))&&{class:f},{role:"progressbar"},{"aria-valuemin":0},{"aria-valuemax":1},20&e&&g!==(g=t[2]?void 0:t[4])&&{"aria-valuenow":g},256&e&&t[8],4096&e&&t[12]])),m&&s(m.update)&&1&e&&m.update.call(null,t[0])},i:t,o:t,d(t){t&&L(r),e[15](null),k(x,t),e[16](null),v=!1,o(y)}}}function ml(t,e,r){const i=["use","class","indeterminate","closed","progress","fourColor","getElement"];let o=b(e,i);const s=hi(Z());let a,u,c,{use:l=[]}=e,{class:d=""}=e,{indeterminate:f=!1}=e,{closed:h=!1}=e,{progress:p=0}=e,{fourColor:g=!1}=e,m={},v={},_={};function E(t){return t in m?m[t]:C().classList.contains(t)}function S(t){m[t]||r(7,m[t]=!0,m)}function x(t){t in m&&!m[t]||r(7,m[t]=!1,m)}function w(t,e){v[t]!==e&&r(8,v[t]=e,v)}function I(t){t in v&&null==v[t]||r(8,v[t]=void 0,v)}function A(t){var e;return t in _?null!==(e=_[t])&&void 0!==e?e:null:c.getAttribute(t)}function F(t,e){_[t]!==e&&r(9,_[t]=e,_)}function C(){return a}return tt((()=>(r(14,u=new fl({addClass:S,getDeterminateCircleAttribute:A,hasClass:E,removeClass:x,removeAttribute:I,setAttribute:w,setDeterminateCircleAttribute:F})),u.init(),()=>{u.destroy()}))),t.$$set=t=>{e=n(n({},e),y(t)),r(12,o=b(e,i)),"use"in t&&r(0,l=t.use),"class"in t&&r(1,d=t.class),"indeterminate"in t&&r(2,f=t.indeterminate),"closed"in t&&r(3,h=t.closed),"progress"in t&&r(4,p=t.progress),"fourColor"in t&&r(5,g=t.fourColor)},t.$$.update=()=>{16388&t.$$.dirty&&u&&u.isDeterminate()!==!f&&u.setDeterminate(!f),16400&t.$$.dirty&&u&&u.getProgress()!==p&&u.setProgress(p),16392&t.$$.dirty&&u&&(h?u.close():u.open())},[l,d,f,h,p,g,a,m,v,_,c,s,o,C,u,function(t){at[t?"unshift":"push"]((()=>{c=t,r(10,c)}))},function(t){at[t?"unshift":"push"]((()=>{a=t,r(6,a)}))}]}
/**
     * @license
     * Copyright 2020 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}bi(e,t),e.prototype.initialize=function(){this.determinateCircle=this.root.querySelector(fl.strings.DETERMINATE_CIRCLE_SELECTOR)},e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"determinate",{set:function(t){this.foundation.setDeterminate(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress",{set:function(t){this.foundation.setProgress(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClosed",{get:function(){return this.foundation.isClosed()},enumerable:!1,configurable:!0}),e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(){this.foundation.close()},e.prototype.getDefaultFoundation=function(){var t=this;return new fl({addClass:function(e){t.root.classList.add(e)},getDeterminateCircleAttribute:function(e){return t.determinateCircle.getAttribute(e)},hasClass:function(e){return t.root.classList.contains(e)},removeClass:function(e){t.root.classList.remove(e)},removeAttribute:function(e){t.root.removeAttribute(e)},setAttribute:function(e,n){t.root.setAttribute(e,n)},setDeterminateCircleAttribute:function(e,n){t.determinateCircle.setAttribute(e,n)}})}}(Ii);class vl extends Dt{constructor(t){super(),Nt(this,t,ml,gl,a,{use:0,class:1,indeterminate:2,closed:3,progress:4,fourColor:5,getElement:13})}get getElement(){return this.$$.ctx[13]}}async function yl(t){const e=await async function(t){const e=(await Jr()).find((e=>e.name===t));return null==e?void 0:e.id}(t);me.set(e);d(ge).length&&await ti(),await Gr(e,Gt),jr()}
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */function bl(t){return!!t&&t.scrollHeight>t.offsetHeight}function _l(t){return!!t&&0===t.scrollTop}function El(t){return!!t&&Math.ceil(t.scrollHeight-t.scrollTop)===t.clientHeight}function Sl(t){var e=new Set;return[].forEach.call(t,(function(t){return e.add(t.offsetTop)})),e.size>1}
/**
     * @license
     * Copyright 2020 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var xl,wl=function(){function t(){this.rafIDs=new Map}return t.prototype.request=function(t,e){var n=this;this.cancel(t);var r=requestAnimationFrame((function(r){n.rafIDs.delete(t),e(r)}));this.rafIDs.set(t,r)},t.prototype.cancel=function(t){var e=this.rafIDs.get(t);e&&(cancelAnimationFrame(e),this.rafIDs.delete(t))},t.prototype.cancelAll=function(){var t=this;this.rafIDs.forEach((function(e,n){t.cancel(n)}))},t.prototype.getQueue=function(){var t=[];return this.rafIDs.forEach((function(e,n){t.push(n)})),t},t}(),Il={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer",SURFACE_SCRIM_SHOWN:"mdc-dialog__surface-scrim--shown",SURFACE_SCRIM_SHOWING:"mdc-dialog__surface-scrim--showing",SURFACE_SCRIM_HIDING:"mdc-dialog__surface-scrim--hiding",SCRIM_HIDDEN:"mdc-dialog__scrim--hidden"},Al={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},Fl={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};
/**
     * @license
     * Copyright 2016 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */!function(t){t.POLL_SCROLL_POS="poll_scroll_position",t.POLL_LAYOUT_CHANGE="poll_layout_change"}(xl||(xl={}));var Cl=function(t){function e(n){var r=t.call(this,_i(_i({},e.defaultAdapter),n))||this;return r.dialogOpen=!1,r.isFullscreen=!1,r.animationFrame=0,r.animationTimer=0,r.escapeKeyAction=Al.CLOSE_ACTION,r.scrimClickAction=Al.CLOSE_ACTION,r.autoStackButtons=!0,r.areButtonsStacked=!1,r.suppressDefaultPressSelector=Al.SUPPRESS_DEFAULT_PRESS_SELECTOR,r.animFrame=new wl,r.contentScrollHandler=function(){r.handleScrollEvent()},r.windowResizeHandler=function(){r.layout()},r.windowOrientationChangeHandler=function(){r.layout()},r}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Il},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Al},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Fl},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.hasClass(Il.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(Il.FULLSCREEN)},e.prototype.destroy=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.animFrame.cancelAll(),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler)},e.prototype.open=function(t){var e=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(Il.OPENING),this.isFullscreen&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),t&&t.isAboveFullscreenDialog&&this.adapter.addClass(Il.SCRIM_HIDDEN),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.adapter.registerWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),this.runNextAnimationFrame((function(){e.adapter.addClass(Il.OPEN),e.adapter.addBodyClass(Il.SCROLL_LOCK),e.layout(),e.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.trapFocus(e.adapter.getInitialFocusEl()),e.adapter.notifyOpened()}),Fl.DIALOG_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(t),this.adapter.addClass(Il.CLOSING),this.adapter.removeClass(Il.OPEN),this.adapter.removeBodyClass(Il.SCROLL_LOCK),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.adapter.releaseFocus(),e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),Fl.DIALOG_ANIMATION_CLOSE_TIME_MS))},e.prototype.showSurfaceScrim=function(){var t=this;this.adapter.addClass(Il.SURFACE_SCRIM_SHOWING),this.runNextAnimationFrame((function(){t.adapter.addClass(Il.SURFACE_SCRIM_SHOWN)}))},e.prototype.hideSurfaceScrim=function(){this.adapter.removeClass(Il.SURFACE_SCRIM_SHOWN),this.adapter.addClass(Il.SURFACE_SCRIM_HIDING)},e.prototype.handleSurfaceScrimTransitionEnd=function(){this.adapter.removeClass(Il.SURFACE_SCRIM_HIDING),this.adapter.removeClass(Il.SURFACE_SCRIM_SHOWING)},e.prototype.isOpen=function(){return this.dialogOpen},e.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},e.prototype.setEscapeKeyAction=function(t){this.escapeKeyAction=t},e.prototype.getScrimClickAction=function(){return this.scrimClickAction},e.prototype.setScrimClickAction=function(t){this.scrimClickAction=t},e.prototype.getAutoStackButtons=function(){return this.autoStackButtons},e.prototype.setAutoStackButtons=function(t){this.autoStackButtons=t},e.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},e.prototype.setSuppressDefaultPressSelector=function(t){this.suppressDefaultPressSelector=t},e.prototype.layout=function(){var t=this;this.animFrame.request(xl.POLL_LAYOUT_CHANGE,(function(){t.layoutInternal()}))},e.prototype.handleClick=function(t){if(this.adapter.eventTargetMatches(t.target,Al.SCRIM_SELECTOR)&&""!==this.scrimClickAction)this.close(this.scrimClickAction);else{var e=this.adapter.getActionFromEvent(t);e&&this.close(e)}},e.prototype.handleKeydown=function(t){var e="Enter"===t.key||13===t.keyCode;if(e&&!this.adapter.getActionFromEvent(t)){var n=t.composedPath?t.composedPath()[0]:t.target,r=!this.suppressDefaultPressSelector||!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);e&&r&&this.adapter.clickDefaultButton()}},e.prototype.handleDocumentKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&""!==this.escapeKeyAction&&this.close(this.escapeKeyAction)},e.prototype.handleScrollEvent=function(){var t=this;this.animFrame.request(xl.POLL_SCROLL_POS,(function(){t.toggleScrollDividerHeader(),t.toggleScrollDividerFooter()}))},e.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(Il.OPENING),this.adapter.removeClass(Il.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},e.prototype.detectStackedButtons=function(){this.adapter.removeClass(Il.STACKED);var t=this.adapter.areButtonsStacked();t&&this.adapter.addClass(Il.STACKED),t!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=t)},e.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(Il.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(Il.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},e.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(Il.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(Il.SCROLL_DIVIDER_HEADER):this.adapter.addClass(Il.SCROLL_DIVIDER_HEADER)},e.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(Il.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(Il.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(Il.SCROLL_DIVIDER_FOOTER)},e}(wi),Tl=Cl.strings;
/**
     * @license
     * Copyright 2017 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}bi(e,t),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"escapeKeyAction",{get:function(){return this.foundation.getEscapeKeyAction()},set:function(t){this.foundation.setEscapeKeyAction(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrimClickAction",{get:function(){return this.foundation.getScrimClickAction()},set:function(t){this.foundation.setScrimClickAction(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoStackButtons",{get:function(){return this.foundation.getAutoStackButtons()},set:function(t){this.foundation.setAutoStackButtons(t)},enumerable:!1,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){var e,n;void 0===t&&(t=function(t,e){return new Hi(t,e)});var r=this.root.querySelector(Tl.CONTAINER_SELECTOR);if(!r)throw new Error("Dialog component requires a "+Tl.CONTAINER_SELECTOR+" container element");this.container=r,this.content=this.root.querySelector(Tl.CONTENT_SELECTOR),this.buttons=[].slice.call(this.root.querySelectorAll(Tl.BUTTON_SELECTOR)),this.defaultButton=this.root.querySelector("["+Tl.BUTTON_DEFAULT_ATTRIBUTE+"]"),this.focusTrapFactory=t,this.buttonRipples=[];try{for(var i=Ei(this.buttons),o=i.next();!o.done;o=i.next()){var s=o.value;this.buttonRipples.push(new Mi(s))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.initialSyncWithDOM=function(){var t,e,n,r=this;this.focusTrap=(t=this.container,e=this.focusTrapFactory,n=this.getInitialFocusEl()||void 0,e(t,{initialFocusEl:n})),this.handleClick=this.foundation.handleClick.bind(this.foundation),this.handleKeydown=this.foundation.handleKeydown.bind(this.foundation),this.handleDocumentKeydown=this.foundation.handleDocumentKeydown.bind(this.foundation),this.handleOpening=function(){document.addEventListener("keydown",r.handleDocumentKeydown)},this.handleClosing=function(){document.removeEventListener("keydown",r.handleDocumentKeydown)},this.listen("click",this.handleClick),this.listen("keydown",this.handleKeydown),this.listen(Tl.OPENING_EVENT,this.handleOpening),this.listen(Tl.CLOSING_EVENT,this.handleClosing)},e.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.unlisten("keydown",this.handleKeydown),this.unlisten(Tl.OPENING_EVENT,this.handleOpening),this.unlisten(Tl.CLOSING_EVENT,this.handleClosing),this.handleClosing(),this.buttonRipples.forEach((function(t){t.destroy()})),t.prototype.destroy.call(this)},e.prototype.layout=function(){this.foundation.layout()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=""),this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this,e={addBodyClass:function(t){return document.body.classList.add(t)},addClass:function(e){return t.root.classList.add(e)},areButtonsStacked:function(){return Sl(t.buttons)},clickDefaultButton:function(){t.defaultButton&&!t.defaultButton.disabled&&t.defaultButton.click()},eventTargetMatches:function(t,e){return!!t&&Ti(t,e)},getActionFromEvent:function(t){if(!t.target)return"";var e=Ci(t.target,"["+Tl.ACTION_ATTRIBUTE+"]");return e&&e.getAttribute(Tl.ACTION_ATTRIBUTE)},getInitialFocusEl:function(){return t.getInitialFocusEl()},hasClass:function(e){return t.root.classList.contains(e)},isContentScrollable:function(){return bl(t.content)},notifyClosed:function(e){return t.emit(Tl.CLOSED_EVENT,e?{action:e}:{})},notifyClosing:function(e){return t.emit(Tl.CLOSING_EVENT,e?{action:e}:{})},notifyOpened:function(){return t.emit(Tl.OPENED_EVENT,{})},notifyOpening:function(){return t.emit(Tl.OPENING_EVENT,{})},releaseFocus:function(){t.focusTrap.releaseFocus()},removeBodyClass:function(t){return document.body.classList.remove(t)},removeClass:function(e){return t.root.classList.remove(e)},reverseButtons:function(){t.buttons.reverse(),t.buttons.forEach((function(t){t.parentElement.appendChild(t)}))},trapFocus:function(){t.focusTrap.trapFocus()},registerContentEventHandler:function(e,n){t.content instanceof HTMLElement&&t.content.addEventListener(e,n)},deregisterContentEventHandler:function(e,n){t.content instanceof HTMLElement&&t.content.removeEventListener(e,n)},isScrollableContentAtTop:function(){return _l(t.content)},isScrollableContentAtBottom:function(){return El(t.content)},registerWindowEventHandler:function(t,e){window.addEventListener(t,e)},deregisterWindowEventHandler:function(t,e){window.removeEventListener(t,e)}};return new Cl(e)},e.prototype.getInitialFocusEl=function(){return this.root.querySelector("["+Tl.INITIAL_FOCUS_ATTRIBUTE+"]")}}(Ii);const{document:$l,window:Ll}=Tt,kl=t=>({}),Rl=t=>({});function Ol(e){let n,r,i;return{c(){n=R("div"),B(n,"class","mdc-dialog__surface-scrim")},m(t,o){$(t,n,o),r||(i=U(n,"transitionend",e[31]),r=!0)},p:t,d(t){t&&L(n),r=!1,i()}}}function Pl(t){let e,r,i,a,u,c,l,d,f,p,y,b,_,S,x;const w=t[27].default,I=h(w,t,t[26],null);let A=t[5]&&Ol(t),C=[{class:c=ui({[t[7]]:!0,"mdc-dialog__surface":!0})},{role:"alertdialog"},{"aria-modal":"true"},pi(t[17],"surface$")],T={};for(let t=0;t<C.length;t+=1)T=n(T,C[t]);let k=[{class:l=ui({[t[6]]:!0,"mdc-dialog__container":!0})},pi(t[17],"container$")],O={};for(let t=0;t<k.length;t+=1)O=n(O,k[t]);let P=[{class:p=ui({[t[2]]:!0,"mdc-dialog":!0,"mdc-dialog--stacked":!t[4],"mdc-dialog--fullscreen":t[5],"smui-dialog--selection":t[3],...t[10]})},{role:"alertdialog"},{"aria-modal":"true"},li(t[17],["container$","surface$"])],D={};for(let t=0;t<P.length;t+=1)D=n(D,P[t]);const M=t[27].over,j=h(M,t,t[26],Rl);return{c(){e=N(),r=R("div"),i=R("div"),a=R("div"),I&&I.c(),u=N(),A&&A.c(),d=N(),f=R("div"),b=N(),j&&j.c(),H(a,T),H(i,O),B(f,"class","mdc-dialog__scrim"),H(r,D)},m(n,o){$(n,e,o),$(n,r,o),F(r,i),F(i,a),I&&I.m(a,null),F(a,u),A&&A.m(a,null),F(r,d),F(r,f),t[32](r),$(n,b,o),j&&j.m(n,o),_=!0,S||(x=[U(Ll,"resize",t[28]),U(Ll,"orientationchange",t[29]),U($l.body,"keydown",t[30]),E(y=gi.call(null,r,t[1])),E(t[11].call(null,r)),U(r,"SMUIDialog:opening",t[14]),U(r,"SMUIDialog:opened",t[15]),U(r,"SMUIDialog:closed",t[16]),U(r,"click",t[33]),U(r,"keydown",t[34])],S=!0)},p(t,e){I&&I.p&&(!_||67108864&e[0])&&m(I,w,t,t[26],_?g(w,t[26],e,null):v(t[26]),null),t[5]?A?A.p(t,e):(A=Ol(t),A.c(),A.m(a,null)):A&&(A.d(1),A=null),H(a,T=$t(C,[(!_||128&e[0]&&c!==(c=ui({[t[7]]:!0,"mdc-dialog__surface":!0})))&&{class:c},{role:"alertdialog"},{"aria-modal":"true"},131072&e[0]&&pi(t[17],"surface$")])),H(i,O=$t(k,[(!_||64&e[0]&&l!==(l=ui({[t[6]]:!0,"mdc-dialog__container":!0})))&&{class:l},131072&e[0]&&pi(t[17],"container$")])),H(r,D=$t(P,[(!_||1084&e[0]&&p!==(p=ui({[t[2]]:!0,"mdc-dialog":!0,"mdc-dialog--stacked":!t[4],"mdc-dialog--fullscreen":t[5],"smui-dialog--selection":t[3],...t[10]})))&&{class:p},{role:"alertdialog"},{"aria-modal":"true"},131072&e[0]&&li(t[17],["container$","surface$"])])),y&&s(y.update)&&2&e[0]&&y.update.call(null,t[1]),j&&j.p&&(!_||67108864&e[0])&&m(j,M,t,t[26],_?g(M,t[26],e,kl):v(t[26]),Rl)},i(t){_||(It(I,t),It(j,t),_=!0)},o(t){At(I,t),At(j,t),_=!1},d(n){n&&L(e),n&&L(r),I&&I.d(n),A&&A.d(),t[32](null),n&&L(b),j&&j.d(n),S=!1,o(x)}}}function Nl(t,e,r){const i=["use","class","open","selection","escapeKeyAction","scrimClickAction","autoStackButtons","fullscreen","container$class","surface$class","isOpen","setOpen","layout","getElement"];let o,s,a=b(e,i),{$$slots:u={},$$scope:c}=e;var l;const{FocusTrap:d}=ji,{closest:h,matches:p}=Li,g=hi(Z());let m,v,E,{use:S=[]}=e,{class:x=""}=e,{open:w=!1}=e,{selection:I=!1}=e,{escapeKeyAction:A="close"}=e,{scrimClickAction:F="close"}=e,{autoStackButtons:C=!0}=e,{fullscreen:T=!1}=e,{container$class:$=""}=e,{surface$class:L=""}=e,k={},R=Bt(!1);f(t,R,(t=>r(38,s=t)));let O=it("SMUI:dialog:aboveFullscreen"),P=null!==(l=it("SMUI:dialog:aboveFullscreenShown"))&&void 0!==l?l:Bt(!1);f(t,P,(t=>r(25,o=t)));let N,D=it("SMUI:addLayoutListener"),U=[];rt("SMUI:dialog:actions:reversed",R),rt("SMUI:addLayoutListener",(t=>(U.push(t),()=>{const e=U.indexOf(t);e>=0&&U.splice(e,1)}))),rt("SMUI:dialog:selection",I),rt("SMUI:dialog:aboveFullscreen",O||T),rt("SMUI:dialog:aboveFullscreenShown",P),D&&(N=D(K));let M=o;function B(t){return t in k?k[t]:W().classList.contains(t)}function H(t){k[t]||r(10,k[t]=!0,k)}function j(t){t in k&&!k[t]||r(10,k[t]=!1,k)}function V(){return m.querySelector(".mdc-dialog__content")}function q(){return m.querySelector("[data-mdc-dialog-initial-focus]")}function K(){return v.layout()}function W(){return m}tt((()=>{var t;return E=new d(m,{initialFocusEl:null!==(t=q())&&void 0!==t?t:void 0}),r(8,v=new Cl({addBodyClass:t=>document.body.classList.add(t),addClass:H,areButtonsStacked:()=>Sl([].slice.call(m.querySelectorAll(".mdc-dialog__button"))),clickDefaultButton:()=>{const t=m.querySelector("[data-mdc-dialog-button-default");t&&t.click()},eventTargetMatches:(t,e)=>!!t&&p(t,e),getActionFromEvent:t=>{if(!t.target)return"";const e=h(t.target,"[data-mdc-dialog-action]");return e&&e.getAttribute("data-mdc-dialog-action")},getInitialFocusEl:q,hasClass:B,isContentScrollable:()=>bl(V()),notifyClosed:t=>{r(0,w=!1),ci(W(),"SMUIDialog:closed",t?{action:t}:{},void 0,!0)},notifyClosing:t=>ci(W(),"SMUIDialog:closing",t?{action:t}:{},void 0,!0),notifyOpened:()=>ci(W(),"SMUIDialog:opened",{},void 0,!0),notifyOpening:()=>ci(W(),"SMUIDialog:opening",{},void 0,!0),releaseFocus:()=>E.releaseFocus(),removeBodyClass:t=>document.body.classList.remove(t),removeClass:j,reverseButtons:()=>{_(R,s=!0,s)},trapFocus:()=>E.trapFocus(),registerContentEventHandler:(t,e)=>{const n=V();n instanceof HTMLElement&&n.addEventListener(t,e)},deregisterContentEventHandler:(t,e)=>{const n=V();n instanceof HTMLElement&&n.removeEventListener(t,e)},isScrollableContentAtTop:()=>_l(V()),isScrollableContentAtBottom:()=>El(V()),registerWindowEventHandler:(t,e)=>{window.addEventListener(t,e)},deregisterWindowEventHandler:(t,e)=>{window.removeEventListener(t,e)}})),v.init(),()=>{v.destroy()}})),et((()=>{N&&N()}));return t.$$set=t=>{e=n(n({},e),y(t)),r(17,a=b(e,i)),"use"in t&&r(1,S=t.use),"class"in t&&r(2,x=t.class),"open"in t&&r(0,w=t.open),"selection"in t&&r(3,I=t.selection),"escapeKeyAction"in t&&r(18,A=t.escapeKeyAction),"scrimClickAction"in t&&r(19,F=t.scrimClickAction),"autoStackButtons"in t&&r(4,C=t.autoStackButtons),"fullscreen"in t&&r(5,T=t.fullscreen),"container$class"in t&&r(6,$=t.container$class),"surface$class"in t&&r(7,L=t.surface$class),"$$scope"in t&&r(26,c=t.$$scope)},t.$$.update=()=>{262400&t.$$.dirty[0]&&v&&v.getEscapeKeyAction()!==A&&v.setEscapeKeyAction(A),524544&t.$$.dirty[0]&&v&&v.getScrimClickAction()!==F&&v.setScrimClickAction(F),272&t.$$.dirty[0]&&v&&v.getAutoStackButtons()!==C&&v.setAutoStackButtons(C),16&t.$$.dirty[0]&&(C||_(R,s=!0,s)),257&t.$$.dirty[0]&&v&&v.isOpen()!==w&&(w?v.open({isAboveFullscreenDialog:!!O}):v.close()),50331936&t.$$.dirty[0]&&T&&v&&M!==o&&(r(24,M=o),o?v.showSurfaceScrim():v.hideSurfaceScrim())},[w,S,x,I,C,T,$,L,v,m,k,g,R,P,function(){O&&_(P,o=!0,o),requestAnimationFrame((()=>{U.forEach((t=>t()))}))},function(){U.forEach((t=>t()))},function(){O&&_(P,o=!1,o)},a,A,F,function(){return w},function(t){r(0,w=t)},K,W,M,o,c,u,()=>w&&v&&v.layout(),()=>w&&v&&v.layout(),t=>w&&v&&v.handleDocumentKeydown(t),()=>v&&v.handleSurfaceScrimTransitionEnd(),function(t){at[t?"unshift":"push"]((()=>{m=t,r(9,m)}))},t=>v&&v.handleClick(t),t=>v&&v.handleKeydown(t)]}class Dl extends Dt{constructor(t){super(),Nt(this,t,Nl,Pl,a,{use:1,class:2,open:0,selection:3,escapeKeyAction:18,scrimClickAction:19,autoStackButtons:4,fullscreen:5,container$class:6,surface$class:7,isOpen:20,setOpen:21,layout:22,getElement:23},null,[-1,-1])}get isOpen(){return this.$$.ctx[20]}get setOpen(){return this.$$.ctx[21]}get layout(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}Ms({class:"mdc-dialog__header",component:is,contexts:{"SMUI:icon-button:context":"dialog:header"}});var Ul=Ms({class:"mdc-dialog__title",component:os}),Ml=Ms({class:"mdc-dialog__content",component:is}),Bl=Ms({class:"mdc-dialog__actions",component:is,classMap:{"smui-dialog__actions--reversed":"SMUI:dialog:actions:reversed"},contexts:{"SMUI:button:context":"dialog:action"}});function Hl(t){return t.setAttribute("data-mdc-dialog-initial-focus",""),{destroy(){t.removeAttribute("data-mdc-dialog-initial-focus")}}}function jl(t){let e;return{c(){e=P("JupyterLab")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function Vl(t){let e;return{c(){e=P("Open EBrains JupyterLab?")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function ql(t){let e;return{c(){e=P("Cancel")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function Kl(t){let e,n;return e=new Cs({props:{$$slots:{default:[ql]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function Wl(t){let e;return{c(){e=P("Open")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function zl(t){let e,n;return e=new Cs({props:{$$slots:{default:[Wl]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function Jl(t){let e,n,r,i;return e=new ys({props:{$$slots:{default:[Kl]},$$scope:{ctx:t}}}),e.$on("click",t[2]),r=new ys({props:{use:[Hl],$$slots:{default:[zl]},$$scope:{ctx:t}}}),r.$on("click",t[1]),{c(){Rt(e.$$.fragment),n=N(),Rt(r.$$.fragment)},m(t,o){Ot(e,t,o),$(t,n,o),Ot(r,t,o),i=!0},p(t,n){const i={};128&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};128&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(It(e.$$.fragment,t),It(r.$$.fragment,t),i=!0)},o(t){At(e.$$.fragment,t),At(r.$$.fragment,t),i=!1},d(t){Pt(e,t),t&&L(n),Pt(r,t)}}}function Gl(t){let e,n,r,i,o,s;return e=new Ul({props:{id:"simple-title",$$slots:{default:[jl]},$$scope:{ctx:t}}}),r=new Ml({props:{id:"simple-content",$$slots:{default:[Vl]},$$scope:{ctx:t}}}),o=new Bl({props:{$$slots:{default:[Jl]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment),n=N(),Rt(r.$$.fragment),i=N(),Rt(o.$$.fragment)},m(t,a){Ot(e,t,a),$(t,n,a),Ot(r,t,a),$(t,i,a),Ot(o,t,a),s=!0},p(t,n){const i={};128&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const s={};128&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const a={};128&n&&(a.$$scope={dirty:n,ctx:t}),o.$set(a)},i(t){s||(It(e.$$.fragment,t),It(r.$$.fragment,t),It(o.$$.fragment,t),s=!0)},o(t){At(e.$$.fragment,t),At(r.$$.fragment,t),At(o.$$.fragment,t),s=!1},d(t){Pt(e,t),t&&L(n),Pt(r,t),t&&L(i),Pt(o,t)}}}function Yl(t){let e,n,r,i;function o(e){t[5](e)}let s={"aria-labelledby":"simple-title","aria-describedby":"simple-content",$$slots:{default:[Gl]},$$scope:{ctx:t}};return void 0!==t[0]&&(s.open=t[0]),n=new Dl({props:s}),at.push((()=>kt(n,"open",o))),{c(){e=R("div"),Rt(n.$$.fragment),B(e,"class","puller-dialog-container")},m(t,r){$(t,e,r),Ot(n,e,null),i=!0},p(t,[e]){const i={};128&e&&(i.$$scope={dirty:e,ctx:t}),!r&&1&e&&(r=!0,i.open=t[0],pt((()=>r=!1))),n.$set(i)},i(t){i||(It(n.$$.fragment,t),i=!0)},o(t){At(n.$$.fragment,t),i=!1},d(t){t&&L(e),Pt(n)}}}function Xl(t,e,n){let r,{pullerUrl:i}=e,{showDialog:o}=e;const s=nt();function a(){s("reset")}return t.$$set=t=>{"pullerUrl"in t&&n(3,i=t.pullerUrl),"showDialog"in t&&n(4,o=t.showDialog)},t.$$.update=()=>{16&t.$$.dirty&&n(0,r=o)},[r,function(){window.open(i,"_blank"),a()},a,i,o,function(t){r=t,n(0,r),n(4,o)}]}class Ql extends Dt{constructor(t){super(),Nt(this,t,Xl,Yl,a,{pullerUrl:3,showDialog:4})}}function Zl(t,e,n){const r=t.slice();return r[20]=e[n],r}function td(t){let e;return{c(){e=P("keyboard_backspace")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function ed(t){let e,n,r,i,o;return i=new vl({props:{class:"custom-loading-spin",indeterminate:!0}}),{c(){e=R("div"),n=R("div"),n.textContent="Fetching Collabs...",r=N(),Rt(i.$$.fragment),B(e,"class","centered svelte-km54j7")},m(t,s){$(t,e,s),F(e,n),F(e,r),Ot(i,e,null),o=!0},i(t){o||(It(i.$$.fragment,t),o=!0)},o(t){At(i.$$.fragment,t),o=!1},d(t){t&&L(e),Pt(i)}}}function nd(t){let e,n,r,i,o,s,a,u,c,l;function d(e){t[13](e)}let f={style:"width: 100%;",helperLine$style:"width: 100%;",label:"Collab Name",$$slots:{trailingIcon:[id]},$$scope:{ctx:t}};void 0!==t[5]&&(f.value=t[5]),r=new cl({props:f}),at.push((()=>kt(r,"value",d))),r.$on("input",t[11]),a=new ys({props:{disabled:t[0]||!t[2],color:"secondary",variant:"unelevated",$$slots:{default:[ud]},$$scope:{ctx:t}}}),a.$on("click",t[9]);let h=t[6]&&cd(t);return{c(){e=R("div"),n=R("div"),Rt(r.$$.fragment),o=N(),s=R("div"),Rt(a.$$.fragment),u=N(),c=R("div"),h&&h.c(),B(n,"class","search-box svelte-km54j7"),B(s,"class","processing-container svelte-km54j7"),B(e,"class","top-bar svelte-km54j7"),B(c,"class","last-used-collab")},m(t,i){$(t,e,i),F(e,n),Ot(r,n,null),F(e,o),F(e,s),Ot(a,s,null),$(t,u,i),$(t,c,i),h&&h.m(c,null),l=!0},p(t,e){const n={};8388608&e&&(n.$$scope={dirty:e,ctx:t}),!i&&32&e&&(i=!0,n.value=t[5],pt((()=>i=!1))),r.$set(n);const o={};5&e&&(o.disabled=t[0]||!t[2]),8388609&e&&(o.$$scope={dirty:e,ctx:t}),a.$set(o),t[6]?h?(h.p(t,e),64&e&&It(h,1)):(h=cd(t),h.c(),It(h,1),h.m(c,null)):h&&(xt(),At(h,1,1,(()=>{h=null})),wt())},i(t){l||(It(r.$$.fragment,t),It(a.$$.fragment,t),It(h),l=!0)},o(t){At(r.$$.fragment,t),At(a.$$.fragment,t),At(h),l=!1},d(t){t&&L(e),Pt(r),Pt(a),t&&L(u),t&&L(c),h&&h.d()}}}function rd(t){let e;return{c(){e=P("search")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function id(t){let e,n;return e=new Ts({props:{class:"material-icons",slot:"trailingIcon",$$slots:{default:[rd]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};8388608&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function od(e){let n;return{c(){n=P("Use Collab")},m(t,e){$(t,n,e)},i:t,o:t,d(t){t&&L(n)}}}function sd(t){let e,n,r,i,o;return i=new vl({props:{class:"custom-loading-spin",indeterminate:!0}}),{c(){e=R("div"),n=R("div"),n.textContent="Processing...",r=N(),Rt(i.$$.fragment),B(e,"class","centered svelte-km54j7")},m(t,s){$(t,e,s),F(e,n),F(e,r),Ot(i,e,null),o=!0},i(t){o||(It(i.$$.fragment,t),o=!0)},o(t){At(i.$$.fragment,t),o=!1},d(t){t&&L(e),Pt(i)}}}function ad(t){let e,n,r,i;const o=[sd,od],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=D()},m(t,n){s[e].m(t,n),$(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e!==u&&(xt(),At(s[u],1,1,(()=>{s[u]=null})),wt(),n=s[e],n||(n=s[e]=o[e](t),n.c()),It(n,1),n.m(r.parentNode,r))},i(t){i||(It(n),i=!0)},o(t){At(n),i=!1},d(t){s[e].d(t),t&&L(r)}}}function ud(t){let e,n;return e=new Cs({props:{$$slots:{default:[ad]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};8388609&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function cd(t){let e,n;return e=new uu({props:{$$slots:{default:[dd]},$$scope:{ctx:t}}}),e.$on("click",t[14]),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};8388672&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function ld(t){let e,n;return{c(){e=R("strong"),e.textContent="Last used: ",n=P(t[6])},m(t,r){$(t,e,r),$(t,n,r)},p(t,e){64&e&&V(n,t[6])},d(t){t&&L(e),t&&L(n)}}}function dd(t){let e,n;return e=new au({props:{$$slots:{default:[ld]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};8388672&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function fd(t){let e,n,r;return n=new tu({props:{$$slots:{default:[md]},$$scope:{ctx:t}}}),{c(){e=R("div"),Rt(n.$$.fragment),B(e,"class","collab-list-scroll svelte-km54j7")},m(t,i){$(t,e,i),Ot(n,e,null),r=!0},p(t,e){const r={};8388624&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(It(n.$$.fragment,t),r=!0)},o(t){At(n.$$.fragment,t),r=!1},d(t){t&&L(e),Pt(n)}}}function hd(t){let e,n=t[20]+"";return{c(){e=P(n)},m(t,n){$(t,e,n)},p(t,r){16&r&&n!==(n=t[20]+"")&&V(e,n)},d(t){t&&L(e)}}}function pd(t){let e,n,r;return e=new au({props:{$$slots:{default:[hd]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment),n=N()},m(t,i){Ot(e,t,i),$(t,n,i),r=!0},p(t,n){const r={};8388624&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(It(e.$$.fragment,t),r=!0)},o(t){At(e.$$.fragment,t),r=!1},d(t){Pt(e,t),t&&L(n)}}}function gd(t){let e,n;return e=new uu({props:{$$slots:{default:[pd]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[15](t[20])})),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(n,r){t=n;const i={};8388624&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function md(t){let e,n,r=t[4],i=[];for(let e=0;e<r.length;e+=1)i[e]=gd(Zl(t,r,e));const o=t=>At(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=D()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);$(t,e,r),n=!0},p(t,n){if(1040&n){let s;for(r=t[4],s=0;s<r.length;s+=1){const o=Zl(t,r,s);i[s]?(i[s].p(o,n),It(i[s],1)):(i[s]=gd(o),i[s].c(),It(i[s],1),i[s].m(e.parentNode,e))}for(xt(),s=r.length;s<i.length;s+=1)o(s);wt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)It(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)At(i[t]);n=!1},d(t){k(i,t),t&&L(e)}}}function vd(t){let e,n,r,i,o,s,a,u,c,l,d,f,h,p;i=new Ts({props:{class:"material-icons",$$slots:{default:[td]},$$scope:{ctx:t}}}),i.$on("click",ri);let g=t[1]&&ed(),m=!t[1]&&t[3].length&&nd(t),v=!t[1]&&t[3].length&&fd(t);return h=new Ql({props:{pullerUrl:t[8],showDialog:t[7]}}),h.$on("reset",t[12]),{c(){e=R("section"),n=R("div"),r=R("div"),Rt(i.$$.fragment),o=N(),s=R("h2"),s.textContent="Please select the destination Collab",a=N(),u=R("div"),g&&g.c(),c=N(),m&&m.c(),l=N(),d=R("div"),v&&v.c(),f=N(),Rt(h.$$.fragment),B(r,"class","go-back-btn"),B(s,"class","page-header-title"),B(n,"class","custom-section-header svelte-km54j7"),B(u,"class","search-container svelte-km54j7"),B(d,"class","collab-list svelte-km54j7"),B(e,"class","collab-section-container svelte-km54j7")},m(t,y){$(t,e,y),F(e,n),F(n,r),Ot(i,r,null),F(n,o),F(n,s),F(e,a),F(e,u),g&&g.m(u,null),F(u,c),m&&m.m(u,null),F(e,l),F(e,d),v&&v.m(d,null),F(e,f),Ot(h,e,null),p=!0},p(t,[e]){const n={};8388608&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),t[1]?g?2&e&&It(g,1):(g=ed(),g.c(),It(g,1),g.m(u,c)):g&&(xt(),At(g,1,1,(()=>{g=null})),wt()),!t[1]&&t[3].length?m?(m.p(t,e),10&e&&It(m,1)):(m=nd(t),m.c(),It(m,1),m.m(u,null)):m&&(xt(),At(m,1,1,(()=>{m=null})),wt()),!t[1]&&t[3].length?v?(v.p(t,e),10&e&&It(v,1)):(v=fd(t),v.c(),It(v,1),v.m(d,null)):v&&(xt(),At(v,1,1,(()=>{v=null})),wt());const r={};256&e&&(r.pullerUrl=t[8]),128&e&&(r.showDialog=t[7]),h.$set(r)},i(t){p||(It(i.$$.fragment,t),It(g),It(m),It(v),It(h.$$.fragment,t),p=!0)},o(t){At(i.$$.fragment,t),At(g),At(m),At(v),At(h.$$.fragment,t),p=!1},d(t){t&&L(e),Pt(i),g&&g.d(),m&&m.d(),v&&v.d(),Pt(h)}}}Hs("");function yd(t,e,n){let r=!1,i=!1,o="",s=[],a=[],u="",c="",l=!1,d="";function f(t,e=!1){if(n(4,a=[]),e)return n(4,a=t.slice(0,10).map((t=>t.name))),a.push("..."),a;n(4,a=t.map((t=>t.name)))}function h(t){"..."!==t?n(2,o=t):f(s)}function p(t){var e;const n=JSON.stringify((null===(e=t.response)||void 0===e?void 0:e.data)||t.message);be.set(n)}et(he.subscribe((t=>{(null==t?void 0:t.access_token)&&(!async function(){n(1,i=!0),n(3,s=await async function(){return(await Jr()).filter((t=>"rw"===t.permission))}().catch(p)||[]),n(1,i=!1),f(s,!0)}(),n(6,c=localStorage.getItem(qt)))})));return[r,i,o,s,a,u,c,l,d,async function(){var t;n(0,r=!0),t=o,localStorage.setItem(qt,t),yl(o).then((()=>{n(8,d=si(o));window.open(d,"_blank")||n(7,l=!0)})).catch(p).finally((()=>{n(0,r=!1),n(2,o="")}))},h,function(){const t=u;if(""===t)return void f(s,!0);f(s.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))))},function(){n(7,l=!1),n(8,d="")},function(t){u=t,n(5,u)},()=>h(c),t=>h(t)]}class bd extends Dt{constructor(t){super(),Nt(this,t,yd,vd,a,{})}}function _d(t,e,n){const r=t.slice();return r[2]=e[n],r}function Ed(e){let n,r,i=e[2]+"";return{c(){n=R("li"),r=P(i),B(n,"class","svelte-17l124i")},m(t,e){$(t,n,e),F(n,r)},p:t,d(t){t&&L(n)}}}function Sd(e){let n,r,i=e[0](),o=[];for(let t=0;t<i.length;t+=1)o[t]=Ed(_d(e,i,t));return{c(){n=R("div"),r=R("ul");for(let t=0;t<o.length;t+=1)o[t].c();B(r,"class","arrows svelte-17l124i"),B(n,"class","model-breadcrumb-container")},m(t,e){$(t,n,e),F(n,r);for(let t=0;t<o.length;t+=1)o[t].m(r,null)},p(t,[e]){if(1&e){let n;for(i=t[0](),n=0;n<i.length;n+=1){const s=_d(t,i,n);o[n]?o[n].p(s,e):(o[n]=Ed(s),o[n].c(),o[n].m(r,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}},i:t,o:t,d(t){t&&L(n),k(o,t)}}}function xd(t,e,n){let{modelItem:r}=e;return t.$$set=t=>{"modelItem"in t&&n(1,r=t.modelItem)},[function(){return se.BREADCRUMB_PROPERTIES.map((t=>r[t]))},r]}Hs("");class wd extends Dt{constructor(t){super(),Nt(this,t,xd,Sd,a,{modelItem:1})}}function Id(t,e,n){const r=t.slice();return r[9]=e[n],r}function Ad(t,e,n){const r=t.slice();return r[12]=e[n],r}function Fd(t){let e,n,r,i,o;return{c(){e=R("div"),n=R("img"),o=N(),B(n,"loading","lazy"),c(n.src,r=t[12].url)||B(n,"src",r),B(n,"alt",i=t[12].caption),B(n,"class","svelte-13z306x"),B(e,"class","image svelte-13z306x")},m(t,r){$(t,e,r),F(e,n),F(e,o)},p(t,e){1&e&&!c(n.src,r=t[12].url)&&B(n,"src",r),1&e&&i!==(i=t[12].caption)&&B(n,"alt",i)},d(t){t&&L(e)}}}function Cd(t){let e,n,r,i=t[0].author,o=[];for(let e=0;e<i.length;e+=1)o[e]=Td(Id(t,i,e));return{c(){e=R("div"),n=R("span"),n.textContent="Credits:",r=N();for(let t=0;t<o.length;t+=1)o[t].c();B(n,"class","credit-title svelte-13z306x"),B(e,"class","contributors-container svelte-13z306x")},m(t,i){$(t,e,i),F(e,n),F(e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,n){if(1&n){let r;for(i=t[0].author,r=0;r<i.length;r+=1){const s=Id(t,i,r);o[r]?o[r].p(s,n):(o[r]=Td(s),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},d(t){t&&L(e),k(o,t)}}}function Td(t){let e,n,r,i,o=t[9].given_name+"",s=t[9].family_name+"";return{c(){e=R("span"),n=P(o),r=N(),i=P(s),B(e,"class","contributor-names svelte-13z306x")},m(t,o){$(t,e,o),F(e,n),F(e,r),F(e,i)},p(t,e){1&e&&o!==(o=t[9].given_name+"")&&V(n,o),1&e&&s!==(s=t[9].family_name+"")&&V(i,s)},d(t){t&&L(e)}}}function $d(t){let e,n,r,i,o,s,a,u,c,l,d=kd(t[0].description)+"";r=new wd({props:{modelItem:t[0]}});let f=t[0].images,h=[];for(let e=0;e<f.length;e+=1)h[e]=Fd(Ad(t,f,e));let p=t[0].author.length&&Cd(t);return{c(){e=R("div"),n=R("div"),Rt(r.$$.fragment),i=N(),o=R("div");for(let t=0;t<h.length;t+=1)h[t].c();s=N(),a=R("div"),u=R("div"),c=N(),p&&p.c(),B(n,"class","breadcrumbs svelte-13z306x"),B(o,"class","img-container svelte-13z306x"),B(u,"class","description svelte-13z306x"),B(a,"class","text-content svelte-13z306x"),B(e,"class","grid-container svelte-13z306x")},m(t,f){$(t,e,f),F(e,n),Ot(r,n,null),F(e,i),F(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);F(e,s),F(e,a),F(a,u),u.innerHTML=d,F(a,c),p&&p.m(a,null),l=!0},p(t,e){const n={};if(1&e&&(n.modelItem=t[0]),r.$set(n),1&e){let n;for(f=t[0].images,n=0;n<f.length;n+=1){const r=Ad(t,f,n);h[n]?h[n].p(r,e):(h[n]=Fd(r),h[n].c(),h[n].m(o,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}(!l||1&e)&&d!==(d=kd(t[0].description)+"")&&(u.innerHTML=d),t[0].author.length?p?p.p(t,e):(p=Cd(t),p.c(),p.m(a,null)):p&&(p.d(1),p=null)},i(t){l||(It(r.$$.fragment,t),l=!0)},o(t){At(r.$$.fragment,t),l=!1},d(t){t&&L(e),Pt(r),k(h,t),p&&p.d()}}}function Ld(t){let e,r,i,o,s;const a=[ce];let u={$$slots:{default:[$d]},$$scope:{ctx:t}};for(let t=0;t<a.length;t+=1)u=n(u,a[t]);return i=new ks({props:u}),i.$on("click",t[3]),{c(){e=R("div"),r=R("div"),Rt(i.$$.fragment),B(r,"class",o="card-container "+(t[1]?"is-selected":"")),B(e,"class","models-card-container svelte-13z306x")},m(t,n){$(t,e,n),F(e,r),Ot(i,r,null),s=!0},p(t,[e]){const n=0&e?$t(a,[Lt(ce)]):{};32769&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),(!s||2&e&&o!==(o="card-container "+(t[1]?"is-selected":"")))&&B(r,"class",o)},i(t){s||(It(i.$$.fragment,t),s=!0)},o(t){At(i.$$.fragment,t),s=!1},d(t){t&&L(e),Pt(i)}}}function kd(t){return t.replaceAll("\\_","_")}function Rd(t,e,n){let r,i;f(t,ge,(t=>n(4,r=t))),f(t,ye,(t=>n(5,i=t)));let{modelItem:o}=e,s=!1;const a=i,u=ge.subscribe((()=>{n(1,s=r.some((t=>t.name.includes(o.name))))}));function c(t){!function(t){if(s)_(ge,r=r.filter((e=>e.name!==t.name)),r);else{if(1===a)return void _(ge,r=[t],r);if(a>1&&r.length>=a)return void be.set("Models selected reached limit");_(ge,r=[...r,t],r)}}(t)}et(u);return t.$$set=t=>{"modelItem"in t&&n(0,o=t.modelItem)},[o,s,c,()=>c(o)]}Hs("");class Od extends Dt{constructor(t){super(),Nt(this,t,Rd,Ld,a,{modelItem:0})}}function Pd(t,e,n){const r=t.slice();return r[1]=e[n],r}function Nd(t){let e,n,r=t[1].name+"";return{c(){e=R("span"),n=P(r),B(e,"class","model svelte-19pd3wv")},m(t,r){$(t,e,r),F(e,n)},p(t,e){1&e&&r!==(r=t[1].name+"")&&V(n,r)},d(t){t&&L(e)}}}function Dd(t){let e,n,r,i,o,s,a=t[0].length+"",u=t[0],c=[];for(let e=0;e<u.length;e+=1)c[e]=Nd(Pd(t,u,e));return{c(){e=R("span"),n=P("Model(s) selected ("),r=P(a),i=P("):"),o=N();for(let t=0;t<c.length;t+=1)c[t].c();s=D(),B(e,"class","title svelte-19pd3wv")},m(t,a){$(t,e,a),F(e,n),F(e,r),F(e,i),$(t,o,a);for(let e=0;e<c.length;e+=1)c[e].m(t,a);$(t,s,a)},p(t,e){if(1&e&&a!==(a=t[0].length+"")&&V(r,a),1&e){let n;for(u=t[0],n=0;n<u.length;n+=1){const r=Pd(t,u,n);c[n]?c[n].p(r,e):(c[n]=Nd(r),c[n].c(),c[n].m(s.parentNode,s))}for(;n<c.length;n+=1)c[n].d(1);c.length=u.length}},d(t){t&&L(e),t&&L(o),k(c,t),t&&L(s)}}}function Ud(t){let e,r,i,o;const s=[ce];let a={$$slots:{default:[Dd]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)a=n(a,s[t]);return r=new ks({props:a}),{c(){e=R("div"),Rt(r.$$.fragment),B(e,"class",i="models-selected-container "+(t[0].length?"":"hidden-section")+" svelte-19pd3wv")},m(t,n){$(t,e,n),Ot(r,e,null),o=!0},p(t,[n]){const a=0&n?$t(s,[Lt(ce)]):{};17&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a),(!o||1&n&&i!==(i="models-selected-container "+(t[0].length?"":"hidden-section")+" svelte-19pd3wv"))&&B(e,"class",i)},i(t){o||(It(r.$$.fragment,t),o=!0)},o(t){At(r.$$.fragment,t),o=!1},d(t){t&&L(e),Pt(r)}}}function Md(t,e,n){let r;return f(t,ge,(t=>n(0,r=t))),[r]}Hs("");class Bd extends Dt{constructor(t){super(),Nt(this,t,Md,Ud,a,{})}}function Hd(t,e,n){const r=t.slice();return r[9]=e[n],r}function jd(t){let e;return{c(){e=P("keyboard_backspace")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function Vd(t){let e,n,r,i,o;return i=new vl({props:{class:"custom-loading-spin",indeterminate:!0}}),{c(){e=R("div"),n=R("div"),n.textContent="Fetching latest models from Model Catalog...",r=N(),Rt(i.$$.fragment),B(e,"class","centered svelte-1vkkaen")},m(t,s){$(t,e,s),F(e,n),F(e,r),Ot(i,e,null),o=!0},i(t){o||(It(i.$$.fragment,t),o=!0)},o(t){At(i.$$.fragment,t),o=!1},d(t){t&&L(e),Pt(i)}}}function qd(t){let e,n,r,i,o,s,a,u,c,l,d,f,h,p,g,m=t[2].length+"",v=t[1].length+"";function y(e){t[6](e)}let b={style:"width: 100%;",helperLine$style:"width: 100%;",label:"Model Name",$$slots:{trailingIcon:[Wd]},$$scope:{ctx:t}};return void 0!==t[3]&&(b.value=t[3]),r=new cl({props:b}),at.push((()=>kt(r,"value",y))),r.$on("input",t[5]),p=new ys({props:{color:"secondary",variant:"unelevated",disabled:!t[4].length,$$slots:{default:[Gd]},$$scope:{ctx:t}}}),p.$on("click",ni),{c(){e=R("div"),n=R("div"),Rt(r.$$.fragment),o=N(),s=R("div"),a=P("("),u=P(m),c=P(" / "),l=P(v),d=P(")"),f=N(),h=R("div"),Rt(p.$$.fragment),B(s,"class","filtered-length svelte-1vkkaen"),B(n,"class","search-box svelte-1vkkaen"),B(h,"class","continue-button svelte-1vkkaen"),B(e,"class","top-bar svelte-1vkkaen")},m(t,i){$(t,e,i),F(e,n),Ot(r,n,null),F(n,o),F(n,s),F(s,a),F(s,u),F(s,c),F(s,l),F(s,d),F(e,f),F(e,h),Ot(p,h,null),g=!0},p(t,e){const n={};4096&e&&(n.$$scope={dirty:e,ctx:t}),!i&&8&e&&(i=!0,n.value=t[3],pt((()=>i=!1))),r.$set(n),(!g||4&e)&&m!==(m=t[2].length+"")&&V(u,m),(!g||2&e)&&v!==(v=t[1].length+"")&&V(l,v);const o={};16&e&&(o.disabled=!t[4].length),4096&e&&(o.$$scope={dirty:e,ctx:t}),p.$set(o)},i(t){g||(It(r.$$.fragment,t),It(p.$$.fragment,t),g=!0)},o(t){At(r.$$.fragment,t),At(p.$$.fragment,t),g=!1},d(t){t&&L(e),Pt(r),Pt(p)}}}function Kd(t){let e;return{c(){e=P("search")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function Wd(t){let e,n;return e=new Ts({props:{class:"material-icons",slot:"trailingIcon",$$slots:{default:[Kd]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function zd(t){let e;return{c(){e=P("arrow_forward_ios")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function Jd(t){let e;return{c(){e=P("Continue")},m(t,n){$(t,e,n)},d(t){t&&L(e)}}}function Gd(t){let e,n,r,i;return e=new Ts({props:{class:"material-icons",$$slots:{default:[zd]},$$scope:{ctx:t}}}),r=new Cs({props:{$$slots:{default:[Jd]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment),n=N(),Rt(r.$$.fragment)},m(t,o){Ot(e,t,o),$(t,n,o),Ot(r,t,o),i=!0},p(t,n){const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const o={};4096&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(t){i||(It(e.$$.fragment,t),It(r.$$.fragment,t),i=!0)},o(t){At(e.$$.fragment,t),At(r.$$.fragment,t),i=!1},d(t){Pt(e,t),t&&L(n),Pt(r,t)}}}function Yd(t){let e,n,r=t[2],i=[];for(let e=0;e<r.length;e+=1)i[e]=Xd(Hd(t,r,e));const o=t=>At(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=D()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);$(t,e,r),n=!0},p(t,n){if(4&n){let s;for(r=t[2],s=0;s<r.length;s+=1){const o=Hd(t,r,s);i[s]?(i[s].p(o,n),It(i[s],1)):(i[s]=Xd(o),i[s].c(),It(i[s],1),i[s].m(e.parentNode,e))}for(xt(),s=r.length;s<i.length;s+=1)o(s);wt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)It(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)At(i[t]);n=!1},d(t){k(i,t),t&&L(e)}}}function Xd(t){let e,n;return e=new Od({props:{modelItem:t[9]}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.modelItem=t[9]),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function Qd(t){let e,n,r,i,o,s,a,u,c,l,d,f,h,p,g;i=new Ts({props:{class:"material-icons",$$slots:{default:[jd]},$$scope:{ctx:t}}}),i.$on("click",ri);let m=t[0]&&Vd(),v=!t[0]&&t[1].length&&qd(t),y=!t[0]&&t[1].length&&Yd(t);return p=new Bd({}),{c(){e=R("section"),n=R("div"),r=R("div"),Rt(i.$$.fragment),o=N(),s=R("h2"),s.textContent="Please select the model(s)",a=N(),u=R("div"),m&&m.c(),c=N(),v&&v.c(),l=N(),d=R("div"),y&&y.c(),f=N(),h=R("div"),Rt(p.$$.fragment),B(r,"class","go-back-btn"),B(s,"class","page-header-title"),B(n,"class","custom-section-header svelte-1vkkaen"),B(u,"class","search-container svelte-1vkkaen"),B(d,"class","model-list svelte-1vkkaen"),B(h,"class","models-selected-info svelte-1vkkaen"),B(e,"class","model-section-container svelte-1vkkaen")},m(t,b){$(t,e,b),F(e,n),F(n,r),Ot(i,r,null),F(n,o),F(n,s),F(e,a),F(e,u),m&&m.m(u,null),F(u,c),v&&v.m(u,null),F(e,l),F(e,d),y&&y.m(d,null),F(e,f),F(e,h),Ot(p,h,null),g=!0},p(t,[e]){const n={};4096&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),t[0]?m?1&e&&It(m,1):(m=Vd(),m.c(),It(m,1),m.m(u,c)):m&&(xt(),At(m,1,1,(()=>{m=null})),wt()),!t[0]&&t[1].length?v?(v.p(t,e),3&e&&It(v,1)):(v=qd(t),v.c(),It(v,1),v.m(u,null)):v&&(xt(),At(v,1,1,(()=>{v=null})),wt()),!t[0]&&t[1].length?y?(y.p(t,e),3&e&&It(y,1)):(y=Yd(t),y.c(),It(y,1),y.m(d,null)):y&&(xt(),At(y,1,1,(()=>{y=null})),wt())},i(t){g||(It(i.$$.fragment,t),It(m),It(v),It(y),It(p.$$.fragment,t),g=!0)},o(t){At(i.$$.fragment,t),At(m),At(v),At(y),At(p.$$.fragment,t),g=!1},d(t){t&&L(e),Pt(i),m&&m.d(),v&&v.d(),y&&y.d(),Pt(p)}}}function Zd(t,e,n){let r;f(t,ge,(t=>n(4,r=t)));let i=!1,o=[],s=[],a="";function u(t){n(2,s=t)}return tt((()=>{(async function(){n(0,i=!0),n(1,o=await async function(){const{URL:t,HIPPOCAMPUS_QUERY:e}=oe;return(await Zr.get(t+e)).data.filter((t=>t.images.length>0)).filter((t=>{const e=t.instances;if(!e||!e.length)return!1;const n=e[e.length-1].source;return!!n&&!!n.includes("optimizations_Python3")}))}()),ge.set([]),u(o)})().catch(be.set).finally((()=>n(0,i=!1)))})),[i,o,s,a,r,function(){if(""===a)return void u(o);u(o.filter((t=>{if(t.name.toLowerCase().includes(a.toLowerCase()))return!0;return!!se.BREADCRUMB_PROPERTIES.some((e=>!!t[e]&&t[e].toLowerCase().includes(a.toLowerCase())))})))},function(t){a=t,n(3,a)}]}Hs("");class tf extends Dt{constructor(t){super(),Nt(this,t,Zd,Qd,a,{})}}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var ef={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},nf={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},rf={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},of=rf.ARIA_LIVE_DELAY_MS,sf=nf.ARIA_LIVE_LABEL_TEXT_ATTR;function af(t,e){void 0===e&&(e=t);var n=t.getAttribute("aria-live"),r=e.textContent.trim();r&&n&&(t.setAttribute("aria-live","off"),e.textContent="",e.innerHTML='<span style="display: inline-block; width: 0; height: 1px;">&nbsp;</span>',e.setAttribute(sf,r),setTimeout((function(){t.setAttribute("aria-live",n),e.removeAttribute(sf),e.textContent=r}),of))}
/**
     * @license
     * Copyright 2018 Google Inc.
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var uf=ef.OPENING,cf=ef.OPEN,lf=ef.CLOSING,df=nf.REASON_ACTION,ff=nf.REASON_DISMISS,hf=function(t){function e(n){var r=t.call(this,_i(_i({},e.defaultAdapter),n))||this;return r.opened=!1,r.animationFrame=0,r.animationTimer=0,r.autoDismissTimer=0,r.autoDismissTimeoutMs=rf.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,r.closeOnEscape=!0,r}return bi(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ef},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return nf},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return rf},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.clearAutoDismissTimer(),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0,this.adapter.removeClass(uf),this.adapter.removeClass(cf),this.adapter.removeClass(lf)},e.prototype.open=function(){var t=this;this.clearAutoDismissTimer(),this.opened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(lf),this.adapter.addClass(uf),this.adapter.announce(),this.runNextAnimationFrame((function(){t.adapter.addClass(cf),t.animationTimer=setTimeout((function(){var e=t.getTimeoutMs();t.handleAnimationTimerEnd(),t.adapter.notifyOpened(),e!==rf.INDETERMINATE&&(t.autoDismissTimer=setTimeout((function(){t.close(ff)}),e))}),rf.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.opened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.clearAutoDismissTimer(),this.opened=!1,this.adapter.notifyClosing(t),this.adapter.addClass(ef.CLOSING),this.adapter.removeClass(ef.OPEN),this.adapter.removeClass(ef.OPENING),clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),rf.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.opened},e.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs},e.prototype.setTimeoutMs=function(t){var e=rf.MIN_AUTO_DISMISS_TIMEOUT_MS,n=rf.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(t===rf.INDETERMINATE||t<=n&&t>=e))throw new Error("\n        timeoutMs must be an integer in the range "+e+"–"+n+"\n        (or "+rf.INDETERMINATE+" to disable), but got '"+t+"'");this.autoDismissTimeoutMs=t},e.prototype.getCloseOnEscape=function(){return this.closeOnEscape},e.prototype.setCloseOnEscape=function(t){this.closeOnEscape=t},e.prototype.handleKeyDown=function(t){("Escape"===t.key||27===t.keyCode)&&this.getCloseOnEscape()&&this.close(ff)},e.prototype.handleActionButtonClick=function(t){this.close(df)},e.prototype.handleActionIconClick=function(t){this.close(ff)},e.prototype.clearAutoDismissTimer=function(){clearTimeout(this.autoDismissTimer),this.autoDismissTimer=0},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(ef.OPENING),this.adapter.removeClass(ef.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},e}(wi),pf=nf.SURFACE_SELECTOR,gf=nf.LABEL_SELECTOR,mf=nf.ACTION_SELECTOR,vf=nf.DISMISS_SELECTOR,yf=nf.OPENING_EVENT,bf=nf.OPENED_EVENT,_f=nf.CLOSING_EVENT,Ef=nf.CLOSED_EVENT;function Sf(t){let e,r,i,a,u,c,l,d,f;const p=t[25].default,y=h(p,t,t[24],null);let b=[{class:i=ui({[t[4]]:!0,"mdc-snackbar__surface":!0})},{role:"status"},{"aria-relevant":"additions"},pi(t[12],"surface$")],_={};for(let t=0;t<b.length;t+=1)_=n(_,b[t]);let S=[{class:u=ui({[t[1]]:!0,"mdc-snackbar":!0,"mdc-snackbar--stacked":"stacked"===t[2],"mdc-snackbar--leading":t[3],...t[8]})},li(t[12],["surface$"])],x={};for(let t=0;t<S.length;t+=1)x=n(x,S[t]);return{c(){e=R("aside"),r=R("div"),y&&y.c(),H(r,_),H(e,x)},m(n,i){$(n,e,i),F(e,r),y&&y.m(r,null),t[26](e),l=!0,d||(f=[E(a=gi.call(null,r,t[5])),U(r,"click",t[10]),E(c=gi.call(null,e,t[0])),E(t[9].call(null,e)),U(e,"SMUISnackbar:closed",t[11]),U(e,"keydown",t[27])],d=!0)},p(t,n){y&&y.p&&(!l||16777216&n[0])&&m(y,p,t,t[24],l?g(p,t[24],n,null):v(t[24]),null),H(r,_=$t(b,[(!l||16&n[0]&&i!==(i=ui({[t[4]]:!0,"mdc-snackbar__surface":!0})))&&{class:i},{role:"status"},{"aria-relevant":"additions"},4096&n[0]&&pi(t[12],"surface$")])),a&&s(a.update)&&32&n[0]&&a.update.call(null,t[5]),H(e,x=$t(S,[(!l||270&n[0]&&u!==(u=ui({[t[1]]:!0,"mdc-snackbar":!0,"mdc-snackbar--stacked":"stacked"===t[2],"mdc-snackbar--leading":t[3],...t[8]})))&&{class:u},4096&n[0]&&li(t[12],["surface$"])])),c&&s(c.update)&&1&n[0]&&c.update.call(null,t[0])},i(t){l||(It(y,t),l=!0)},o(t){At(y,t),l=!1},d(n){n&&L(e),y&&y.d(n),t[26](null),d=!1,o(f)}}}!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}bi(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){void 0===t&&(t=function(){return af}),this.announce=t()},e.prototype.initialSyncWithDOM=function(){var t=this;this.surfaceEl=this.root.querySelector(pf),this.labelEl=this.root.querySelector(gf),this.actionEl=this.root.querySelector(mf),this.handleKeyDown=function(e){t.foundation.handleKeyDown(e)},this.handleSurfaceClick=function(e){var n=e.target;t.isActionButton(n)?t.foundation.handleActionButtonClick(e):t.isActionIcon(n)&&t.foundation.handleActionIconClick(e)},this.registerKeyDownHandler(this.handleKeyDown),this.registerSurfaceClickHandler(this.handleSurfaceClick)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.deregisterKeyDownHandler(this.handleKeyDown),this.deregisterSurfaceClickHandler(this.handleSurfaceClick)},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=""),this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new hf({addClass:function(e){t.root.classList.add(e)},announce:function(){t.announce(t.labelEl)},notifyClosed:function(e){return t.emit(Ef,e?{reason:e}:{})},notifyClosing:function(e){return t.emit(_f,e?{reason:e}:{})},notifyOpened:function(){return t.emit(bf,{})},notifyOpening:function(){return t.emit(yf,{})},removeClass:function(e){return t.root.classList.remove(e)}})},Object.defineProperty(e.prototype,"timeoutMs",{get:function(){return this.foundation.getTimeoutMs()},set:function(t){this.foundation.setTimeoutMs(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeOnEscape",{get:function(){return this.foundation.getCloseOnEscape()},set:function(t){this.foundation.setCloseOnEscape(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelText",{get:function(){return this.labelEl.textContent},set:function(t){this.labelEl.textContent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionButtonText",{get:function(){return this.actionEl.textContent},set:function(t){this.actionEl.textContent=t},enumerable:!1,configurable:!0}),e.prototype.registerKeyDownHandler=function(t){this.listen("keydown",t)},e.prototype.deregisterKeyDownHandler=function(t){this.unlisten("keydown",t)},e.prototype.registerSurfaceClickHandler=function(t){this.surfaceEl.addEventListener("click",t)},e.prototype.deregisterSurfaceClickHandler=function(t){this.surfaceEl.removeEventListener("click",t)},e.prototype.isActionButton=function(t){return Boolean(Ci(t,mf))},e.prototype.isActionIcon=function(t){return Boolean(Ci(t,vf))}}(Ii);let xf=Promise.resolve();function wf(t,e,r){const i=["use","class","variant","leading","timeoutMs","closeOnEscape","labelText","actionButtonText","surface$class","surface$use","open","forceOpen","close","isOpen","getLabelElement","getActionButtonElement","getElement"];let o=b(e,i),{$$slots:s={},$$scope:a}=e;const{closest:u}=Li,c=hi(Z());let l=()=>{};function d(t){return t===l}let f,h,p,{use:g=[]}=e,{class:m=""}=e,{variant:v=""}=e,{leading:_=!1}=e,{timeoutMs:E=5e3}=e,{closeOnEscape:S=!0}=e,{labelText:x=l}=e,{actionButtonText:w=l}=e,{surface$class:I=""}=e,{surface$use:A=[]}=e,F={},C=new Promise((t=>p=t));function T(t){F[t]||r(8,F[t]=!0,F)}function $(t){t in F&&!F[t]||r(8,F[t]=!1,F)}function L(){var t;return null!==(t=R().querySelector(".mdc-snackbar__label"))&&void 0!==t?t:document.createElement("div")}function k(){var t;return null!==(t=R().querySelector(".mdc-snackbar__action"))&&void 0!==t?t:document.createElement("button")}function R(){return f}rt("SMUI:label:context","snackbar"),tt((()=>(r(6,h=new hf({addClass:T,announce:()=>af(L()),notifyClosed:t=>ci(R(),"SMUISnackbar:closed",t?{reason:t}:{},void 0,!0),notifyClosing:t=>ci(R(),"SMUISnackbar:closing",t?{reason:t}:{},void 0,!0),notifyOpened:()=>ci(R(),"SMUISnackbar:opened",void 0,void 0,!0),notifyOpening:()=>ci(R(),"SMUISnackbar:opening",void 0,void 0,!0),removeClass:$})),h.init(),()=>{h.destroy()})));return t.$$set=t=>{e=n(n({},e),y(t)),r(12,o=b(e,i)),"use"in t&&r(0,g=t.use),"class"in t&&r(1,m=t.class),"variant"in t&&r(2,v=t.variant),"leading"in t&&r(3,_=t.leading),"timeoutMs"in t&&r(13,E=t.timeoutMs),"closeOnEscape"in t&&r(14,S=t.closeOnEscape),"labelText"in t&&r(15,x=t.labelText),"actionButtonText"in t&&r(16,w=t.actionButtonText),"surface$class"in t&&r(4,I=t.surface$class),"surface$use"in t&&r(5,A=t.surface$use),"$$scope"in t&&r(24,a=t.$$scope)},t.$$.update=()=>{8256&t.$$.dirty[0]&&h&&h.getTimeoutMs()!==E&&h.setTimeoutMs(E),16448&t.$$.dirty[0]&&h&&h.getCloseOnEscape()!==S&&h.setCloseOnEscape(S),32832&t.$$.dirty[0]&&h&&!d(x)&&L().textContent!==x&&(L().textContent=x),65600&t.$$.dirty[0]&&h&&!d(w)&&k().textContent!==w&&(k().textContent=w)},[g,m,v,_,I,A,h,f,F,c,function(t){const e=t.target;h&&(u(e,".mdc-snackbar__action")?h.handleActionButtonClick(t):u(e,".mdc-snackbar__dismiss")&&h.handleActionIconClick(t))},function(){p(),C=new Promise((t=>p=t))},o,E,S,x,w,function(){xf=xf.then((()=>(h.open(),C)))},function(){return h.open()},function(t){return h.close(t)},function(){return h.isOpen()},L,k,R,a,s,function(t){at[t?"unshift":"push"]((()=>{f=t,r(7,f)}))},t=>h&&h.handleKeyDown(t)]}class If extends Dt{constructor(t){super(),Nt(this,t,wf,Sf,a,{use:0,class:1,variant:2,leading:3,timeoutMs:13,closeOnEscape:14,labelText:15,actionButtonText:16,surface$class:4,surface$use:5,open:17,forceOpen:18,close:19,isOpen:20,getLabelElement:21,getActionButtonElement:22,getElement:23},null,[-1,-1])}get open(){return this.$$.ctx[17]}get forceOpen(){return this.$$.ctx[18]}get close(){return this.$$.ctx[19]}get isOpen(){return this.$$.ctx[20]}get getLabelElement(){return this.$$.ctx[21]}get getActionButtonElement(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}function Af(t){let e;return{c(){e=P(t[0])},m(t,n){$(t,e,n)},p(t,n){1&n&&V(e,t[0])},d(t){t&&L(e)}}}function Ff(t){let e,n;return e=new Cs({props:{$$slots:{default:[Af]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment)},m(t,r){Ot(e,t,r),n=!0},p(t,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(It(e.$$.fragment,t),n=!0)},o(t){At(e.$$.fragment,t),n=!1},d(t){Pt(e,t)}}}function Cf(t){let e,n,r;return n=new If({props:{$$slots:{default:[Ff]},$$scope:{ctx:t}}}),t[2](n),{c(){e=R("div"),Rt(n.$$.fragment),B(e,"class","generic-snackbar-container")},m(t,i){$(t,e,i),Ot(n,e,null),r=!0},p(t,[e]){const r={};17&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(It(n.$$.fragment,t),r=!0)},o(t){At(n.$$.fragment,t),r=!1},d(r){r&&L(e),t[2](null),Pt(n)}}}function Tf(t,e,n){let r,i;function o(t,e,o=""){""!==t&&(n(0,r=`${o} ${t}`),i.open(),setTimeout((()=>{e.set("")}),5e3))}return be.subscribe((t=>{o(t,be,"Error:")})),_e.subscribe((t=>{o(t,_e)})),[r,i,function(t){at[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}Ms({class:"mdc-snackbar__actions",props:{"aria-atomic":"true"},contexts:{"SMUI:button:context":"snackbar:actions","SMUI:icon-button:context":"snackbar:actions","SMUI:label:context":void 0},component:is});class $f extends Dt{constructor(t){super(),Nt(this,t,Tf,Cf,a,{})}}function Lf(t){let e,n,r,i;return n=new Na({}),{c(){e=R("div"),Rt(n.$$.fragment)},m(t,r){$(t,e,r),Ot(n,e,null),i=!0},i(t){i||(It(n.$$.fragment,t),ht((()=>{r||(r=Ct(e,ai,{},!0)),r.run(1)})),i=!0)},o(t){At(n.$$.fragment,t),r||(r=Ct(e,ai,{},!1)),r.run(0),i=!1},d(t){t&&L(e),Pt(n),t&&r&&r.end()}}}function kf(t){let e,n,r,i;return n=new bd({}),{c(){e=R("div"),Rt(n.$$.fragment)},m(t,r){$(t,e,r),Ot(n,e,null),i=!0},i(t){i||(It(n.$$.fragment,t),ht((()=>{r||(r=Ct(e,ai,{},!0)),r.run(1)})),i=!0)},o(t){At(n.$$.fragment,t),r||(r=Ct(e,ai,{},!1)),r.run(0),i=!1},d(t){t&&L(e),Pt(n),t&&r&&r.end()}}}function Rf(t){let e,n,r,i;return n=new tf({}),{c(){e=R("div"),Rt(n.$$.fragment)},m(t,r){$(t,e,r),Ot(n,e,null),i=!0},i(t){i||(It(n.$$.fragment,t),ht((()=>{r||(r=Ct(e,ai,{},!0)),r.run(1)})),i=!0)},o(t){At(n.$$.fragment,t),r||(r=Ct(e,ai,{},!1)),r.run(0),i=!1},d(t){t&&L(e),Pt(n),t&&r&&r.end()}}}function Of(t){let e,n,r,i,o,s,a=t[0]===ne&&Lf(),u=t[0]===re&&kf(),c=t[0]===ie&&Rf();return o=new $f({}),{c(){e=R("main"),a&&a.c(),n=N(),u&&u.c(),r=N(),c&&c.c(),i=N(),Rt(o.$$.fragment),B(e,"class","svelte-1mi2q8m")},m(t,l){$(t,e,l),a&&a.m(e,null),F(e,n),u&&u.m(e,null),F(e,r),c&&c.m(e,null),F(e,i),Ot(o,e,null),s=!0},p(t,[o]){t[0]===ne?a?1&o&&It(a,1):(a=Lf(),a.c(),It(a,1),a.m(e,n)):a&&(xt(),At(a,1,1,(()=>{a=null})),wt()),t[0]===re?u?1&o&&It(u,1):(u=kf(),u.c(),It(u,1),u.m(e,r)):u&&(xt(),At(u,1,1,(()=>{u=null})),wt()),t[0]===ie?c?1&o&&It(c,1):(c=Rf(),c.c(),It(c,1),c.m(e,i)):c&&(xt(),At(c,1,1,(()=>{c=null})),wt())},i(t){s||(It(a),It(u),It(c),It(o.$$.fragment,t),s=!0)},o(t){At(a),At(u),At(c),At(o.$$.fragment,t),s=!1},d(t){t&&L(e),a&&a.d(),u&&u.d(),c&&c.d(),Pt(o)}}}function Pf(t,e,n){let r;return f(t,pe,(t=>n(0,r=t))),tt((()=>{oi()})),[r]}Hs("");let Nf;return Nf=new class extends Dt{constructor(t){super(),Nt(this,t,Pf,Of,a,{})}}({target:document.querySelector("#onlineUsecasesAppContainer")}),Nf}();
